var fm=Object.defineProperty;var Lf=u=>{throw TypeError(u)};var pm=(u,s,l)=>s in u?fm(u,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[s]=l;var kt=(u,s,l)=>pm(u,typeof s!="symbol"?s+"":s,l),Ic=(u,s,l)=>s.has(u)||Lf("Cannot "+l);var ue=(u,s,l)=>(Ic(u,s,"read from private field"),l?l.call(u):s.get(u)),Ye=(u,s,l)=>s.has(u)?Lf("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(u):s.set(u,l),et=(u,s,l,a)=>(Ic(u,s,"write to private field"),a?a.call(u,l):s.set(u,l),l),Qe=(u,s,l)=>(Ic(u,s,"access private method"),l);var ko=(u,s,l,a)=>({set _(h){et(u,s,h,l)},get _(){return ue(u,s,a)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const T of h)if(T.type==="childList")for(const F of T.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&a(F)}).observe(document,{childList:!0,subtree:!0});function l(h){const T={};return h.integrity&&(T.integrity=h.integrity),h.referrerPolicy&&(T.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?T.credentials="include":h.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function a(h){if(h.ep)return;h.ep=!0;const T=l(h);fetch(h.href,T)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function getAugmentedNamespace(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var s=u.default;if(typeof s=="function"){var l=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};l.prototype=s.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(u).forEach(function(a){var h=Object.getOwnPropertyDescriptor(u,a);Object.defineProperty(l,a,h.get?h:{enumerable:!0,get:function(){return u[a]}})}),l}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var u=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function l(a,h,T){var F=null;if(T!==void 0&&(F=""+T),h.key!==void 0&&(F=""+h.key),"key"in h){T={};for(var B in h)B!=="key"&&(T[B]=h[B])}else T=h;return h=T.ref,{$$typeof:u,type:a,key:F,ref:h!==void 0?h:null,props:T}}return reactJsxRuntime_production.Fragment=s,reactJsxRuntime_production.jsx=l,reactJsxRuntime_production.jsxs=l,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var u=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function d(V,z,L){this.props=V,this.context=z,this.refs=p,this.updater=L||A}d.prototype.isReactComponent={},d.prototype.setState=function(V,z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,z,"setState")},d.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function f(){}f.prototype=d.prototype;function C(V,z,L){this.props=V,this.context=z,this.refs=p,this.updater=L||A}var _=C.prototype=new f;_.constructor=C,m(_,d.prototype),_.isPureReactComponent=!0;var b=Array.isArray,i={H:null,A:null,T:null,S:null,V:null},v=Object.prototype.hasOwnProperty;function w(V,z,L,P,k,N){return L=N.ref,{$$typeof:u,type:V,key:z,ref:L!==void 0?L:null,props:N}}function E(V,z){return w(V.type,z,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===u}function G(V){var z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(L){return z[L]})}var K=/\/+/g;function he(V,z){return typeof V=="object"&&V!==null&&V.key!=null?G(""+V.key):z.toString(36)}function Ce(){}function be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ce,Ce):(V.status="pending",V.then(function(z){V.status==="pending"&&(V.status="fulfilled",V.value=z)},function(z){V.status==="pending"&&(V.status="rejected",V.reason=z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ve(V,z,L,P,k){var N=typeof V;(N==="undefined"||N==="boolean")&&(V=null);var j=!1;if(V===null)j=!0;else switch(N){case"bigint":case"string":case"number":j=!0;break;case"object":switch(V.$$typeof){case u:case s:j=!0;break;case g:return j=V._init,ve(j(V._payload),z,L,P,k)}}if(j)return k=k(V),j=P===""?"."+he(V,0):P,b(k)?(L="",j!=null&&(L=j.replace(K,"$&/")+"/"),ve(k,z,L,"",function(se){return se})):k!=null&&(I(k)&&(k=E(k,L+(k.key==null||V&&V.key===k.key?"":(""+k.key).replace(K,"$&/")+"/")+j)),z.push(k)),1;j=0;var q=P===""?".":P+":";if(b(V))for(var te=0;te<V.length;te++)P=V[te],N=q+he(P,te),j+=ve(P,z,L,N,k);else if(te=y(V),typeof te=="function")for(V=te.call(V),te=0;!(P=V.next()).done;)P=P.value,N=q+he(P,te++),j+=ve(P,z,L,N,k);else if(N==="object"){if(typeof V.then=="function")return ve(be(V),z,L,P,k);throw z=String(V),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return j}function Z(V,z,L){if(V==null)return V;var P=[],k=0;return ve(V,P,"","",function(N){return z.call(L,N,k++)}),P}function Q(V){if(V._status===-1){var z=V._result;z=z(),z.then(function(L){(V._status===0||V._status===-1)&&(V._status=1,V._result=L)},function(L){(V._status===0||V._status===-1)&&(V._status=2,V._result=L)}),V._status===-1&&(V._status=0,V._result=z)}if(V._status===1)return V._result.default;throw V._result}var ee=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function fe(){}return react_production.Children={map:Z,forEach:function(V,z,L){Z(V,function(){z.apply(this,arguments)},L)},count:function(V){var z=0;return Z(V,function(){z++}),z},toArray:function(V){return Z(V,function(z){return z})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},react_production.Component=d,react_production.Fragment=l,react_production.Profiler=h,react_production.PureComponent=C,react_production.StrictMode=a,react_production.Suspense=O,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(V){return i.H.useMemoCache(V)}},react_production.cache=function(V){return function(){return V.apply(null,arguments)}},react_production.cloneElement=function(V,z,L){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var P=m({},V.props),k=V.key,N=void 0;if(z!=null)for(j in z.ref!==void 0&&(N=void 0),z.key!==void 0&&(k=""+z.key),z)!v.call(z,j)||j==="key"||j==="__self"||j==="__source"||j==="ref"&&z.ref===void 0||(P[j]=z[j]);var j=arguments.length-2;if(j===1)P.children=L;else if(1<j){for(var q=Array(j),te=0;te<j;te++)q[te]=arguments[te+2];P.children=q}return w(V.type,k,void 0,void 0,N,P)},react_production.createContext=function(V){return V={$$typeof:F,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:T,_context:V},V},react_production.createElement=function(V,z,L){var P,k={},N=null;if(z!=null)for(P in z.key!==void 0&&(N=""+z.key),z)v.call(z,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(k[P]=z[P]);var j=arguments.length-2;if(j===1)k.children=L;else if(1<j){for(var q=Array(j),te=0;te<j;te++)q[te]=arguments[te+2];k.children=q}if(V&&V.defaultProps)for(P in j=V.defaultProps,j)k[P]===void 0&&(k[P]=j[P]);return w(V,N,void 0,void 0,null,k)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(V){return{$$typeof:B,render:V}},react_production.isValidElement=I,react_production.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:Q}},react_production.memo=function(V,z){return{$$typeof:o,type:V,compare:z===void 0?null:z}},react_production.startTransition=function(V){var z=i.T,L={};i.T=L;try{var P=V(),k=i.S;k!==null&&k(L,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(fe,ee)}catch(N){ee(N)}finally{i.T=z}},react_production.unstable_useCacheRefresh=function(){return i.H.useCacheRefresh()},react_production.use=function(V){return i.H.use(V)},react_production.useActionState=function(V,z,L){return i.H.useActionState(V,z,L)},react_production.useCallback=function(V,z){return i.H.useCallback(V,z)},react_production.useContext=function(V){return i.H.useContext(V)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(V,z){return i.H.useDeferredValue(V,z)},react_production.useEffect=function(V,z,L){var P=i.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(V,z)},react_production.useId=function(){return i.H.useId()},react_production.useImperativeHandle=function(V,z,L){return i.H.useImperativeHandle(V,z,L)},react_production.useInsertionEffect=function(V,z){return i.H.useInsertionEffect(V,z)},react_production.useLayoutEffect=function(V,z){return i.H.useLayoutEffect(V,z)},react_production.useMemo=function(V,z){return i.H.useMemo(V,z)},react_production.useOptimistic=function(V,z){return i.H.useOptimistic(V,z)},react_production.useReducer=function(V,z,L){return i.H.useReducer(V,z,L)},react_production.useRef=function(V){return i.H.useRef(V)},react_production.useState=function(V){return i.H.useState(V)},react_production.useSyncExternalStore=function(V,z,L){return i.H.useSyncExternalStore(V,z,L)},react_production.useTransition=function(){return i.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(u){function s(Z,Q){var ee=Z.length;Z.push(Q);e:for(;0<ee;){var fe=ee-1>>>1,V=Z[fe];if(0<h(V,Q))Z[fe]=Q,Z[ee]=V,ee=fe;else break e}}function l(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var Q=Z[0],ee=Z.pop();if(ee!==Q){Z[0]=ee;e:for(var fe=0,V=Z.length,z=V>>>1;fe<z;){var L=2*(fe+1)-1,P=Z[L],k=L+1,N=Z[k];if(0>h(P,ee))k<V&&0>h(N,P)?(Z[fe]=N,Z[k]=ee,fe=k):(Z[fe]=P,Z[L]=ee,fe=L);else if(k<V&&0>h(N,ee))Z[fe]=N,Z[k]=ee,fe=k;else break e}}return Q}function h(Z,Q){var ee=Z.sortIndex-Q.sortIndex;return ee!==0?ee:Z.id-Q.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;u.unstable_now=function(){return T.now()}}else{var F=Date,B=F.now();u.unstable_now=function(){return F.now()-B}}var O=[],o=[],g=1,x=null,y=3,A=!1,m=!1,p=!1,d=!1,f=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function b(Z){for(var Q=l(o);Q!==null;){if(Q.callback===null)a(o);else if(Q.startTime<=Z)a(o),Q.sortIndex=Q.expirationTime,s(O,Q);else break;Q=l(o)}}function i(Z){if(p=!1,b(Z),!m)if(l(O)!==null)m=!0,v||(v=!0,he());else{var Q=l(o);Q!==null&&ve(i,Q.startTime-Z)}}var v=!1,w=-1,E=5,I=-1;function G(){return d?!0:!(u.unstable_now()-I<E)}function K(){if(d=!1,v){var Z=u.unstable_now();I=Z;var Q=!0;try{e:{m=!1,p&&(p=!1,C(w),w=-1),A=!0;var ee=y;try{t:{for(b(Z),x=l(O);x!==null&&!(x.expirationTime>Z&&G());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,y=x.priorityLevel;var V=fe(x.expirationTime<=Z);if(Z=u.unstable_now(),typeof V=="function"){x.callback=V,b(Z),Q=!0;break t}x===l(O)&&a(O),b(Z)}else a(O);x=l(O)}if(x!==null)Q=!0;else{var z=l(o);z!==null&&ve(i,z.startTime-Z),Q=!1}}break e}finally{x=null,y=ee,A=!1}Q=void 0}}finally{Q?he():v=!1}}}var he;if(typeof _=="function")he=function(){_(K)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,be=Ce.port2;Ce.port1.onmessage=K,he=function(){be.postMessage(null)}}else he=function(){f(K,0)};function ve(Z,Q){w=f(function(){Z(u.unstable_now())},Q)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Z){Z.callback=null},u.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Z?Math.floor(1e3/Z):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var ee=y;y=Q;try{return Z()}finally{y=ee}},u.unstable_requestPaint=function(){d=!0},u.unstable_runWithPriority=function(Z,Q){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=y;y=Z;try{return Q()}finally{y=ee}},u.unstable_scheduleCallback=function(Z,Q,ee){var fe=u.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,Z={id:g++,callback:Q,priorityLevel:Z,startTime:ee,expirationTime:V,sortIndex:-1},ee>fe?(Z.sortIndex=ee,s(o,Z),l(O)===null&&Z===l(o)&&(p?(C(w),w=-1):p=!0,ve(i,ee-fe))):(Z.sortIndex=V,s(O,Z),m||A||(m=!0,v||(v=!0,he()))),Z},u.unstable_shouldYield=G,u.unstable_wrapCallback=function(Z){var Q=y;return function(){var ee=y;y=Q;try{return Z.apply(this,arguments)}finally{y=ee}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var u=requireReact();function s(O){var o="https://react.dev/errors/"+O;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)o+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+O+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(s(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},h=Symbol.for("react.portal");function T(O,o,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:x==null?null:""+x,children:O,containerInfo:o,implementation:g}}var F=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(O,o){if(O==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,reactDom_production.createPortal=function(O,o){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(s(299));return T(O,o,null,g)},reactDom_production.flushSync=function(O){var o=F.T,g=a.p;try{if(F.T=null,a.p=2,O)return O()}finally{F.T=o,a.p=g,a.d.f()}},reactDom_production.preconnect=function(O,o){typeof O=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,a.d.C(O,o))},reactDom_production.prefetchDNS=function(O){typeof O=="string"&&a.d.D(O)},reactDom_production.preinit=function(O,o){if(typeof O=="string"&&o&&typeof o.as=="string"){var g=o.as,x=B(g,o.crossOrigin),y=typeof o.integrity=="string"?o.integrity:void 0,A=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;g==="style"?a.d.S(O,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:A}):g==="script"&&a.d.X(O,{crossOrigin:x,integrity:y,fetchPriority:A,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},reactDom_production.preinitModule=function(O,o){if(typeof O=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var g=B(o.as,o.crossOrigin);a.d.M(O,{crossOrigin:g,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&a.d.M(O)},reactDom_production.preload=function(O,o){if(typeof O=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var g=o.as,x=B(g,o.crossOrigin);a.d.L(O,g,{crossOrigin:x,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},reactDom_production.preloadModule=function(O,o){if(typeof O=="string")if(o){var g=B(o.as,o.crossOrigin);a.d.m(O,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:g,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else a.d.m(O)},reactDom_production.requestFormReset=function(O){a.d.r(O)},reactDom_production.unstable_batchedUpdates=function(O,o){return O(o)},reactDom_production.useFormState=function(O,o,g){return F.H.useFormState(O,o,g)},reactDom_production.useFormStatus=function(){return F.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var u=requireScheduler(),s=requireReact(),l=requireReactDom();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function F(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B(e){if(T(e)!==e)throw Error(a(188))}function O(e){var t=e.alternate;if(!t){if(t=T(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var S=n.return;if(S===null)break;var D=S.alternate;if(D===null){if(r=S.return,r!==null){n=r;continue}break}if(S.child===D.child){for(D=S.child;D;){if(D===n)return B(S),e;if(D===r)return B(S),t;D=D.sibling}throw Error(a(188))}if(n.return!==r.return)n=S,r=D;else{for(var ie=!1,ge=S.child;ge;){if(ge===n){ie=!0,n=S,r=D;break}if(ge===r){ie=!0,r=S,n=D;break}ge=ge.sibling}if(!ie){for(ge=D.child;ge;){if(ge===n){ie=!0,n=D,r=S;break}if(ge===r){ie=!0,r=D,n=S;break}ge=ge.sibling}if(!ie)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function o(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=o(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function be(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case m:return"Fragment";case d:return"Profiler";case p:return"StrictMode";case i:return"Suspense";case v:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case _:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}var ve=Array.isArray,Z=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},fe=[],V=-1;function z(e){return{current:e}}function L(e){0>V||(e.current=fe[V],fe[V]=null,V--)}function P(e,t){V++,fe[V]=e.current,e.current=t}var k=z(null),N=z(null),j=z(null),q=z(null);function te(e,t){switch(P(j,t),P(N,e),P(k,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?uf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=uf(t),e=cf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(k),P(k,e)}function se(){L(k),L(N),L(j)}function re(e){e.memoizedState!==null&&P(q,e);var t=k.current,n=cf(t,e.type);t!==n&&(P(N,e),P(k,n))}function ce(e){N.current===e&&(L(k),L(N)),q.current===e&&(L(q),To._currentValue=ee)}var H=Object.prototype.hasOwnProperty,W=u.unstable_scheduleCallback,ne=u.unstable_cancelCallback,$=u.unstable_shouldYield,R=u.unstable_requestPaint,U=u.unstable_now,X=u.unstable_getCurrentPriorityLevel,J=u.unstable_ImmediatePriority,le=u.unstable_UserBlockingPriority,ae=u.unstable_NormalPriority,pe=u.unstable_LowPriority,oe=u.unstable_IdlePriority,_e=u.log,Ae=u.unstable_setDisableYieldValue,ke=null,Me=null;function Fe(e){if(typeof _e=="function"&&Ae(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(ke,e)}catch{}}var Ge=Math.clz32?Math.clz32:me,at=Math.log,De=Math.LN2;function me(e){return e>>>=0,e===0?32:31-(at(e)/De|0)|0}var de=256,Se=4194304;function Be(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ze(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var S=0,D=e.suspendedLanes,ie=e.pingedLanes;e=e.warmLanes;var ge=r&134217727;return ge!==0?(r=ge&~D,r!==0?S=Be(r):(ie&=ge,ie!==0?S=Be(ie):n||(n=ge&~e,n!==0&&(S=Be(n))))):(ge=r&~D,ge!==0?S=Be(ge):ie!==0?S=Be(ie):n||(n=r&~e,n!==0&&(S=Be(n)))),S===0?0:t!==0&&t!==S&&(t&D)===0&&(D=S&-S,n=t&-t,D>=n||D===32&&(n&4194048)!==0)?t:S}function ut(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function St(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var e=de;return de<<=1,(de&4194048)===0&&(de=256),e}function it(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function qe(e,t,n,r,S,D){var ie=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var ge=e.entanglements,Ee=e.expirationTimes,Ie=e.hiddenUpdates;for(n=ie&~n;0<n;){var Ve=31-Ge(n),Je=1<<Ve;ge[Ve]=0,Ee[Ve]=-1;var Ue=Ie[Ve];if(Ue!==null)for(Ie[Ve]=null,Ve=0;Ve<Ue.length;Ve++){var He=Ue[Ve];He!==null&&(He.lane&=-536870913)}n&=~Je}r!==0&&ot(e,r,0),D!==0&&S===0&&e.tag!==0&&(e.suspendedLanes|=D&~(ie&~t))}function ot(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ge(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function $e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ge(n),S=1<<r;S&t|e[r]&t&&(e[r]|=t),n&=~S}}function pt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function we(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Pf(e.type))}function Xe(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var st=Math.random().toString(36).slice(2),tt="__reactFiber$"+st,lt="__reactProps$"+st,ct="__reactContainer$"+st,_t="__reactEvents$"+st,Tt="__reactListeners$"+st,It="__reactHandles$"+st,Yt="__reactResources$"+st,Nt="__reactMarker$"+st;function Mt(e){delete e[tt],delete e[lt],delete e[_t],delete e[Tt],delete e[It]}function Zt(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ct]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pf(e);e!==null;){if(n=e[tt])return n;e=pf(e)}return t}e=n,n=e.parentNode}return null}function en(e){if(e=e[tt]||e[ct]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function fn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Gt(e){var t=e[Yt];return t||(t=e[Yt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pt(e){e[Nt]=!0}var Er=new Set,Vr={};function on(e,t){rn(e,t),rn(e+"Capture",t)}function rn(e,t){for(Vr[e]=t,e=0;e<t.length;e++)Er.add(t[e])}var Bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},Jn={};function Fo(e){return H.call(Jn,e)?!0:H.call(lr,e)?!1:Bn.test(e)?Jn[e]=!0:(lr[e]=!0,!1)}function Sa(e,t,n){if(Fo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ka(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Un(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Ci,Es;function Yr(e){if(Ci===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ci=t&&t[1]||"",Es=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ci+e+Es}var Ti=!1;function Ri(e,t){if(!e||Ti)return"";Ti=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(He){var Ue=He}Reflect.construct(e,[],Je)}else{try{Je.call()}catch(He){Ue=He}e.call(Je.prototype)}}else{try{throw Error()}catch(He){Ue=He}(Je=e())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(He){if(He&&Ue&&typeof He.stack=="string")return[He.stack,Ue.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=r.DetermineComponentFrameRoot(),ie=D[0],ge=D[1];if(ie&&ge){var Ee=ie.split(`
`),Ie=ge.split(`
`);for(S=r=0;r<Ee.length&&!Ee[r].includes("DetermineComponentFrameRoot");)r++;for(;S<Ie.length&&!Ie[S].includes("DetermineComponentFrameRoot");)S++;if(r===Ee.length||S===Ie.length)for(r=Ee.length-1,S=Ie.length-1;1<=r&&0<=S&&Ee[r]!==Ie[S];)S--;for(;1<=r&&0<=S;r--,S--)if(Ee[r]!==Ie[S]){if(r!==1||S!==1)do if(r--,S--,0>S||Ee[r]!==Ie[S]){var Ve=`
`+Ee[r].replace(" at new "," at ");return e.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",e.displayName)),Ve}while(1<=r&&0<=S);break}}}finally{Ti=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Yr(n):""}function Cs(e){switch(e.tag){case 26:case 27:case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return Ri(e.type,!1);case 11:return Ri(e.type.render,!1);case 1:return Ri(e.type,!0);case 31:return Yr("Activity");default:return""}}function xi(e){try{var t="";do t+=Cs(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $l(e){var t=Lo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var S=n.get,D=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return S.call(this)},set:function(ie){r=""+ie,D.call(this,ie)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(ie){r=""+ie},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){e._valueTracker||(e._valueTracker=$l(e))}function Ts(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Lo(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kl=/[\n"\\]/g;function yn(e){return e.replace(Kl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $r(e,t,n,r,S,D,ie,ge){e.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?e.type=ie:e.removeAttribute("type"),t!=null?ie==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zn(t)):e.value!==""+zn(t)&&(e.value=""+zn(t)):ie!=="submit"&&ie!=="reset"||e.removeAttribute("value"),t!=null?Rn(e,ie,zn(t)):n!=null?Rn(e,ie,zn(n)):r!=null&&e.removeAttribute("value"),S==null&&D!=null&&(e.defaultChecked=!!D),S!=null&&(e.checked=S&&typeof S!="function"&&typeof S!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?e.name=""+zn(ge):e.removeAttribute("name")}function Qa(e,t,n,r,S,D,ie,ge){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(e.type=D),t!=null||n!=null){if(!(D!=="submit"&&D!=="reset"||t!=null))return;n=n!=null?""+zn(n):"",t=t!=null?""+zn(t):n,ge||t===e.value||(e.value=t),e.defaultValue=t}r=r??S,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=ge?e.checked:!!r,e.defaultChecked=!!r,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(e.name=ie)}function Rn(e,t,n){t==="number"&&Cr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Kr(e,t,n,r){if(e=e.options,t){t={};for(var S=0;S<n.length;S++)t["$"+n[S]]=!0;for(n=0;n<e.length;n++)S=t.hasOwnProperty("$"+e[n].value),e[n].selected!==S&&(e[n].selected=S),S&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zn(n),t=null,S=0;S<e.length;S++){if(e[S].value===n){e[S].selected=!0,r&&(e[S].defaultSelected=!0);return}t!==null||e[S].disabled||(t=e[S])}t!==null&&(t.selected=!0)}}function Pi(e,t,n){if(t!=null&&(t=""+zn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zn(n):""}function Rs(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(a(92));if(ve(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=zn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Tr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xs(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||ki.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Io(e,t,n){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var S in t)r=t[S],t.hasOwnProperty(S)&&n[S]!==r&&xs(e,S,r)}else for(var D in t)t.hasOwnProperty(D)&&xs(e,D,t[D])}function ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mi(e){return Za.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ks=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qr=null,Zr=null;function No(e){var t=en(e);if(t&&(e=t.stateNode)){var n=e[lt]||null;e:switch(e=t.stateNode,t.type){case"input":if($r(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var S=r[lt]||null;if(!S)throw Error(a(90));$r(r,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Ts(r)}break e;case"textarea":Pi(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Kr(e,!!n.multiple,t,!1)}}}var Oi=!1;function Di(e,t,n){if(Oi)return e(t,n);Oi=!0;try{var r=e(t);return r}finally{if(Oi=!1,(Qr!==null||Zr!==null)&&(Cl(),Qr&&(t=Qr,e=Zr,Zr=Qr=null,No(t),e)))for(t=0;t<e.length;t++)No(e[t])}}function jn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[lt]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(Sn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Fi=!1}var Rr=null,Aa=null,Lr=null;function ei(){if(Lr)return Lr;var e,t=Aa,n=t.length,r,S="value"in Rr?Rr.value:Rr.textContent,D=S.length;for(e=0;e<n&&t[e]===S[e];e++);var ie=n-e;for(r=1;r<=ie&&t[n-r]===S[D-r];r++);return Lr=S.slice(e,1<r?1-r:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Bo(){return!1}function xn(e){function t(n,r,S,D,ie){this._reactName=n,this._targetInst=S,this.type=r,this.nativeEvent=D,this.target=ie,this.currentTarget=null;for(var ge in e)e.hasOwnProperty(ge)&&(n=e[ge],this[ge]=n?n(D):D[ge]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Li:Bo,this.isPropagationStopped=Bo,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=xn(ea),ti=g({},ea,{view:0,detail:0}),Uo=xn(ti),Os,Ds,ni,er=g({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(Os=e.screenX-ni.screenX,Ds=e.screenY-ni.screenY):Ds=Os=0,ni=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Ds}}),Fs=xn(er),Ql=g({},er,{dataTransfer:0}),zo=xn(Ql),_a=g({},ti,{relatedTarget:0}),Ir=xn(_a),Ni=g({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),jo=xn(Ni),Zl=g({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ls=xn(Zl),Is=g({},ea,{data:0}),Bi=xn(Is),Jl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tu[e])?!!t[e]:!1}function Hn(){return nu}var ru=g({},ti,{key:function(e){if(e.key){var t=Jl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),au=xn(ru),iu=g({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ri=xn(iu),Ns=g({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),xr=xn(Ns),ta=g({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=xn(ta),Ho=g({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ou=xn(Ho),lu=g({},ea,{newState:0,oldState:0}),Wo=xn(lu),uu=[9,13,27,32],Ui=Sn&&"CompositionEvent"in window,Ea=null;Sn&&"documentMode"in document&&(Ea=document.documentMode);var Go=Sn&&"TextEvent"in window&&!Ea,na=Sn&&(!Ui||Ea&&8<Ea&&11>=Ea),zi=" ",Bs=!1;function qo(e,t){switch(e){case"keyup":return uu.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ai(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function cu(e,t){switch(e){case"compositionend":return ai(t);case"keypress":return t.which!==32?null:(Bs=!0,zi);case"textInput":return e=t.data,e===zi&&Bs?null:e;default:return null}}function Xo(e,t){if(Ca)return e==="compositionend"||!Ui&&qo(e,t)?(e=ei(),Lr=Aa=Rr=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return na&&t.locale!=="ko"?null:t.data;default:return null}}var du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!du[e.type]:t==="textarea"}function Ta(e,t,n,r){Qr?Zr?Zr.push(r):Zr=[r]:Qr=r,t=kl(t,"onChange"),0<t.length&&(n=new Ii("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var si=null,oi=null;function Us(e){rf(e,0)}function li(e){var t=fn(e);if(Ts(t))return e}function ui(e,t){if(e==="change")return t}var ji=!1;if(Sn){var wr;if(Sn){var ra="oninput"in document;if(!ra){var ci=document.createElement("div");ci.setAttribute("oninput","return;"),ra=typeof ci.oninput=="function"}wr=ra}else wr=!1;ji=wr&&(!document.documentMode||9<document.documentMode)}function zs(){si&&(si.detachEvent("onpropertychange",Vo),oi=si=null)}function Vo(e){if(e.propertyName==="value"&&li(oi)){var t=[];Ta(t,oi,e,Ms(e)),Di(Us,t)}}function js(e,t,n){e==="focusin"?(zs(),si=t,oi=n,si.attachEvent("onpropertychange",Vo)):e==="focusout"&&zs()}function hu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(oi)}function Yo(e,t){if(e==="click")return li(t)}function Hi(e,t){if(e==="input"||e==="change")return li(t)}function Hs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:Hs;function Ra(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var S=n[r];if(!H.call(t,S)||!wn(e[S],t[S]))return!1}return!0}function $o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ko(e,t){var n=$o(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$o(n)}}function Wi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cr(e.document)}return t}function di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var fu=Sn&&"documentMode"in document&&11>=document.documentMode,xa=null,Ws=null,hi=null,Gi=!1;function ur(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gi||xa==null||xa!==Cr(r)||(r=xa,"selectionStart"in r&&di(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hi&&Ra(hi,r)||(hi=r,r=kl(Ws,"onSelect"),0<r.length&&(t=new Ii("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xa)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},qi={},fi={};Sn&&(fi=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);function On(e){if(qi[e])return qi[e];if(!dr[e])return e;var t=dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fi)return qi[e]=t[n];return e}var aa=On("animationend"),Wn=On("animationiteration"),Xi=On("animationstart"),pu=On("transitionrun"),wa=On("transitionstart"),Zo=On("transitioncancel"),Jo=On("transitionend"),pi=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function tr(e,t){pi.set(e,t),on(t,[e])}var el=new WeakMap;function Gn(e,t){if(typeof e=="object"&&e!==null){var n=el.get(e);return n!==void 0?n:(t={value:e,source:t,stack:xi(t)},el.set(e,t),t)}return{value:e,source:t,stack:xi(t)}}var qn=[],Pa=0,qs=0;function Vi(){for(var e=Pa,t=qs=Pa=0;t<e;){var n=qn[t];qn[t++]=null;var r=qn[t];qn[t++]=null;var S=qn[t];qn[t++]=null;var D=qn[t];if(qn[t++]=null,r!==null&&S!==null){var ie=r.pending;ie===null?S.next=S:(S.next=ie.next,ie.next=S),r.pending=S}D!==0&&tl(n,S,D)}}function Yi(e,t,n,r){qn[Pa++]=e,qn[Pa++]=t,qn[Pa++]=n,qn[Pa++]=r,qs|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Xs(e,t,n,r){return Yi(e,t,n,r),$i(e)}function ka(e,t){return Yi(e,null,null,t),$i(e)}function tl(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var S=!1,D=e.return;D!==null;)D.childLanes|=n,r=D.alternate,r!==null&&(r.childLanes|=n),D.tag===22&&(e=D.stateNode,e===null||e._visibility&1||(S=!0)),e=D,D=D.return;return e.tag===3?(D=e.stateNode,S&&t!==null&&(S=31-Ge(n),e=D.hiddenUpdates,r=e[S],r===null?e[S]=[t]:r.push(t),t.lane=n|536870912),D):null}function $i(e){if(50<vo)throw vo=0,sc=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ia={};function mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,n,r){return new mu(e,t,n,r)}function ln(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fn(e,t){var n=e.alternate;return n===null?(n=Dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vs(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ma(e,t,n,r,S,D){var ie=0;if(r=e,typeof e=="function")ln(e)&&(ie=1);else if(typeof e=="string")ie=em(e,n,k.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case I:return e=Dn(31,n,t,S),e.elementType=I,e.lanes=D,e;case m:return Pn(n.children,S,D,t);case p:ie=8,S|=24;break;case d:return e=Dn(12,n,t,S|2),e.elementType=d,e.lanes=D,e;case i:return e=Dn(13,n,t,S),e.elementType=i,e.lanes=D,e;case v:return e=Dn(19,n,t,S),e.elementType=v,e.lanes=D,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f:case _:ie=10;break e;case C:ie=9;break e;case b:ie=11;break e;case w:ie=14;break e;case E:ie=16,r=null;break e}ie=29,n=Error(a(130,e===null?"null":typeof e,"")),r=null}return t=Dn(ie,n,t,S),t.elementType=e,t.type=r,t.lanes=D,t}function Pn(e,t,n,r){return e=Dn(7,e,r,t),e.lanes=n,e}function hr(e,t,n){return e=Dn(6,e,null,t),e.lanes=n,e}function Ln(e,t,n){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fr=[],sa=0,pr=null,mi=0,In=[],An=0,Nr=null,mr=1,gr="";function vr(e,t){fr[sa++]=mi,fr[sa++]=pr,pr=e,mi=t}function Ys(e,t,n){In[An++]=mr,In[An++]=gr,In[An++]=Nr,Nr=e;var r=mr;e=gr;var S=32-Ge(r)-1;r&=~(1<<S),n+=1;var D=32-Ge(t)+S;if(30<D){var ie=S-S%5;D=(r&(1<<ie)-1).toString(32),r>>=ie,S-=ie,mr=1<<32-Ge(t)+S|n<<S|r,gr=D+e}else mr=1<<D|n<<S|r,gr=e}function Ki(e){e.return!==null&&(vr(e,1),Ys(e,1,0))}function $s(e){for(;e===pr;)pr=fr[--sa],fr[sa]=null,mi=fr[--sa],fr[sa]=null;for(;e===Nr;)Nr=In[--An],In[An]=null,gr=In[--An],In[An]=null,mr=In[--An],In[An]=null}var _n=null,Kt=null,Dt=!1,oa=null,Nn=!1,Ks=Error(a(519));function Br(e){var t=Error(a(418,""));throw zr(Gn(t,e)),Ks}function Qs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[tt]=e,t[lt]=r,n){case"dialog":wt("cancel",t),wt("close",t);break;case"iframe":case"object":case"embed":wt("load",t);break;case"video":case"audio":for(n=0;n<yo.length;n++)wt(yo[n],t);break;case"source":wt("error",t);break;case"img":case"image":case"link":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"input":wt("invalid",t),Qa(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),wi(t);break;case"select":wt("invalid",t);break;case"textarea":wt("invalid",t),Rs(t,r.value,r.defaultValue,r.children),wi(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||lf(t.textContent,n)?(r.popover!=null&&(wt("beforetoggle",t),wt("toggle",t)),r.onScroll!=null&&wt("scroll",t),r.onScrollEnd!=null&&wt("scrollend",t),r.onClick!=null&&(t.onclick=Ml),t=!0):t=!1,t||Br(e)}function Qi(e){for(_n=e.return;_n;)switch(_n.tag){case 5:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:_n=_n.return}}function la(e){if(e!==_n)return!1;if(!Dt)return Qi(e),Dt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||_c(e.type,e.memoizedProps)),n=!n),n&&Kt&&Br(e),Qi(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Kt=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Kt=null}}else t===27?(t=Kt,Ga(e.type)?(e=Rc,Rc=null,Kt=e):Kt=t):Kt=_n?Fr(e.stateNode.nextSibling):null;return!0}function Ur(){Kt=_n=null,Dt=!1}function Pr(){var e=oa;return e!==null&&(Zn===null?Zn=e:Zn.push.apply(Zn,e),oa=null),e}function zr(e){oa===null?oa=[e]:oa.push(e)}var Zs=z(null),ua=null,Xn=null;function kr(e,t,n){P(Zs,t._currentValue),t._currentValue=n}function Mr(e){e._currentValue=Zs.current,L(Zs)}function Zi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Js(e,t,n,r){var S=e.child;for(S!==null&&(S.return=e);S!==null;){var D=S.dependencies;if(D!==null){var ie=S.child;D=D.firstContext;e:for(;D!==null;){var ge=D;D=S;for(var Ee=0;Ee<t.length;Ee++)if(ge.context===t[Ee]){D.lanes|=n,ge=D.alternate,ge!==null&&(ge.lanes|=n),Zi(D.return,n,e),r||(ie=null);break e}D=ge.next}}else if(S.tag===18){if(ie=S.return,ie===null)throw Error(a(341));ie.lanes|=n,D=ie.alternate,D!==null&&(D.lanes|=n),Zi(ie,n,e),ie=null}else ie=S.child;if(ie!==null)ie.return=S;else for(ie=S;ie!==null;){if(ie===e){ie=null;break}if(S=ie.sibling,S!==null){S.return=ie.return,ie=S;break}ie=ie.return}S=ie}}function gi(e,t,n,r){e=null;for(var S=t,D=!1;S!==null;){if(!D){if((S.flags&524288)!==0)D=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var ie=S.alternate;if(ie===null)throw Error(a(387));if(ie=ie.memoizedProps,ie!==null){var ge=S.type;wn(S.pendingProps.value,ie.value)||(e!==null?e.push(ge):e=[ge])}}else if(S===q.current){if(ie=S.alternate,ie===null)throw Error(a(387));ie.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(e!==null?e.push(To):e=[To])}S=S.return}e!==null&&Js(t,e,n,r),t.flags|=262144}function Ji(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){ua=e,Xn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pn(e){return vi(ua,e)}function es(e,t){return ua===null&&ca(e),vi(e,t)}function vi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Xn===null){if(e===null)throw Error(a(308));Xn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Xn=Xn.next=t;return n}var eo=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Oa=u.unstable_scheduleCallback,nl=u.unstable_NormalPriority,c={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function M(){return{controller:new eo,data:new Map,refCount:0}}function Y(e){e.refCount--,e.refCount===0&&Oa(nl,function(){e.controller.abort()})}var ye=null,Te=0,xe=0,je=null;function rt(e,t){if(ye===null){var n=ye=[];Te=0,xe=fc(),je={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Te++,t.then(ht,ht),t}function ht(){if(--Te===0&&ye!==null){je!==null&&(je.status="fulfilled");var e=ye;ye=null,xe=0,je=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function nt(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(S){n.push(S)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var S=0;S<n.length;S++)(0,n[S])(t)},function(S){for(r.status="rejected",r.reason=S,S=0;S<n.length;S++)(0,n[S])(void 0)}),r}var gt=Z.S;Z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&rt(e,t),gt!==null&&gt(e,t)};var bt=z(null);function Et(){var e=bt.current;return e!==null?e:Vt.pooledCache}function $t(e,t){t===null?P(bt,bt.current):P(bt,t.pool)}function kn(){var e=Et();return e===null?null:{parent:c._currentValue,pool:e}}var mn=Error(a(460)),nr=Error(a(474)),tn=Error(a(542)),Vn={then:function(){}};function Mn(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yn(){}function qt(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Yn,Yn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xt(e),e;default:if(typeof t.status=="string")t.then(Yn,Yn);else{if(e=Vt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var S=t;S.status="fulfilled",S.value=r}},function(r){if(t.status==="pending"){var S=t;S.status="rejected",S.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xt(e),e}throw mt=t,mn}}var mt=null;function Ft(){if(mt===null)throw Error(a(459));var e=mt;return mt=null,e}function Xt(e){if(e===mn||e===tn)throw Error(a(483))}var dn=!1;function br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Bt&2)!==0){var S=r.pending;return S===null?t.next=t:(t.next=S.next,S.next=t),r.pending=t,t=$i(e),tl(e,null,n),t}return Yi(e,r,t,n),$i(e)}function da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$e(e,n)}}function gu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var S=null,D=null;if(n=n.firstBaseUpdate,n!==null){do{var ie={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};D===null?S=D=ie:D=D.next=ie,n=n.next}while(n!==null);D===null?S=D=t:D=D.next=t}else S=D=t;n={baseState:r.baseState,firstBaseUpdate:S,lastBaseUpdate:D,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var vu=!1;function to(){if(vu){var e=je;if(e!==null)throw e}}function no(e,t,n,r){vu=!1;var S=e.updateQueue;dn=!1;var D=S.firstBaseUpdate,ie=S.lastBaseUpdate,ge=S.shared.pending;if(ge!==null){S.shared.pending=null;var Ee=ge,Ie=Ee.next;Ee.next=null,ie===null?D=Ie:ie.next=Ie,ie=Ee;var Ve=e.alternate;Ve!==null&&(Ve=Ve.updateQueue,ge=Ve.lastBaseUpdate,ge!==ie&&(ge===null?Ve.firstBaseUpdate=Ie:ge.next=Ie,Ve.lastBaseUpdate=Ee))}if(D!==null){var Je=S.baseState;ie=0,Ve=Ie=Ee=null,ge=D;do{var Ue=ge.lane&-536870913,He=Ue!==ge.lane;if(He?(Ot&Ue)===Ue:(r&Ue)===Ue){Ue!==0&&Ue===xe&&(vu=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var At=e,vt=ge;Ue=t;var Ht=n;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){Je=At.call(Ht,Je,Ue);break e}Je=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,Ue=typeof At=="function"?At.call(Ht,Je,Ue):At,Ue==null)break e;Je=g({},Je,Ue);break e;case 2:dn=!0}}Ue=ge.callback,Ue!==null&&(e.flags|=64,He&&(e.flags|=8192),He=S.callbacks,He===null?S.callbacks=[Ue]:He.push(Ue))}else He={lane:Ue,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Ve===null?(Ie=Ve=He,Ee=Je):Ve=Ve.next=He,ie|=Ue;if(ge=ge.next,ge===null){if(ge=S.shared.pending,ge===null)break;He=ge,ge=He.next,He.next=null,S.lastBaseUpdate=He,S.shared.pending=null}}while(!0);Ve===null&&(Ee=Je),S.baseState=Ee,S.firstBaseUpdate=Ie,S.lastBaseUpdate=Ve,D===null&&(S.shared.lanes=0),za|=ie,e.lanes=ie,e.memoizedState=Je}}function nd(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function rd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)nd(n[e],t)}var ts=z(null),rl=z(0);function ad(e,t){e=ba,P(rl,e),P(ts,t),ba=e|t.baseLanes}function bu(){P(rl,ba),P(ts,ts.current)}function yu(){ba=rl.current,L(ts),L(rl)}var Da=0,Ct=null,zt=null,un=null,al=!1,ns=!1,bi=!1,il=0,ro=0,rs=null,ap=0;function an(){throw Error(a(321))}function Su(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function Au(e,t,n,r,S,D){return Da=D,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?jd:Hd,bi=!1,D=n(r,S),bi=!1,ns&&(D=sd(t,n,r,S)),id(e),D}function id(e){Z.H=dl;var t=zt!==null&&zt.next!==null;if(Da=0,un=zt=Ct=null,al=!1,ro=0,rs=null,t)throw Error(a(300));e===null||gn||(e=e.dependencies,e!==null&&Ji(e)&&(gn=!0))}function sd(e,t,n,r){Ct=e;var S=0;do{if(ns&&(rs=null),ro=0,ns=!1,25<=S)throw Error(a(301));if(S+=1,un=zt=null,e.updateQueue!=null){var D=e.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}Z.H=dp,D=t(n,r)}while(ns);return D}function ip(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?ao(t):t,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(Ct.flags|=1024),t}function _u(){var e=il!==0;return il=0,e}function Eu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Cu(e){if(al){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}al=!1}Da=0,un=zt=Ct=null,ns=!1,ro=il=0,rs=null}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Ct.memoizedState=un=e:un=un.next=e,un}function cn(){if(zt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=un===null?Ct.memoizedState:un.next;if(t!==null)un=t,zt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},un===null?Ct.memoizedState=un=e:un=un.next=e}return un}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(e){var t=ro;return ro+=1,rs===null&&(rs=[]),e=qt(rs,e,t),t=Ct,(un===null?t.memoizedState:un.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?jd:Hd),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ao(e);if(e.$$typeof===_)return pn(e)}throw Error(a(438,String(e)))}function Ru(e){var t=null,n=Ct.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Ct.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(S){return S.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Tu(),Ct.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=G;return t.index++,n}function ha(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=cn();return xu(t,zt,e)}function xu(e,t,n){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var S=e.baseQueue,D=r.pending;if(D!==null){if(S!==null){var ie=S.next;S.next=D.next,D.next=ie}t.baseQueue=S=D,r.pending=null}if(D=e.baseState,S===null)e.memoizedState=D;else{t=S.next;var ge=ie=null,Ee=null,Ie=t,Ve=!1;do{var Je=Ie.lane&-536870913;if(Je!==Ie.lane?(Ot&Je)===Je:(Da&Je)===Je){var Ue=Ie.revertLane;if(Ue===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Je===xe&&(Ve=!0);else if((Da&Ue)===Ue){Ie=Ie.next,Ue===xe&&(Ve=!0);continue}else Je={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Ee===null?(ge=Ee=Je,ie=D):Ee=Ee.next=Je,Ct.lanes|=Ue,za|=Ue;Je=Ie.action,bi&&n(D,Je),D=Ie.hasEagerState?Ie.eagerState:n(D,Je)}else Ue={lane:Je,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Ee===null?(ge=Ee=Ue,ie=D):Ee=Ee.next=Ue,Ct.lanes|=Je,za|=Je;Ie=Ie.next}while(Ie!==null&&Ie!==t);if(Ee===null?ie=D:Ee.next=ge,!wn(D,e.memoizedState)&&(gn=!0,Ve&&(n=je,n!==null)))throw n;e.memoizedState=D,e.baseState=ie,e.baseQueue=Ee,r.lastRenderedState=D}return S===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function wu(e){var t=cn(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,S=n.pending,D=t.memoizedState;if(S!==null){n.pending=null;var ie=S=S.next;do D=e(D,ie.action),ie=ie.next;while(ie!==S);wn(D,t.memoizedState)||(gn=!0),t.memoizedState=D,t.baseQueue===null&&(t.baseState=D),n.lastRenderedState=D}return[D,r]}function od(e,t,n){var r=Ct,S=cn(),D=Dt;if(D){if(n===void 0)throw Error(a(407));n=n()}else n=t();var ie=!wn((zt||S).memoizedState,n);ie&&(S.memoizedState=n,gn=!0),S=S.queue;var ge=cd.bind(null,r,S,e);if(io(2048,8,ge,[e]),S.getSnapshot!==t||ie||un!==null&&un.memoizedState.tag&1){if(r.flags|=2048,as(9,ll(),ud.bind(null,r,S,n,t),null),Vt===null)throw Error(a(349));D||(Da&124)!==0||ld(r,t,n)}return n}function ld(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ct.updateQueue,t===null?(t=Tu(),Ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ud(e,t,n,r){t.value=n,t.getSnapshot=r,dd(t)&&hd(e)}function cd(e,t,n){return n(function(){dd(t)&&hd(e)})}function dd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function hd(e){var t=ka(e,2);t!==null&&or(t,e,2)}function Pu(e){var t=Kn();if(typeof e=="function"){var n=e;if(e=n(),bi){Fe(!0);try{n()}finally{Fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function fd(e,t,n,r){return e.baseState=n,xu(e,zt,typeof r=="function"?r:ha)}function sp(e,t,n,r,S){if(cl(e))throw Error(a(485));if(e=t.action,e!==null){var D={payload:S,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){D.listeners.push(ie)}};Z.T!==null?n(!0):D.isTransition=!1,r(D),n=t.pending,n===null?(D.next=t.pending=D,pd(t,D)):(D.next=n.next,t.pending=n.next=D)}}function pd(e,t){var n=t.action,r=t.payload,S=e.state;if(t.isTransition){var D=Z.T,ie={};Z.T=ie;try{var ge=n(S,r),Ee=Z.S;Ee!==null&&Ee(ie,ge),md(e,t,ge)}catch(Ie){ku(e,t,Ie)}finally{Z.T=D}}else try{D=n(S,r),md(e,t,D)}catch(Ie){ku(e,t,Ie)}}function md(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){gd(e,t,r)},function(r){return ku(e,t,r)}):gd(e,t,n)}function gd(e,t,n){t.status="fulfilled",t.value=n,vd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,pd(e,n)))}function ku(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,vd(t),t=t.next;while(t!==r)}e.action=null}function vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bd(e,t){return t}function yd(e,t){if(Dt){var n=Vt.formState;if(n!==null){e:{var r=Ct;if(Dt){if(Kt){t:{for(var S=Kt,D=Nn;S.nodeType!==8;){if(!D){S=null;break t}if(S=Fr(S.nextSibling),S===null){S=null;break t}}D=S.data,S=D==="F!"||D==="F"?S:null}if(S){Kt=Fr(S.nextSibling),r=S.data==="F!";break e}}Br(r)}r=!1}r&&(t=n[0])}}return n=Kn(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},n.queue=r,n=Bd.bind(null,Ct,r),r.dispatch=n,r=Pu(!1),D=Lu.bind(null,Ct,!1,r.queue),r=Kn(),S={state:t,dispatch:null,action:e,pending:null},r.queue=S,n=sp.bind(null,Ct,S,D,n),S.dispatch=n,r.memoizedState=e,[t,n,!1]}function Sd(e){var t=cn();return Ad(t,zt,e)}function Ad(e,t,n){if(t=xu(e,t,bd)[0],e=ol(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ao(t)}catch(ie){throw ie===mn?tn:ie}else r=t;t=cn();var S=t.queue,D=S.dispatch;return n!==t.memoizedState&&(Ct.flags|=2048,as(9,ll(),op.bind(null,S,n),null)),[r,D,e]}function op(e,t){e.action=t}function _d(e){var t=cn(),n=zt;if(n!==null)return Ad(t,n,e);cn(),t=t.memoizedState,n=cn();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function as(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Ct.updateQueue,t===null&&(t=Tu(),Ct.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ll(){return{destroy:void 0,resource:void 0}}function Ed(){return cn().memoizedState}function ul(e,t,n,r){var S=Kn();r=r===void 0?null:r,Ct.flags|=e,S.memoizedState=as(1|t,ll(),n,r)}function io(e,t,n,r){var S=cn();r=r===void 0?null:r;var D=S.memoizedState.inst;zt!==null&&r!==null&&Su(r,zt.memoizedState.deps)?S.memoizedState=as(t,D,n,r):(Ct.flags|=e,S.memoizedState=as(1|t,D,n,r))}function Cd(e,t){ul(8390656,8,e,t)}function Td(e,t){io(2048,8,e,t)}function Rd(e,t){return io(4,2,e,t)}function xd(e,t){return io(4,4,e,t)}function wd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pd(e,t,n){n=n!=null?n.concat([e]):null,io(4,4,wd.bind(null,t,e),n)}function Mu(){}function kd(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Su(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Su(t,r[1]))return r[0];if(r=e(),bi){Fe(!0);try{e()}finally{Fe(!1)}}return n.memoizedState=[r,t],r}function Ou(e,t,n){return n===void 0||(Da&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Fh(),Ct.lanes|=e,za|=e,n)}function Od(e,t,n,r){return wn(n,t)?n:ts.current!==null?(e=Ou(e,n,r),wn(e,t)||(gn=!0),e):(Da&42)===0?(gn=!0,e.memoizedState=n):(e=Fh(),Ct.lanes|=e,za|=e,t)}function Dd(e,t,n,r,S){var D=Q.p;Q.p=D!==0&&8>D?D:8;var ie=Z.T,ge={};Z.T=ge,Lu(e,!1,t,n);try{var Ee=S(),Ie=Z.S;if(Ie!==null&&Ie(ge,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ve=nt(Ee,r);so(e,t,Ve,sr(e))}else so(e,t,r,sr(e))}catch(Je){so(e,t,{then:function(){},status:"rejected",reason:Je},sr())}finally{Q.p=D,Z.T=ie}}function lp(){}function Du(e,t,n,r){if(e.tag!==5)throw Error(a(476));var S=Fd(e).queue;Dd(e,S,t,ee,n===null?lp:function(){return Ld(e),n(r)})}function Fd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ee},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ld(e){var t=Fd(e).next.queue;so(e,t,{},sr())}function Fu(){return pn(To)}function Id(){return cn().memoizedState}function Nd(){return cn().memoizedState}function up(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=sr();e=$n(n);var r=Or(t,e,n);r!==null&&(or(r,t,n),da(r,t,n)),t={cache:M()},e.payload=t;return}t=t.return}}function cp(e,t,n){var r=sr();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},cl(e)?Ud(t,n):(n=Xs(e,t,n,r),n!==null&&(or(n,e,r),zd(n,t,r)))}function Bd(e,t,n){var r=sr();so(e,t,n,r)}function so(e,t,n,r){var S={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(cl(e))Ud(t,S);else{var D=e.alternate;if(e.lanes===0&&(D===null||D.lanes===0)&&(D=t.lastRenderedReducer,D!==null))try{var ie=t.lastRenderedState,ge=D(ie,n);if(S.hasEagerState=!0,S.eagerState=ge,wn(ge,ie))return Yi(e,t,S,0),Vt===null&&Vi(),!1}catch{}finally{}if(n=Xs(e,t,S,r),n!==null)return or(n,e,r),zd(n,t,r),!0}return!1}function Lu(e,t,n,r){if(r={lane:2,revertLane:fc(),action:r,hasEagerState:!1,eagerState:null,next:null},cl(e)){if(t)throw Error(a(479))}else t=Xs(e,n,r,2),t!==null&&or(t,e,2)}function cl(e){var t=e.alternate;return e===Ct||t!==null&&t===Ct}function Ud(e,t){ns=al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zd(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$e(e,n)}}var dl={readContext:pn,use:sl,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an},jd={readContext:pn,use:sl,useCallback:function(e,t){return Kn().memoizedState=[e,t===void 0?null:t],e},useContext:pn,useEffect:Cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ul(4194308,4,wd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var n=Kn();t=t===void 0?null:t;var r=e();if(bi){Fe(!0);try{e()}finally{Fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Kn();if(n!==void 0){var S=n(t);if(bi){Fe(!0);try{n(t)}finally{Fe(!1)}}}else S=t;return r.memoizedState=r.baseState=S,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:S},r.queue=e,e=e.dispatch=cp.bind(null,Ct,e),[r.memoizedState,e]},useRef:function(e){var t=Kn();return e={current:e},t.memoizedState=e},useState:function(e){e=Pu(e);var t=e.queue,n=Bd.bind(null,Ct,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Mu,useDeferredValue:function(e,t){var n=Kn();return Ou(n,e,t)},useTransition:function(){var e=Pu(!1);return e=Dd.bind(null,Ct,e.queue,!0,!1),Kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ct,S=Kn();if(Dt){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Vt===null)throw Error(a(349));(Ot&124)!==0||ld(r,t,n)}S.memoizedState=n;var D={value:n,getSnapshot:t};return S.queue=D,Cd(cd.bind(null,r,D,e),[e]),r.flags|=2048,as(9,ll(),ud.bind(null,r,D,n,t),null),n},useId:function(){var e=Kn(),t=Vt.identifierPrefix;if(Dt){var n=gr,r=mr;n=(r&~(1<<32-Ge(r)-1)).toString(32)+n,t=""+t+"R"+n,n=il++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=ap++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Fu,useFormState:yd,useActionState:yd,useOptimistic:function(e){var t=Kn();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Lu.bind(null,Ct,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ru,useCacheRefresh:function(){return Kn().memoizedState=up.bind(null,Ct)}},Hd={readContext:pn,use:sl,useCallback:kd,useContext:pn,useEffect:Td,useImperativeHandle:Pd,useInsertionEffect:Rd,useLayoutEffect:xd,useMemo:Md,useReducer:ol,useRef:Ed,useState:function(){return ol(ha)},useDebugValue:Mu,useDeferredValue:function(e,t){var n=cn();return Od(n,zt.memoizedState,e,t)},useTransition:function(){var e=ol(ha)[0],t=cn().memoizedState;return[typeof e=="boolean"?e:ao(e),t]},useSyncExternalStore:od,useId:Id,useHostTransitionStatus:Fu,useFormState:Sd,useActionState:Sd,useOptimistic:function(e,t){var n=cn();return fd(n,zt,e,t)},useMemoCache:Ru,useCacheRefresh:Nd},dp={readContext:pn,use:sl,useCallback:kd,useContext:pn,useEffect:Td,useImperativeHandle:Pd,useInsertionEffect:Rd,useLayoutEffect:xd,useMemo:Md,useReducer:wu,useRef:Ed,useState:function(){return wu(ha)},useDebugValue:Mu,useDeferredValue:function(e,t){var n=cn();return zt===null?Ou(n,e,t):Od(n,zt.memoizedState,e,t)},useTransition:function(){var e=wu(ha)[0],t=cn().memoizedState;return[typeof e=="boolean"?e:ao(e),t]},useSyncExternalStore:od,useId:Id,useHostTransitionStatus:Fu,useFormState:_d,useActionState:_d,useOptimistic:function(e,t){var n=cn();return zt!==null?fd(n,zt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Nd},ss=null,oo=0;function hl(e){var t=oo;return oo+=1,ss===null&&(ss=[]),qt(ss,e,t)}function lo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fl(e,t){throw t.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Wd(e){var t=e._init;return t(e._payload)}function Gd(e){function t(Oe,Pe){if(e){var Le=Oe.deletions;Le===null?(Oe.deletions=[Pe],Oe.flags|=16):Le.push(Pe)}}function n(Oe,Pe){if(!e)return null;for(;Pe!==null;)t(Oe,Pe),Pe=Pe.sibling;return null}function r(Oe){for(var Pe=new Map;Oe!==null;)Oe.key!==null?Pe.set(Oe.key,Oe):Pe.set(Oe.index,Oe),Oe=Oe.sibling;return Pe}function S(Oe,Pe){return Oe=Fn(Oe,Pe),Oe.index=0,Oe.sibling=null,Oe}function D(Oe,Pe,Le){return Oe.index=Le,e?(Le=Oe.alternate,Le!==null?(Le=Le.index,Le<Pe?(Oe.flags|=67108866,Pe):Le):(Oe.flags|=67108866,Pe)):(Oe.flags|=1048576,Pe)}function ie(Oe){return e&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function ge(Oe,Pe,Le,Ke){return Pe===null||Pe.tag!==6?(Pe=hr(Le,Oe.mode,Ke),Pe.return=Oe,Pe):(Pe=S(Pe,Le),Pe.return=Oe,Pe)}function Ee(Oe,Pe,Le,Ke){var dt=Le.type;return dt===m?Ve(Oe,Pe,Le.props.children,Ke,Le.key):Pe!==null&&(Pe.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===E&&Wd(dt)===Pe.type)?(Pe=S(Pe,Le.props),lo(Pe,Le),Pe.return=Oe,Pe):(Pe=Ma(Le.type,Le.key,Le.props,null,Oe.mode,Ke),lo(Pe,Le),Pe.return=Oe,Pe)}function Ie(Oe,Pe,Le,Ke){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Le.containerInfo||Pe.stateNode.implementation!==Le.implementation?(Pe=Ln(Le,Oe.mode,Ke),Pe.return=Oe,Pe):(Pe=S(Pe,Le.children||[]),Pe.return=Oe,Pe)}function Ve(Oe,Pe,Le,Ke,dt){return Pe===null||Pe.tag!==7?(Pe=Pn(Le,Oe.mode,Ke,dt),Pe.return=Oe,Pe):(Pe=S(Pe,Le),Pe.return=Oe,Pe)}function Je(Oe,Pe,Le){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=hr(""+Pe,Oe.mode,Le),Pe.return=Oe,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return Le=Ma(Pe.type,Pe.key,Pe.props,null,Oe.mode,Le),lo(Le,Pe),Le.return=Oe,Le;case A:return Pe=Ln(Pe,Oe.mode,Le),Pe.return=Oe,Pe;case E:var Ke=Pe._init;return Pe=Ke(Pe._payload),Je(Oe,Pe,Le)}if(ve(Pe)||he(Pe))return Pe=Pn(Pe,Oe.mode,Le,null),Pe.return=Oe,Pe;if(typeof Pe.then=="function")return Je(Oe,hl(Pe),Le);if(Pe.$$typeof===_)return Je(Oe,es(Oe,Pe),Le);fl(Oe,Pe)}return null}function Ue(Oe,Pe,Le,Ke){var dt=Pe!==null?Pe.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return dt!==null?null:ge(Oe,Pe,""+Le,Ke);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case y:return Le.key===dt?Ee(Oe,Pe,Le,Ke):null;case A:return Le.key===dt?Ie(Oe,Pe,Le,Ke):null;case E:return dt=Le._init,Le=dt(Le._payload),Ue(Oe,Pe,Le,Ke)}if(ve(Le)||he(Le))return dt!==null?null:Ve(Oe,Pe,Le,Ke,null);if(typeof Le.then=="function")return Ue(Oe,Pe,hl(Le),Ke);if(Le.$$typeof===_)return Ue(Oe,Pe,es(Oe,Le),Ke);fl(Oe,Le)}return null}function He(Oe,Pe,Le,Ke,dt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Oe=Oe.get(Le)||null,ge(Pe,Oe,""+Ke,dt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case y:return Oe=Oe.get(Ke.key===null?Le:Ke.key)||null,Ee(Pe,Oe,Ke,dt);case A:return Oe=Oe.get(Ke.key===null?Le:Ke.key)||null,Ie(Pe,Oe,Ke,dt);case E:var Rt=Ke._init;return Ke=Rt(Ke._payload),He(Oe,Pe,Le,Ke,dt)}if(ve(Ke)||he(Ke))return Oe=Oe.get(Le)||null,Ve(Pe,Oe,Ke,dt,null);if(typeof Ke.then=="function")return He(Oe,Pe,Le,hl(Ke),dt);if(Ke.$$typeof===_)return He(Oe,Pe,Le,es(Pe,Ke),dt);fl(Pe,Ke)}return null}function At(Oe,Pe,Le,Ke){for(var dt=null,Rt=null,ft=Pe,yt=Pe=0,bn=null;ft!==null&&yt<Le.length;yt++){ft.index>yt?(bn=ft,ft=null):bn=ft.sibling;var Lt=Ue(Oe,ft,Le[yt],Ke);if(Lt===null){ft===null&&(ft=bn);break}e&&ft&&Lt.alternate===null&&t(Oe,ft),Pe=D(Lt,Pe,yt),Rt===null?dt=Lt:Rt.sibling=Lt,Rt=Lt,ft=bn}if(yt===Le.length)return n(Oe,ft),Dt&&vr(Oe,yt),dt;if(ft===null){for(;yt<Le.length;yt++)ft=Je(Oe,Le[yt],Ke),ft!==null&&(Pe=D(ft,Pe,yt),Rt===null?dt=ft:Rt.sibling=ft,Rt=ft);return Dt&&vr(Oe,yt),dt}for(ft=r(ft);yt<Le.length;yt++)bn=He(ft,Oe,yt,Le[yt],Ke),bn!==null&&(e&&bn.alternate!==null&&ft.delete(bn.key===null?yt:bn.key),Pe=D(bn,Pe,yt),Rt===null?dt=bn:Rt.sibling=bn,Rt=bn);return e&&ft.forEach(function($a){return t(Oe,$a)}),Dt&&vr(Oe,yt),dt}function vt(Oe,Pe,Le,Ke){if(Le==null)throw Error(a(151));for(var dt=null,Rt=null,ft=Pe,yt=Pe=0,bn=null,Lt=Le.next();ft!==null&&!Lt.done;yt++,Lt=Le.next()){ft.index>yt?(bn=ft,ft=null):bn=ft.sibling;var $a=Ue(Oe,ft,Lt.value,Ke);if($a===null){ft===null&&(ft=bn);break}e&&ft&&$a.alternate===null&&t(Oe,ft),Pe=D($a,Pe,yt),Rt===null?dt=$a:Rt.sibling=$a,Rt=$a,ft=bn}if(Lt.done)return n(Oe,ft),Dt&&vr(Oe,yt),dt;if(ft===null){for(;!Lt.done;yt++,Lt=Le.next())Lt=Je(Oe,Lt.value,Ke),Lt!==null&&(Pe=D(Lt,Pe,yt),Rt===null?dt=Lt:Rt.sibling=Lt,Rt=Lt);return Dt&&vr(Oe,yt),dt}for(ft=r(ft);!Lt.done;yt++,Lt=Le.next())Lt=He(ft,Oe,yt,Lt.value,Ke),Lt!==null&&(e&&Lt.alternate!==null&&ft.delete(Lt.key===null?yt:Lt.key),Pe=D(Lt,Pe,yt),Rt===null?dt=Lt:Rt.sibling=Lt,Rt=Lt);return e&&ft.forEach(function(hm){return t(Oe,hm)}),Dt&&vr(Oe,yt),dt}function Ht(Oe,Pe,Le,Ke){if(typeof Le=="object"&&Le!==null&&Le.type===m&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case y:e:{for(var dt=Le.key;Pe!==null;){if(Pe.key===dt){if(dt=Le.type,dt===m){if(Pe.tag===7){n(Oe,Pe.sibling),Ke=S(Pe,Le.props.children),Ke.return=Oe,Oe=Ke;break e}}else if(Pe.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===E&&Wd(dt)===Pe.type){n(Oe,Pe.sibling),Ke=S(Pe,Le.props),lo(Ke,Le),Ke.return=Oe,Oe=Ke;break e}n(Oe,Pe);break}else t(Oe,Pe);Pe=Pe.sibling}Le.type===m?(Ke=Pn(Le.props.children,Oe.mode,Ke,Le.key),Ke.return=Oe,Oe=Ke):(Ke=Ma(Le.type,Le.key,Le.props,null,Oe.mode,Ke),lo(Ke,Le),Ke.return=Oe,Oe=Ke)}return ie(Oe);case A:e:{for(dt=Le.key;Pe!==null;){if(Pe.key===dt)if(Pe.tag===4&&Pe.stateNode.containerInfo===Le.containerInfo&&Pe.stateNode.implementation===Le.implementation){n(Oe,Pe.sibling),Ke=S(Pe,Le.children||[]),Ke.return=Oe,Oe=Ke;break e}else{n(Oe,Pe);break}else t(Oe,Pe);Pe=Pe.sibling}Ke=Ln(Le,Oe.mode,Ke),Ke.return=Oe,Oe=Ke}return ie(Oe);case E:return dt=Le._init,Le=dt(Le._payload),Ht(Oe,Pe,Le,Ke)}if(ve(Le))return At(Oe,Pe,Le,Ke);if(he(Le)){if(dt=he(Le),typeof dt!="function")throw Error(a(150));return Le=dt.call(Le),vt(Oe,Pe,Le,Ke)}if(typeof Le.then=="function")return Ht(Oe,Pe,hl(Le),Ke);if(Le.$$typeof===_)return Ht(Oe,Pe,es(Oe,Le),Ke);fl(Oe,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Pe!==null&&Pe.tag===6?(n(Oe,Pe.sibling),Ke=S(Pe,Le),Ke.return=Oe,Oe=Ke):(n(Oe,Pe),Ke=hr(Le,Oe.mode,Ke),Ke.return=Oe,Oe=Ke),ie(Oe)):n(Oe,Pe)}return function(Oe,Pe,Le,Ke){try{oo=0;var dt=Ht(Oe,Pe,Le,Ke);return ss=null,dt}catch(ft){if(ft===mn||ft===tn)throw ft;var Rt=Dn(29,ft,null,Oe.mode);return Rt.lanes=Ke,Rt.return=Oe,Rt}finally{}}}var os=Gd(!0),qd=Gd(!1),yr=z(null),Hr=null;function Fa(e){var t=e.alternate;P(hn,hn.current&1),P(yr,e),Hr===null&&(t===null||ts.current!==null||t.memoizedState!==null)&&(Hr=e)}function Xd(e){if(e.tag===22){if(P(hn,hn.current),P(yr,e),Hr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Hr=e)}}else La()}function La(){P(hn,hn.current),P(yr,yr.current)}function fa(e){L(yr),Hr===e&&(Hr=null),L(hn)}var hn=z(0);function pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Tc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Iu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:g({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nu={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sr(),S=$n(r);S.payload=t,n!=null&&(S.callback=n),t=Or(e,S,r),t!==null&&(or(t,e,r),da(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sr(),S=$n(r);S.tag=1,S.payload=t,n!=null&&(S.callback=n),t=Or(e,S,r),t!==null&&(or(t,e,r),da(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sr(),r=$n(n);r.tag=2,t!=null&&(r.callback=t),t=Or(e,r,n),t!==null&&(or(t,e,n),da(t,e,n))}};function Vd(e,t,n,r,S,D,ie){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,D,ie):t.prototype&&t.prototype.isPureReactComponent?!Ra(n,r)||!Ra(S,D):!0}function Yd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nu.enqueueReplaceState(t,t.state,null)}function yi(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=g({},n));for(var S in e)n[S]===void 0&&(n[S]=e[S])}return n}var ml=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $d(e){ml(e)}function Kd(e){console.error(e)}function Qd(e){ml(e)}function gl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Zd(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Bu(e,t,n){return n=$n(n),n.tag=3,n.payload={element:null},n.callback=function(){gl(e,t)},n}function Jd(e){return e=$n(e),e.tag=3,e}function eh(e,t,n,r){var S=n.type.getDerivedStateFromError;if(typeof S=="function"){var D=r.value;e.payload=function(){return S(D)},e.callback=function(){Zd(t,n,r)}}var ie=n.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(e.callback=function(){Zd(t,n,r),typeof S!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var ge=r.stack;this.componentDidCatch(r.value,{componentStack:ge!==null?ge:""})})}function hp(e,t,n,r,S){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&gi(t,n,S,!0),n=yr.current,n!==null){switch(n.tag){case 13:return Hr===null?lc():n.alternate===null&&nn===0&&(nn=3),n.flags&=-257,n.flags|=65536,n.lanes=S,r===Vn?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),cc(e,r,S)),!1;case 22:return n.flags|=65536,r===Vn?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),cc(e,r,S)),!1}throw Error(a(435,n.tag))}return cc(e,r,S),lc(),!1}if(Dt)return t=yr.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=S,r!==Ks&&(e=Error(a(422),{cause:r}),zr(Gn(e,n)))):(r!==Ks&&(t=Error(a(423),{cause:r}),zr(Gn(t,n))),e=e.current.alternate,e.flags|=65536,S&=-S,e.lanes|=S,r=Gn(r,n),S=Bu(e.stateNode,r,S),gu(e,S),nn!==4&&(nn=2)),!1;var D=Error(a(520),{cause:r});if(D=Gn(D,n),go===null?go=[D]:go.push(D),nn!==4&&(nn=2),t===null)return!0;r=Gn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=S&-S,n.lanes|=e,e=Bu(n.stateNode,r,e),gu(n,e),!1;case 1:if(t=n.type,D=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(ja===null||!ja.has(D))))return n.flags|=65536,S&=-S,n.lanes|=S,S=Jd(S),eh(S,e,n,r),gu(n,S),!1}n=n.return}while(n!==null);return!1}var th=Error(a(461)),gn=!1;function En(e,t,n,r){t.child=e===null?qd(t,null,n,r):os(t,e.child,n,r)}function nh(e,t,n,r,S){n=n.render;var D=t.ref;if("ref"in r){var ie={};for(var ge in r)ge!=="ref"&&(ie[ge]=r[ge])}else ie=r;return ca(t),r=Au(e,t,n,ie,D,S),ge=_u(),e!==null&&!gn?(Eu(e,t,S),pa(e,t,S)):(Dt&&ge&&Ki(t),t.flags|=1,En(e,t,r,S),t.child)}function rh(e,t,n,r,S){if(e===null){var D=n.type;return typeof D=="function"&&!ln(D)&&D.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=D,ah(e,t,D,r,S)):(e=Ma(n.type,null,r,t,t.mode,S),e.ref=t.ref,e.return=t,t.child=e)}if(D=e.child,!Xu(e,S)){var ie=D.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(ie,r)&&e.ref===t.ref)return pa(e,t,S)}return t.flags|=1,e=Fn(D,r),e.ref=t.ref,e.return=t,t.child=e}function ah(e,t,n,r,S){if(e!==null){var D=e.memoizedProps;if(Ra(D,r)&&e.ref===t.ref)if(gn=!1,t.pendingProps=r=D,Xu(e,S))(e.flags&131072)!==0&&(gn=!0);else return t.lanes=e.lanes,pa(e,t,S)}return Uu(e,t,n,r,S)}function ih(e,t,n){var r=t.pendingProps,S=r.children,D=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=D!==null?D.baseLanes|n:n,e!==null){for(S=t.child=e.child,D=0;S!==null;)D=D|S.lanes|S.childLanes,S=S.sibling;t.childLanes=D&~r}else t.childLanes=0,t.child=null;return sh(e,t,r,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$t(t,D!==null?D.cachePool:null),D!==null?ad(t,D):bu(),Xd(t);else return t.lanes=t.childLanes=536870912,sh(e,t,D!==null?D.baseLanes|n:n,n)}else D!==null?($t(t,D.cachePool),ad(t,D),La(),t.memoizedState=null):(e!==null&&$t(t,null),bu(),La());return En(e,t,S,n),t.child}function sh(e,t,n,r){var S=Et();return S=S===null?null:{parent:c._currentValue,pool:S},t.memoizedState={baseLanes:n,cachePool:S},e!==null&&$t(t,null),bu(),Xd(t),e!==null&&gi(e,t,r,!0),null}function vl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(a(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Uu(e,t,n,r,S){return ca(t),n=Au(e,t,n,r,void 0,S),r=_u(),e!==null&&!gn?(Eu(e,t,S),pa(e,t,S)):(Dt&&r&&Ki(t),t.flags|=1,En(e,t,n,S),t.child)}function oh(e,t,n,r,S,D){return ca(t),t.updateQueue=null,n=sd(t,r,n,S),id(e),r=_u(),e!==null&&!gn?(Eu(e,t,D),pa(e,t,D)):(Dt&&r&&Ki(t),t.flags|=1,En(e,t,n,D),t.child)}function lh(e,t,n,r,S){if(ca(t),t.stateNode===null){var D=ia,ie=n.contextType;typeof ie=="object"&&ie!==null&&(D=pn(ie)),D=new n(r,D),t.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Nu,t.stateNode=D,D._reactInternals=t,D=t.stateNode,D.props=r,D.state=t.memoizedState,D.refs={},br(t),ie=n.contextType,D.context=typeof ie=="object"&&ie!==null?pn(ie):ia,D.state=t.memoizedState,ie=n.getDerivedStateFromProps,typeof ie=="function"&&(Iu(t,n,ie,r),D.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(ie=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),ie!==D.state&&Nu.enqueueReplaceState(D,D.state,null),no(t,r,D,S),to(),D.state=t.memoizedState),typeof D.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){D=t.stateNode;var ge=t.memoizedProps,Ee=yi(n,ge);D.props=Ee;var Ie=D.context,Ve=n.contextType;ie=ia,typeof Ve=="object"&&Ve!==null&&(ie=pn(Ve));var Je=n.getDerivedStateFromProps;Ve=typeof Je=="function"||typeof D.getSnapshotBeforeUpdate=="function",ge=t.pendingProps!==ge,Ve||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ge||Ie!==ie)&&Yd(t,D,r,ie),dn=!1;var Ue=t.memoizedState;D.state=Ue,no(t,r,D,S),to(),Ie=t.memoizedState,ge||Ue!==Ie||dn?(typeof Je=="function"&&(Iu(t,n,Je,r),Ie=t.memoizedState),(Ee=dn||Vd(t,n,Ee,r,Ue,Ie,ie))?(Ve||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(t.flags|=4194308)):(typeof D.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=Ie),D.props=r,D.state=Ie,D.context=ie,r=Ee):(typeof D.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{D=t.stateNode,jr(e,t),ie=t.memoizedProps,Ve=yi(n,ie),D.props=Ve,Je=t.pendingProps,Ue=D.context,Ie=n.contextType,Ee=ia,typeof Ie=="object"&&Ie!==null&&(Ee=pn(Ie)),ge=n.getDerivedStateFromProps,(Ie=typeof ge=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(ie!==Je||Ue!==Ee)&&Yd(t,D,r,Ee),dn=!1,Ue=t.memoizedState,D.state=Ue,no(t,r,D,S),to();var He=t.memoizedState;ie!==Je||Ue!==He||dn||e!==null&&e.dependencies!==null&&Ji(e.dependencies)?(typeof ge=="function"&&(Iu(t,n,ge,r),He=t.memoizedState),(Ve=dn||Vd(t,n,Ve,r,Ue,He,Ee)||e!==null&&e.dependencies!==null&&Ji(e.dependencies))?(Ie||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(r,He,Ee),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(r,He,Ee)),typeof D.componentDidUpdate=="function"&&(t.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof D.componentDidUpdate!="function"||ie===e.memoizedProps&&Ue===e.memoizedState||(t.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||ie===e.memoizedProps&&Ue===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=He),D.props=r,D.state=He,D.context=Ee,r=Ve):(typeof D.componentDidUpdate!="function"||ie===e.memoizedProps&&Ue===e.memoizedState||(t.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||ie===e.memoizedProps&&Ue===e.memoizedState||(t.flags|=1024),r=!1)}return D=r,vl(e,t),r=(t.flags&128)!==0,D||r?(D=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:D.render(),t.flags|=1,e!==null&&r?(t.child=os(t,e.child,null,S),t.child=os(t,null,n,S)):En(e,t,n,S),t.memoizedState=D.state,e=t.child):e=pa(e,t,S),e}function uh(e,t,n,r){return Ur(),t.flags|=256,En(e,t,n,r),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:kn()}}function Hu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Sr),e}function ch(e,t,n){var r=t.pendingProps,S=!1,D=(t.flags&128)!==0,ie;if((ie=D)||(ie=e!==null&&e.memoizedState===null?!1:(hn.current&2)!==0),ie&&(S=!0,t.flags&=-129),ie=(t.flags&32)!==0,t.flags&=-33,e===null){if(Dt){if(S?Fa(t):La(),Dt){var ge=Kt,Ee;if(Ee=ge){e:{for(Ee=ge,ge=Nn;Ee.nodeType!==8;){if(!ge){ge=null;break e}if(Ee=Fr(Ee.nextSibling),Ee===null){ge=null;break e}}ge=Ee}ge!==null?(t.memoizedState={dehydrated:ge,treeContext:Nr!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},Ee=Dn(18,null,null,0),Ee.stateNode=ge,Ee.return=t,t.child=Ee,_n=t,Kt=null,Ee=!0):Ee=!1}Ee||Br(t)}if(ge=t.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return Tc(ge)?t.lanes=32:t.lanes=536870912,null;fa(t)}return ge=r.children,r=r.fallback,S?(La(),S=t.mode,ge=bl({mode:"hidden",children:ge},S),r=Pn(r,S,n,null),ge.return=t,r.return=t,ge.sibling=r,t.child=ge,S=t.child,S.memoizedState=ju(n),S.childLanes=Hu(e,ie,n),t.memoizedState=zu,r):(Fa(t),Wu(t,ge))}if(Ee=e.memoizedState,Ee!==null&&(ge=Ee.dehydrated,ge!==null)){if(D)t.flags&256?(Fa(t),t.flags&=-257,t=Gu(e,t,n)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),S=r.fallback,ge=t.mode,r=bl({mode:"visible",children:r.children},ge),S=Pn(S,ge,n,null),S.flags|=2,r.return=t,S.return=t,r.sibling=S,t.child=r,os(t,e.child,null,n),r=t.child,r.memoizedState=ju(n),r.childLanes=Hu(e,ie,n),t.memoizedState=zu,t=S);else if(Fa(t),Tc(ge)){if(ie=ge.nextSibling&&ge.nextSibling.dataset,ie)var Ie=ie.dgst;ie=Ie,r=Error(a(419)),r.stack="",r.digest=ie,zr({value:r,source:null,stack:null}),t=Gu(e,t,n)}else if(gn||gi(e,t,n,!1),ie=(n&e.childLanes)!==0,gn||ie){if(ie=Vt,ie!==null&&(r=n&-n,r=(r&42)!==0?1:pt(r),r=(r&(ie.suspendedLanes|n))!==0?0:r,r!==0&&r!==Ee.retryLane))throw Ee.retryLane=r,ka(e,r),or(ie,e,r),th;ge.data==="$?"||lc(),t=Gu(e,t,n)}else ge.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=Ee.treeContext,Kt=Fr(ge.nextSibling),_n=t,Dt=!0,oa=null,Nn=!1,e!==null&&(In[An++]=mr,In[An++]=gr,In[An++]=Nr,mr=e.id,gr=e.overflow,Nr=t),t=Wu(t,r.children),t.flags|=4096);return t}return S?(La(),S=r.fallback,ge=t.mode,Ee=e.child,Ie=Ee.sibling,r=Fn(Ee,{mode:"hidden",children:r.children}),r.subtreeFlags=Ee.subtreeFlags&65011712,Ie!==null?S=Fn(Ie,S):(S=Pn(S,ge,n,null),S.flags|=2),S.return=t,r.return=t,r.sibling=S,t.child=r,r=S,S=t.child,ge=e.child.memoizedState,ge===null?ge=ju(n):(Ee=ge.cachePool,Ee!==null?(Ie=c._currentValue,Ee=Ee.parent!==Ie?{parent:Ie,pool:Ie}:Ee):Ee=kn(),ge={baseLanes:ge.baseLanes|n,cachePool:Ee}),S.memoizedState=ge,S.childLanes=Hu(e,ie,n),t.memoizedState=zu,r):(Fa(t),n=e.child,e=n.sibling,n=Fn(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(ie=t.deletions,ie===null?(t.deletions=[e],t.flags|=16):ie.push(e)),t.child=n,t.memoizedState=null,n)}function Wu(e,t){return t=bl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bl(e,t){return e=Dn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gu(e,t,n){return os(t,e.child,null,n),e=Wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zi(e.return,t,n)}function qu(e,t,n,r,S){var D=e.memoizedState;D===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:S}:(D.isBackwards=t,D.rendering=null,D.renderingStartTime=0,D.last=r,D.tail=n,D.tailMode=S)}function hh(e,t,n){var r=t.pendingProps,S=r.revealOrder,D=r.tail;if(En(e,t,r.children,n),r=hn.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,n,t);else if(e.tag===19)dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(P(hn,r),S){case"forwards":for(n=t.child,S=null;n!==null;)e=n.alternate,e!==null&&pl(e)===null&&(S=n),n=n.sibling;n=S,n===null?(S=t.child,t.child=null):(S=n.sibling,n.sibling=null),qu(t,!1,S,n,D);break;case"backwards":for(n=null,S=t.child,t.child=null;S!==null;){if(e=S.alternate,e!==null&&pl(e)===null){t.child=S;break}e=S.sibling,S.sibling=n,n=S,S=e}qu(t,!0,n,null,D);break;case"together":qu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(gi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=Fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ji(e)))}function fp(e,t,n){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),kr(t,c,e.memoizedState.cache),Ur();break;case 27:case 5:re(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:kr(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Fa(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ch(e,t,n):(Fa(t),e=pa(e,t,n),e!==null?e.sibling:null);Fa(t);break;case 19:var S=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(gi(e,t,n,!1),r=(n&t.childLanes)!==0),S){if(r)return hh(e,t,n);t.flags|=128}if(S=t.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),P(hn,hn.current),r)break;return null;case 22:case 23:return t.lanes=0,ih(e,t,n);case 24:kr(t,c,e.memoizedState.cache)}return pa(e,t,n)}function fh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)gn=!0;else{if(!Xu(e,n)&&(t.flags&128)===0)return gn=!1,fp(e,t,n);gn=(e.flags&131072)!==0}else gn=!1,Dt&&(t.flags&1048576)!==0&&Ys(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,S=r._init;if(r=S(r._payload),t.type=r,typeof r=="function")ln(r)?(e=yi(r,e),t.tag=1,t=lh(null,t,r,e,n)):(t.tag=0,t=Uu(null,t,r,e,n));else{if(r!=null){if(S=r.$$typeof,S===b){t.tag=11,t=nh(null,t,r,e,n);break e}else if(S===w){t.tag=14,t=rh(null,t,r,e,n);break e}}throw t=be(r)||r,Error(a(306,t,""))}}return t;case 0:return Uu(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,S=yi(r,t.pendingProps),lh(e,t,r,S,n);case 3:e:{if(te(t,t.stateNode.containerInfo),e===null)throw Error(a(387));r=t.pendingProps;var D=t.memoizedState;S=D.element,jr(e,t),no(t,r,null,n);var ie=t.memoizedState;if(r=ie.cache,kr(t,c,r),r!==D.cache&&Js(t,[c],n,!0),to(),r=ie.element,D.isDehydrated)if(D={element:r,isDehydrated:!1,cache:ie.cache},t.updateQueue.baseState=D,t.memoizedState=D,t.flags&256){t=uh(e,t,r,n);break e}else if(r!==S){S=Gn(Error(a(424)),t),zr(S),t=uh(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Kt=Fr(e.firstChild),_n=t,Dt=!0,oa=null,Nn=!0,n=qd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ur(),r===S){t=pa(e,t,n);break e}En(e,t,r,n)}t=t.child}return t;case 26:return vl(e,t),e===null?(n=bf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Dt||(n=t.type,e=t.pendingProps,r=Ol(j.current).createElement(n),r[tt]=t,r[lt]=e,Tn(r,n,e),Pt(r),t.stateNode=r):t.memoizedState=bf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return re(t),e===null&&Dt&&(r=t.stateNode=mf(t.type,t.pendingProps,j.current),_n=t,Nn=!0,S=Kt,Ga(t.type)?(Rc=S,Kt=Fr(r.firstChild)):Kt=S),En(e,t,t.pendingProps.children,n),vl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Dt&&((S=r=Kt)&&(r=jp(r,t.type,t.pendingProps,Nn),r!==null?(t.stateNode=r,_n=t,Kt=Fr(r.firstChild),Nn=!1,S=!0):S=!1),S||Br(t)),re(t),S=t.type,D=t.pendingProps,ie=e!==null?e.memoizedProps:null,r=D.children,_c(S,D)?r=null:ie!==null&&_c(S,ie)&&(t.flags|=32),t.memoizedState!==null&&(S=Au(e,t,ip,null,null,n),To._currentValue=S),vl(e,t),En(e,t,r,n),t.child;case 6:return e===null&&Dt&&((e=n=Kt)&&(n=Hp(n,t.pendingProps,Nn),n!==null?(t.stateNode=n,_n=t,Kt=null,e=!0):e=!1),e||Br(t)),null;case 13:return ch(e,t,n);case 4:return te(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=os(t,null,r,n):En(e,t,r,n),t.child;case 11:return nh(e,t,t.type,t.pendingProps,n);case 7:return En(e,t,t.pendingProps,n),t.child;case 8:return En(e,t,t.pendingProps.children,n),t.child;case 12:return En(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,kr(t,t.type,r.value),En(e,t,r.children,n),t.child;case 9:return S=t.type._context,r=t.pendingProps.children,ca(t),S=pn(S),r=r(S),t.flags|=1,En(e,t,r,n),t.child;case 14:return rh(e,t,t.type,t.pendingProps,n);case 15:return ah(e,t,t.type,t.pendingProps,n);case 19:return hh(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=bl(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Fn(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return ih(e,t,n);case 24:return ca(t),r=pn(c),e===null?(S=Et(),S===null&&(S=Vt,D=M(),S.pooledCache=D,D.refCount++,D!==null&&(S.pooledCacheLanes|=n),S=D),t.memoizedState={parent:r,cache:S},br(t),kr(t,c,S)):((e.lanes&n)!==0&&(jr(e,t),no(t,null,null,n),to()),S=e.memoizedState,D=t.memoizedState,S.parent!==r?(S={parent:r,cache:r},t.memoizedState=S,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=S),kr(t,c,r)):(r=D.cache,kr(t,c,r),r!==S.cache&&Js(t,[c],n,!0))),En(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ma(e){e.flags|=4}function ph(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ef(t)){if(t=yr.current,t!==null&&((Ot&4194048)===Ot?Hr!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||t!==Hr))throw mt=Vn,nr;e.flags|=8192}}function yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?it():536870912,e.lanes|=t,ds|=t)}function uo(e,t){if(!Dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var S=e.child;S!==null;)n|=S.lanes|S.childLanes,r|=S.subtreeFlags&65011712,r|=S.flags&65011712,S.return=e,S=S.sibling;else for(S=e.child;S!==null;)n|=S.lanes|S.childLanes,r|=S.subtreeFlags,r|=S.flags,S.return=e,S=S.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pp(e,t,n){var r=t.pendingProps;switch($s(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(t),null;case 1:return Jt(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Mr(c),se(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(la(t)?ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Pr())),Jt(t),null;case 26:return n=t.memoizedState,e===null?(ma(t),n!==null?(Jt(t),ph(t,n)):(Jt(t),t.flags&=-16777217)):n?n!==e.memoizedState?(ma(t),Jt(t),ph(t,n)):(Jt(t),t.flags&=-16777217):(e.memoizedProps!==r&&ma(t),Jt(t),t.flags&=-16777217),null;case 27:ce(t),n=j.current;var S=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ma(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Jt(t),null}e=k.current,la(t)?Qs(t):(e=mf(S,r,n),t.stateNode=e,ma(t))}return Jt(t),null;case 5:if(ce(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&ma(t);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Jt(t),null}if(e=k.current,la(t))Qs(t);else{switch(S=Ol(j.current),e){case 1:e=S.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=S.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=S.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=S.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?S.createElement("select",{is:r.is}):S.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?S.createElement(n,{is:r.is}):S.createElement(n)}}e[tt]=t,e[lt]=r;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)e.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=e;e:switch(Tn(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ma(t)}}return Jt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&ma(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(e=j.current,la(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,S=_n,S!==null)switch(S.tag){case 27:case 5:r=S.memoizedProps}e[tt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||lf(e.nodeValue,n)),e||Br(t)}else e=Ol(e).createTextNode(r),e[tt]=t,t.stateNode=e}return Jt(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(S=la(t),r!==null&&r.dehydrated!==null){if(e===null){if(!S)throw Error(a(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(a(317));S[tt]=t}else Ur(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Jt(t),S=!1}else S=Pr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=S),S=!0;if(!S)return t.flags&256?(fa(t),t):(fa(t),null)}if(fa(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,S=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(S=r.alternate.memoizedState.cachePool.pool);var D=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(D=r.memoizedState.cachePool.pool),D!==S&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),yl(t,t.updateQueue),Jt(t),null;case 4:return se(),e===null&&vc(t.stateNode.containerInfo),Jt(t),null;case 10:return Mr(t.type),Jt(t),null;case 19:if(L(hn),S=t.memoizedState,S===null)return Jt(t),null;if(r=(t.flags&128)!==0,D=S.rendering,D===null)if(r)uo(S,!1);else{if(nn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(D=pl(e),D!==null){for(t.flags|=128,uo(S,!1),e=D.updateQueue,t.updateQueue=e,yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Vs(n,e),n=n.sibling;return P(hn,hn.current&1|2),t.child}e=e.sibling}S.tail!==null&&U()>_l&&(t.flags|=128,r=!0,uo(S,!1),t.lanes=4194304)}else{if(!r)if(e=pl(D),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,yl(t,e),uo(S,!0),S.tail===null&&S.tailMode==="hidden"&&!D.alternate&&!Dt)return Jt(t),null}else 2*U()-S.renderingStartTime>_l&&n!==536870912&&(t.flags|=128,r=!0,uo(S,!1),t.lanes=4194304);S.isBackwards?(D.sibling=t.child,t.child=D):(e=S.last,e!==null?e.sibling=D:t.child=D,S.last=D)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=U(),t.sibling=null,e=hn.current,P(hn,r?e&1|2:e&1),t):(Jt(t),null);case 22:case 23:return fa(t),yu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(Jt(t),t.subtreeFlags&6&&(t.flags|=8192)):Jt(t),n=t.updateQueue,n!==null&&yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&L(bt),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mr(c),Jt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function mp(e,t){switch($s(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mr(c),se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ce(t),null;case 13:if(fa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(hn),null;case 4:return se(),null;case 10:return Mr(t.type),null;case 22:case 23:return fa(t),yu(),e!==null&&L(bt),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mr(c),null;case 25:return null;default:return null}}function mh(e,t){switch($s(t),t.tag){case 3:Mr(c),se();break;case 26:case 27:case 5:ce(t);break;case 4:se();break;case 13:fa(t);break;case 19:L(hn);break;case 10:Mr(t.type);break;case 22:case 23:fa(t),yu(),e!==null&&L(bt);break;case 24:Mr(c)}}function co(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var S=r.next;n=S;do{if((n.tag&e)===e){r=void 0;var D=n.create,ie=n.inst;r=D(),ie.destroy=r}n=n.next}while(n!==S)}}catch(ge){Wt(t,t.return,ge)}}function Ia(e,t,n){try{var r=t.updateQueue,S=r!==null?r.lastEffect:null;if(S!==null){var D=S.next;r=D;do{if((r.tag&e)===e){var ie=r.inst,ge=ie.destroy;if(ge!==void 0){ie.destroy=void 0,S=t;var Ee=n,Ie=ge;try{Ie()}catch(Ve){Wt(S,Ee,Ve)}}}r=r.next}while(r!==D)}}catch(Ve){Wt(t,t.return,Ve)}}function gh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{rd(t,n)}catch(r){Wt(e,e.return,r)}}}function vh(e,t,n){n.props=yi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Wt(e,t,r)}}function ho(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(S){Wt(e,t,S)}}function Wr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(S){Wt(e,t,S)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(S){Wt(e,t,S)}else n.current=null}function bh(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(S){Wt(e,e.return,S)}}function Vu(e,t,n){try{var r=e.stateNode;Ip(r,e.type,n,t),r[lt]=t}catch(S){Wt(e,e.return,S)}}function yh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ga(e.type)||e.tag===4}function Yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ga(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ml));else if(r!==4&&(r===27&&Ga(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}function Sl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ga(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Sl(e,t,n),e=e.sibling;e!==null;)Sl(e,t,n),e=e.sibling}function Sh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,S=t.attributes;S.length;)t.removeAttributeNode(S[0]);Tn(t,r,n),t[tt]=e,t[lt]=n}catch(D){Wt(e,e.return,D)}}var ga=!1,sn=!1,Ku=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,vn=null;function gp(e,t){if(e=e.containerInfo,Sc=Bl,e=Qo(e),di(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var S=r.anchorOffset,D=r.focusNode;r=r.focusOffset;try{n.nodeType,D.nodeType}catch{n=null;break e}var ie=0,ge=-1,Ee=-1,Ie=0,Ve=0,Je=e,Ue=null;t:for(;;){for(var He;Je!==n||S!==0&&Je.nodeType!==3||(ge=ie+S),Je!==D||r!==0&&Je.nodeType!==3||(Ee=ie+r),Je.nodeType===3&&(ie+=Je.nodeValue.length),(He=Je.firstChild)!==null;)Ue=Je,Je=He;for(;;){if(Je===e)break t;if(Ue===n&&++Ie===S&&(ge=ie),Ue===D&&++Ve===r&&(Ee=ie),(He=Je.nextSibling)!==null)break;Je=Ue,Ue=Je.parentNode}Je=He}n=ge===-1||Ee===-1?null:{start:ge,end:Ee}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ac={focusedElem:e,selectionRange:n},Bl=!1,vn=t;vn!==null;)if(t=vn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,vn=e;else for(;vn!==null;){switch(t=vn,D=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&D!==null){e=void 0,n=t,S=D.memoizedProps,D=D.memoizedState,r=n.stateNode;try{var At=yi(n.type,S,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(At,D),r.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Wt(n,n.return,vt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Cc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,vn=e;break}vn=t.return}}function _h(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Na(e,n),r&4&&co(5,n);break;case 1:if(Na(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(ie){Wt(n,n.return,ie)}else{var S=yi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(S,t,e.__reactInternalSnapshotBeforeUpdate)}catch(ie){Wt(n,n.return,ie)}}r&64&&gh(n),r&512&&ho(n,n.return);break;case 3:if(Na(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{rd(e,t)}catch(ie){Wt(n,n.return,ie)}}break;case 27:t===null&&r&4&&Sh(n);case 26:case 5:Na(e,n),t===null&&r&4&&bh(n),r&512&&ho(n,n.return);break;case 12:Na(e,n);break;case 13:Na(e,n),r&4&&Th(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Tp.bind(null,n),Wp(e,n))));break;case 22:if(r=n.memoizedState!==null||ga,!r){t=t!==null&&t.memoizedState!==null||sn,S=ga;var D=sn;ga=r,(sn=t)&&!D?Ba(e,n,(n.subtreeFlags&8772)!==0):Na(e,n),ga=S,sn=D}break;case 30:break;default:Na(e,n)}}function Eh(e){var t=e.alternate;t!==null&&(e.alternate=null,Eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qt=null,Qn=!1;function va(e,t,n){for(n=n.child;n!==null;)Ch(e,t,n),n=n.sibling}function Ch(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(ke,n)}catch{}switch(n.tag){case 26:sn||Wr(n,t),va(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:sn||Wr(n,t);var r=Qt,S=Qn;Ga(n.type)&&(Qt=n.stateNode,Qn=!1),va(e,t,n),Ao(n.stateNode),Qt=r,Qn=S;break;case 5:sn||Wr(n,t);case 6:if(r=Qt,S=Qn,Qt=null,va(e,t,n),Qt=r,Qn=S,Qt!==null)if(Qn)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(n.stateNode)}catch(D){Wt(n,t,D)}else try{Qt.removeChild(n.stateNode)}catch(D){Wt(n,t,D)}break;case 18:Qt!==null&&(Qn?(e=Qt,ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Po(e)):ff(Qt,n.stateNode));break;case 4:r=Qt,S=Qn,Qt=n.stateNode.containerInfo,Qn=!0,va(e,t,n),Qt=r,Qn=S;break;case 0:case 11:case 14:case 15:sn||Ia(2,n,t),sn||Ia(4,n,t),va(e,t,n);break;case 1:sn||(Wr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&vh(n,t,r)),va(e,t,n);break;case 21:va(e,t,n);break;case 22:sn=(r=sn)||n.memoizedState!==null,va(e,t,n),sn=r;break;default:va(e,t,n)}}function Th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Po(e)}catch(n){Wt(t,t.return,n)}}function vp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(a(435,e.tag))}}function Qu(e,t){var n=vp(e);t.forEach(function(r){var S=Rp.bind(null,e,r);n.has(r)||(n.add(r),r.then(S,S))})}function rr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var S=n[r],D=e,ie=t,ge=ie;e:for(;ge!==null;){switch(ge.tag){case 27:if(Ga(ge.type)){Qt=ge.stateNode,Qn=!1;break e}break;case 5:Qt=ge.stateNode,Qn=!1;break e;case 3:case 4:Qt=ge.stateNode.containerInfo,Qn=!0;break e}ge=ge.return}if(Qt===null)throw Error(a(160));Ch(D,ie,S),Qt=null,Qn=!1,D=S.alternate,D!==null&&(D.return=null),S.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}var Dr=null;function Rh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rr(t,e),ar(e),r&4&&(Ia(3,e,e.return),co(3,e),Ia(5,e,e.return));break;case 1:rr(t,e),ar(e),r&512&&(sn||n===null||Wr(n,n.return)),r&64&&ga&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var S=Dr;if(rr(t,e),ar(e),r&512&&(sn||n===null||Wr(n,n.return)),r&4){var D=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,S=S.ownerDocument||S;t:switch(r){case"title":D=S.getElementsByTagName("title")[0],(!D||D[Nt]||D[tt]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=S.createElement(r),S.head.insertBefore(D,S.querySelector("head > title"))),Tn(D,r,n),D[tt]=e,Pt(D),r=D;break e;case"link":var ie=Af("link","href",S).get(r+(n.href||""));if(ie){for(var ge=0;ge<ie.length;ge++)if(D=ie[ge],D.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&D.getAttribute("rel")===(n.rel==null?null:n.rel)&&D.getAttribute("title")===(n.title==null?null:n.title)&&D.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){ie.splice(ge,1);break t}}D=S.createElement(r),Tn(D,r,n),S.head.appendChild(D);break;case"meta":if(ie=Af("meta","content",S).get(r+(n.content||""))){for(ge=0;ge<ie.length;ge++)if(D=ie[ge],D.getAttribute("content")===(n.content==null?null:""+n.content)&&D.getAttribute("name")===(n.name==null?null:n.name)&&D.getAttribute("property")===(n.property==null?null:n.property)&&D.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&D.getAttribute("charset")===(n.charSet==null?null:n.charSet)){ie.splice(ge,1);break t}}D=S.createElement(r),Tn(D,r,n),S.head.appendChild(D);break;default:throw Error(a(468,r))}D[tt]=e,Pt(D),r=D}e.stateNode=r}else _f(S,e.type,e.stateNode);else e.stateNode=Sf(S,r,e.memoizedProps);else D!==r?(D===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):D.count--,r===null?_f(S,e.type,e.stateNode):Sf(S,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:rr(t,e),ar(e),r&512&&(sn||n===null||Wr(n,n.return)),n!==null&&r&4&&Vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(rr(t,e),ar(e),r&512&&(sn||n===null||Wr(n,n.return)),e.flags&32){S=e.stateNode;try{Tr(S,"")}catch(He){Wt(e,e.return,He)}}r&4&&e.stateNode!=null&&(S=e.memoizedProps,Vu(e,S,n!==null?n.memoizedProps:S)),r&1024&&(Ku=!0);break;case 6:if(rr(t,e),ar(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(He){Wt(e,e.return,He)}}break;case 3:if(Ll=null,S=Dr,Dr=Dl(t.containerInfo),rr(t,e),Dr=S,ar(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(t.containerInfo)}catch(He){Wt(e,e.return,He)}Ku&&(Ku=!1,xh(e));break;case 4:r=Dr,Dr=Dl(e.stateNode.containerInfo),rr(t,e),ar(e),Dr=r;break;case 12:rr(t,e),ar(e);break;case 13:rr(t,e),ar(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rc=U()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qu(e,r)));break;case 22:S=e.memoizedState!==null;var Ee=n!==null&&n.memoizedState!==null,Ie=ga,Ve=sn;if(ga=Ie||S,sn=Ve||Ee,rr(t,e),sn=Ve,ga=Ie,ar(e),r&8192)e:for(t=e.stateNode,t._visibility=S?t._visibility&-2:t._visibility|1,S&&(n===null||Ee||ga||sn||Si(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){Ee=n=t;try{if(D=Ee.stateNode,S)ie=D.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{ge=Ee.stateNode;var Je=Ee.memoizedProps.style,Ue=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;ge.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(He){Wt(Ee,Ee.return,He)}}}else if(t.tag===6){if(n===null){Ee=t;try{Ee.stateNode.nodeValue=S?"":Ee.memoizedProps}catch(He){Wt(Ee,Ee.return,He)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Qu(e,n))));break;case 19:rr(t,e),ar(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qu(e,r)));break;case 30:break;case 21:break;default:rr(t,e),ar(e)}}function ar(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(yh(r)){n=r;break}r=r.return}if(n==null)throw Error(a(160));switch(n.tag){case 27:var S=n.stateNode,D=Yu(e);Sl(e,D,S);break;case 5:var ie=n.stateNode;n.flags&32&&(Tr(ie,""),n.flags&=-33);var ge=Yu(e);Sl(e,ge,ie);break;case 3:case 4:var Ee=n.stateNode.containerInfo,Ie=Yu(e);$u(e,Ie,Ee);break;default:throw Error(a(161))}}catch(Ve){Wt(e,e.return,Ve)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Na(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_h(e,t.alternate,t),t=t.sibling}function Si(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ia(4,t,t.return),Si(t);break;case 1:Wr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vh(t,t.return,n),Si(t);break;case 27:Ao(t.stateNode);case 26:case 5:Wr(t,t.return),Si(t);break;case 22:t.memoizedState===null&&Si(t);break;case 30:Si(t);break;default:Si(t)}e=e.sibling}}function Ba(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,S=e,D=t,ie=D.flags;switch(D.tag){case 0:case 11:case 15:Ba(S,D,n),co(4,D);break;case 1:if(Ba(S,D,n),r=D,S=r.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ie){Wt(r,r.return,Ie)}if(r=D,S=r.updateQueue,S!==null){var ge=r.stateNode;try{var Ee=S.shared.hiddenCallbacks;if(Ee!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ee.length;S++)nd(Ee[S],ge)}catch(Ie){Wt(r,r.return,Ie)}}n&&ie&64&&gh(D),ho(D,D.return);break;case 27:Sh(D);case 26:case 5:Ba(S,D,n),n&&r===null&&ie&4&&bh(D),ho(D,D.return);break;case 12:Ba(S,D,n);break;case 13:Ba(S,D,n),n&&ie&4&&Th(S,D);break;case 22:D.memoizedState===null&&Ba(S,D,n),ho(D,D.return);break;case 30:break;default:Ba(S,D,n)}t=t.sibling}}function Zu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Y(n))}function Ju(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Y(e))}function Gr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wh(e,t,n,r),t=t.sibling}function wh(e,t,n,r){var S=t.flags;switch(t.tag){case 0:case 11:case 15:Gr(e,t,n,r),S&2048&&co(9,t);break;case 1:Gr(e,t,n,r);break;case 3:Gr(e,t,n,r),S&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Y(e)));break;case 12:if(S&2048){Gr(e,t,n,r),e=t.stateNode;try{var D=t.memoizedProps,ie=D.id,ge=D.onPostCommit;typeof ge=="function"&&ge(ie,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Ee){Wt(t,t.return,Ee)}}else Gr(e,t,n,r);break;case 13:Gr(e,t,n,r);break;case 23:break;case 22:D=t.stateNode,ie=t.alternate,t.memoizedState!==null?D._visibility&2?Gr(e,t,n,r):fo(e,t):D._visibility&2?Gr(e,t,n,r):(D._visibility|=2,ls(e,t,n,r,(t.subtreeFlags&10256)!==0)),S&2048&&Zu(ie,t);break;case 24:Gr(e,t,n,r),S&2048&&Ju(t.alternate,t);break;default:Gr(e,t,n,r)}}function ls(e,t,n,r,S){for(S=S&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var D=e,ie=t,ge=n,Ee=r,Ie=ie.flags;switch(ie.tag){case 0:case 11:case 15:ls(D,ie,ge,Ee,S),co(8,ie);break;case 23:break;case 22:var Ve=ie.stateNode;ie.memoizedState!==null?Ve._visibility&2?ls(D,ie,ge,Ee,S):fo(D,ie):(Ve._visibility|=2,ls(D,ie,ge,Ee,S)),S&&Ie&2048&&Zu(ie.alternate,ie);break;case 24:ls(D,ie,ge,Ee,S),S&&Ie&2048&&Ju(ie.alternate,ie);break;default:ls(D,ie,ge,Ee,S)}t=t.sibling}}function fo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,S=r.flags;switch(r.tag){case 22:fo(n,r),S&2048&&Zu(r.alternate,r);break;case 24:fo(n,r),S&2048&&Ju(r.alternate,r);break;default:fo(n,r)}t=t.sibling}}var po=8192;function us(e){if(e.subtreeFlags&po)for(e=e.child;e!==null;)Ph(e),e=e.sibling}function Ph(e){switch(e.tag){case 26:us(e),e.flags&po&&e.memoizedState!==null&&nm(Dr,e.memoizedState,e.memoizedProps);break;case 5:us(e);break;case 3:case 4:var t=Dr;Dr=Dl(e.stateNode.containerInfo),us(e),Dr=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=po,po=16777216,us(e),po=t):us(e));break;default:us(e)}}function kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function mo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];vn=r,Oh(r,e)}kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mh(e),e=e.sibling}function Mh(e){switch(e.tag){case 0:case 11:case 15:mo(e),e.flags&2048&&Ia(9,e,e.return);break;case 3:mo(e);break;case 12:mo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Al(e)):mo(e);break;default:mo(e)}}function Al(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];vn=r,Oh(r,e)}kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ia(8,t,t.return),Al(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Al(t));break;default:Al(t)}e=e.sibling}}function Oh(e,t){for(;vn!==null;){var n=vn;switch(n.tag){case 0:case 11:case 15:Ia(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Y(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,vn=r;else e:for(n=e;vn!==null;){r=vn;var S=r.sibling,D=r.return;if(Eh(r),r===n){vn=null;break e}if(S!==null){S.return=D,vn=S;break e}vn=D}}}var bp={getCacheForType:function(e){var t=pn(c),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},yp=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Vt=null,xt=null,Ot=0,Ut=0,ir=null,Ua=!1,cs=!1,ec=!1,ba=0,nn=0,za=0,Ai=0,tc=0,Sr=0,ds=0,go=null,Zn=null,nc=!1,rc=0,_l=1/0,El=null,ja=null,Cn=0,Ha=null,hs=null,fs=0,ac=0,ic=null,Dh=null,vo=0,sc=null;function sr(){if((Bt&2)!==0&&Ot!==0)return Ot&-Ot;if(Z.T!==null){var e=xe;return e!==0?e:fc()}return we()}function Fh(){Sr===0&&(Sr=(Ot&536870912)===0||Dt?We():536870912);var e=yr.current;return e!==null&&(e.flags|=32),Sr}function or(e,t,n){(e===Vt&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)&&(ps(e,0),Wa(e,Ot,Sr,!1)),Re(e,n),((Bt&2)===0||e!==Vt)&&(e===Vt&&((Bt&2)===0&&(Ai|=n),nn===4&&Wa(e,Ot,Sr,!1)),qr(e))}function Lh(e,t,n){if((Bt&6)!==0)throw Error(a(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||ut(e,t),S=r?_p(e,t):uc(e,t,!0),D=r;do{if(S===0){cs&&!r&&Wa(e,t,0,!1);break}else{if(n=e.current.alternate,D&&!Sp(n)){S=uc(e,t,!1),D=!1;continue}if(S===2){if(D=t,e.errorRecoveryDisabledLanes&D)var ie=0;else ie=e.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){t=ie;e:{var ge=e;S=go;var Ee=ge.current.memoizedState.isDehydrated;if(Ee&&(ps(ge,ie).flags|=256),ie=uc(ge,ie,!1),ie!==2){if(ec&&!Ee){ge.errorRecoveryDisabledLanes|=D,Ai|=D,S=4;break e}D=Zn,Zn=S,D!==null&&(Zn===null?Zn=D:Zn.push.apply(Zn,D))}S=ie}if(D=!1,S!==2)continue}}if(S===1){ps(e,0),Wa(e,t,0,!0);break}e:{switch(r=e,D=S,D){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Wa(r,t,Sr,!Ua);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(S=rc+300-U(),10<S)){if(Wa(r,t,Sr,!Ua),Ze(r,0,!0)!==0)break e;r.timeoutHandle=df(Ih.bind(null,r,n,Zn,El,nc,t,Sr,Ai,ds,Ua,D,2,-0,0),S);break e}Ih(r,n,Zn,El,nc,t,Sr,Ai,ds,Ua,D,0,-0,0)}}break}while(!0);qr(e)}function Ih(e,t,n,r,S,D,ie,ge,Ee,Ie,Ve,Je,Ue,He){if(e.timeoutHandle=-1,Je=t.subtreeFlags,(Je&8192||(Je&16785408)===16785408)&&(Co={stylesheets:null,count:0,unsuspend:tm},Ph(t),Je=rm(),Je!==null)){e.cancelPendingCommit=Je(Wh.bind(null,e,t,D,n,r,S,ie,ge,Ee,Ve,1,Ue,He)),Wa(e,D,ie,!Ie);return}Wh(e,t,D,n,r,S,ie,ge,Ee)}function Sp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var S=n[r],D=S.getSnapshot;S=S.value;try{if(!wn(D(),S))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t,n,r){t&=~tc,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var S=t;0<S;){var D=31-Ge(S),ie=1<<D;r[D]=-1,S&=~ie}n!==0&&ot(e,n,t)}function Cl(){return(Bt&6)===0?(bo(0),!1):!0}function oc(){if(xt!==null){if(Ut===0)var e=xt.return;else e=xt,Xn=ua=null,Cu(e),ss=null,oo=0,e=xt;for(;e!==null;)mh(e.alternate,e),e=e.return;xt=null}}function ps(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Bp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),oc(),Vt=e,xt=n=Fn(e.current,null),Ot=t,Ut=0,ir=null,Ua=!1,cs=ut(e,t),ec=!1,ds=Sr=tc=Ai=za=nn=0,Zn=go=null,nc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var S=31-Ge(r),D=1<<S;t|=e[S],r&=~D}return ba=t,Vi(),n}function Nh(e,t){Ct=null,Z.H=dl,t===mn||t===tn?(t=Ft(),Ut=3):t===nr?(t=Ft(),Ut=4):Ut=t===th?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ir=t,xt===null&&(nn=1,gl(e,Gn(t,e.current)))}function Bh(){var e=Z.H;return Z.H=dl,e===null?dl:e}function Uh(){var e=Z.A;return Z.A=bp,e}function lc(){nn=4,Ua||(Ot&4194048)!==Ot&&yr.current!==null||(cs=!0),(za&134217727)===0&&(Ai&134217727)===0||Vt===null||Wa(Vt,Ot,Sr,!1)}function uc(e,t,n){var r=Bt;Bt|=2;var S=Bh(),D=Uh();(Vt!==e||Ot!==t)&&(El=null,ps(e,t)),t=!1;var ie=nn;e:do try{if(Ut!==0&&xt!==null){var ge=xt,Ee=ir;switch(Ut){case 8:oc(),ie=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(t=!0);var Ie=Ut;if(Ut=0,ir=null,ms(e,ge,Ee,Ie),n&&cs){ie=0;break e}break;default:Ie=Ut,Ut=0,ir=null,ms(e,ge,Ee,Ie)}}Ap(),ie=nn;break}catch(Ve){Nh(e,Ve)}while(!0);return t&&e.shellSuspendCounter++,Xn=ua=null,Bt=r,Z.H=S,Z.A=D,xt===null&&(Vt=null,Ot=0,Vi()),ie}function Ap(){for(;xt!==null;)zh(xt)}function _p(e,t){var n=Bt;Bt|=2;var r=Bh(),S=Uh();Vt!==e||Ot!==t?(El=null,_l=U()+500,ps(e,t)):cs=ut(e,t);e:do try{if(Ut!==0&&xt!==null){t=xt;var D=ir;t:switch(Ut){case 1:Ut=0,ir=null,ms(e,t,D,1);break;case 2:case 9:if(Mn(D)){Ut=0,ir=null,jh(t);break}t=function(){Ut!==2&&Ut!==9||Vt!==e||(Ut=7),qr(e)},D.then(t,t);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:Mn(D)?(Ut=0,ir=null,jh(t)):(Ut=0,ir=null,ms(e,t,D,7));break;case 5:var ie=null;switch(xt.tag){case 26:ie=xt.memoizedState;case 5:case 27:var ge=xt;if(!ie||Ef(ie)){Ut=0,ir=null;var Ee=ge.sibling;if(Ee!==null)xt=Ee;else{var Ie=ge.return;Ie!==null?(xt=Ie,Tl(Ie)):xt=null}break t}}Ut=0,ir=null,ms(e,t,D,5);break;case 6:Ut=0,ir=null,ms(e,t,D,6);break;case 8:oc(),nn=6;break e;default:throw Error(a(462))}}Ep();break}catch(Ve){Nh(e,Ve)}while(!0);return Xn=ua=null,Z.H=r,Z.A=S,Bt=n,xt!==null?0:(Vt=null,Ot=0,Vi(),nn)}function Ep(){for(;xt!==null&&!$();)zh(xt)}function zh(e){var t=fh(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?Tl(e):xt=t}function jh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=oh(n,t,t.pendingProps,t.type,void 0,Ot);break;case 11:t=oh(n,t,t.pendingProps,t.type.render,t.ref,Ot);break;case 5:Cu(t);default:mh(n,t),t=xt=Vs(t,ba),t=fh(n,t,ba)}e.memoizedProps=e.pendingProps,t===null?Tl(e):xt=t}function ms(e,t,n,r){Xn=ua=null,Cu(t),ss=null,oo=0;var S=t.return;try{if(hp(e,S,t,n,Ot)){nn=1,gl(e,Gn(n,e.current)),xt=null;return}}catch(D){if(S!==null)throw xt=S,D;nn=1,gl(e,Gn(n,e.current)),xt=null;return}t.flags&32768?(Dt||r===1?e=!0:cs||(Ot&536870912)!==0?e=!1:(Ua=e=!0,(r===2||r===9||r===3||r===6)&&(r=yr.current,r!==null&&r.tag===13&&(r.flags|=16384))),Hh(t,e)):Tl(t)}function Tl(e){var t=e;do{if((t.flags&32768)!==0){Hh(t,Ua);return}e=t.return;var n=pp(t.alternate,t,ba);if(n!==null){xt=n;return}if(t=t.sibling,t!==null){xt=t;return}xt=t=e}while(t!==null);nn===0&&(nn=5)}function Hh(e,t){do{var n=mp(e.alternate,e);if(n!==null){n.flags&=32767,xt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){xt=e;return}xt=e=n}while(e!==null);nn=6,xt=null}function Wh(e,t,n,r,S,D,ie,ge,Ee){e.cancelPendingCommit=null;do Rl();while(Cn!==0);if((Bt&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(D=t.lanes|t.childLanes,D|=qs,qe(e,n,D,ie,ge,Ee),e===Vt&&(xt=Vt=null,Ot=0),hs=t,Ha=e,fs=n,ac=D,ic=S,Dh=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xp(ae,function(){return Yh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Z.T,Z.T=null,S=Q.p,Q.p=2,ie=Bt,Bt|=4;try{gp(e,t,n)}finally{Bt=ie,Q.p=S,Z.T=r}}Cn=1,Gh(),qh(),Xh()}}function Gh(){if(Cn===1){Cn=0;var e=Ha,t=hs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Z.T,Z.T=null;var r=Q.p;Q.p=2;var S=Bt;Bt|=4;try{Rh(t,e);var D=Ac,ie=Qo(e.containerInfo),ge=D.focusedElem,Ee=D.selectionRange;if(ie!==ge&&ge&&ge.ownerDocument&&Wi(ge.ownerDocument.documentElement,ge)){if(Ee!==null&&di(ge)){var Ie=Ee.start,Ve=Ee.end;if(Ve===void 0&&(Ve=Ie),"selectionStart"in ge)ge.selectionStart=Ie,ge.selectionEnd=Math.min(Ve,ge.value.length);else{var Je=ge.ownerDocument||document,Ue=Je&&Je.defaultView||window;if(Ue.getSelection){var He=Ue.getSelection(),At=ge.textContent.length,vt=Math.min(Ee.start,At),Ht=Ee.end===void 0?vt:Math.min(Ee.end,At);!He.extend&&vt>Ht&&(ie=Ht,Ht=vt,vt=ie);var Oe=Ko(ge,vt),Pe=Ko(ge,Ht);if(Oe&&Pe&&(He.rangeCount!==1||He.anchorNode!==Oe.node||He.anchorOffset!==Oe.offset||He.focusNode!==Pe.node||He.focusOffset!==Pe.offset)){var Le=Je.createRange();Le.setStart(Oe.node,Oe.offset),He.removeAllRanges(),vt>Ht?(He.addRange(Le),He.extend(Pe.node,Pe.offset)):(Le.setEnd(Pe.node,Pe.offset),He.addRange(Le))}}}}for(Je=[],He=ge;He=He.parentNode;)He.nodeType===1&&Je.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<Je.length;ge++){var Ke=Je[ge];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Bl=!!Sc,Ac=Sc=null}finally{Bt=S,Q.p=r,Z.T=n}}e.current=t,Cn=2}}function qh(){if(Cn===2){Cn=0;var e=Ha,t=hs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Z.T,Z.T=null;var r=Q.p;Q.p=2;var S=Bt;Bt|=4;try{_h(e,t.alternate,t)}finally{Bt=S,Q.p=r,Z.T=n}}Cn=3}}function Xh(){if(Cn===4||Cn===3){Cn=0,R();var e=Ha,t=hs,n=fs,r=Dh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Cn=5:(Cn=0,hs=Ha=null,Vh(e,e.pendingLanes));var S=e.pendingLanes;if(S===0&&(ja=null),Ne(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(ke,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Z.T,S=Q.p,Q.p=2,Z.T=null;try{for(var D=e.onRecoverableError,ie=0;ie<r.length;ie++){var ge=r[ie];D(ge.value,{componentStack:ge.stack})}}finally{Z.T=t,Q.p=S}}(fs&3)!==0&&Rl(),qr(e),S=e.pendingLanes,(n&4194090)!==0&&(S&42)!==0?e===sc?vo++:(vo=0,sc=e):vo=0,bo(0)}}function Vh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Y(t)))}function Rl(e){return Gh(),qh(),Xh(),Yh()}function Yh(){if(Cn!==5)return!1;var e=Ha,t=ac;ac=0;var n=Ne(fs),r=Z.T,S=Q.p;try{Q.p=32>n?32:n,Z.T=null,n=ic,ic=null;var D=Ha,ie=fs;if(Cn=0,hs=Ha=null,fs=0,(Bt&6)!==0)throw Error(a(331));var ge=Bt;if(Bt|=4,Mh(D.current),wh(D,D.current,ie,n),Bt=ge,bo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(ke,D)}catch{}return!0}finally{Q.p=S,Z.T=r,Vh(e,t)}}function $h(e,t,n){t=Gn(n,t),t=Bu(e.stateNode,t,2),e=Or(e,t,2),e!==null&&(Re(e,2),qr(e))}function Wt(e,t,n){if(e.tag===3)$h(e,e,n);else for(;t!==null;){if(t.tag===3){$h(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ja===null||!ja.has(r))){e=Gn(n,e),n=Jd(2),r=Or(t,n,2),r!==null&&(eh(n,r,t,e),Re(r,2),qr(r));break}}t=t.return}}function cc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yp;var S=new Set;r.set(t,S)}else S=r.get(t),S===void 0&&(S=new Set,r.set(t,S));S.has(n)||(ec=!0,S.add(n),e=Cp.bind(null,e,t,n),t.then(e,e))}function Cp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Vt===e&&(Ot&n)===n&&(nn===4||nn===3&&(Ot&62914560)===Ot&&300>U()-rc?(Bt&2)===0&&ps(e,0):tc|=n,ds===Ot&&(ds=0)),qr(e)}function Kh(e,t){t===0&&(t=it()),e=ka(e,t),e!==null&&(Re(e,t),qr(e))}function Tp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kh(e,n)}function Rp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,S=e.memoizedState;S!==null&&(n=S.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(t),Kh(e,n)}function xp(e,t){return W(e,t)}var xl=null,gs=null,dc=!1,wl=!1,hc=!1,_i=0;function qr(e){e!==gs&&e.next===null&&(gs===null?xl=gs=e:gs=gs.next=e),wl=!0,dc||(dc=!0,Pp())}function bo(e,t){if(!hc&&wl){hc=!0;do for(var n=!1,r=xl;r!==null;){if(e!==0){var S=r.pendingLanes;if(S===0)var D=0;else{var ie=r.suspendedLanes,ge=r.pingedLanes;D=(1<<31-Ge(42|e)+1)-1,D&=S&~(ie&~ge),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(n=!0,ef(r,D))}else D=Ot,D=Ze(r,r===Vt?D:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(D&3)===0||ut(r,D)||(n=!0,ef(r,D));r=r.next}while(n);hc=!1}}function wp(){Qh()}function Qh(){wl=dc=!1;var e=0;_i!==0&&(Np()&&(e=_i),_i=0);for(var t=U(),n=null,r=xl;r!==null;){var S=r.next,D=Zh(r,t);D===0?(r.next=null,n===null?xl=S:n.next=S,S===null&&(gs=n)):(n=r,(e!==0||(D&3)!==0)&&(wl=!0)),r=S}bo(e)}function Zh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,S=e.expirationTimes,D=e.pendingLanes&-62914561;0<D;){var ie=31-Ge(D),ge=1<<ie,Ee=S[ie];Ee===-1?((ge&n)===0||(ge&r)!==0)&&(S[ie]=St(ge,t)):Ee<=t&&(e.expiredLanes|=ge),D&=~ge}if(t=Vt,n=Ot,n=Ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ne(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ut(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&ne(r),Ne(n)){case 2:case 8:n=le;break;case 32:n=ae;break;case 268435456:n=oe;break;default:n=ae}return r=Jh.bind(null,e),n=W(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&ne(r),e.callbackPriority=2,e.callbackNode=null,2}function Jh(e,t){if(Cn!==0&&Cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Rl()&&e.callbackNode!==n)return null;var r=Ot;return r=Ze(e,e===Vt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Lh(e,r,t),Zh(e,U()),e.callbackNode!=null&&e.callbackNode===n?Jh.bind(null,e):null)}function ef(e,t){if(Rl())return null;Lh(e,t,!0)}function Pp(){Up(function(){(Bt&6)!==0?W(J,wp):Qh()})}function fc(){return _i===0&&(_i=We()),_i}function tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mi(""+e)}function nf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function kp(e,t,n,r,S){if(t==="submit"&&n&&n.stateNode===S){var D=tf((S[lt]||null).action),ie=r.submitter;ie&&(t=(t=ie[lt]||null)?tf(t.formAction):ie.getAttribute("formAction"),t!==null&&(D=t,ie=null));var ge=new Ii("action","action",null,r,S);e.push({event:ge,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_i!==0){var Ee=ie?nf(S,ie):new FormData(S);Du(n,{pending:!0,data:Ee,method:S.method,action:D},null,Ee)}}else typeof D=="function"&&(ge.preventDefault(),Ee=ie?nf(S,ie):new FormData(S),Du(n,{pending:!0,data:Ee,method:S.method,action:D},D,Ee))},currentTarget:S}]})}}for(var pc=0;pc<Gs.length;pc++){var mc=Gs[pc],Mp=mc.toLowerCase(),Op=mc[0].toUpperCase()+mc.slice(1);tr(Mp,"on"+Op)}tr(aa,"onAnimationEnd"),tr(Wn,"onAnimationIteration"),tr(Xi,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(pu,"onTransitionRun"),tr(wa,"onTransitionStart"),tr(Zo,"onTransitionCancel"),tr(Jo,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function rf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],S=r.event;r=r.listeners;e:{var D=void 0;if(t)for(var ie=r.length-1;0<=ie;ie--){var ge=r[ie],Ee=ge.instance,Ie=ge.currentTarget;if(ge=ge.listener,Ee!==D&&S.isPropagationStopped())break e;D=ge,S.currentTarget=Ie;try{D(S)}catch(Ve){ml(Ve)}S.currentTarget=null,D=Ee}else for(ie=0;ie<r.length;ie++){if(ge=r[ie],Ee=ge.instance,Ie=ge.currentTarget,ge=ge.listener,Ee!==D&&S.isPropagationStopped())break e;D=ge,S.currentTarget=Ie;try{D(S)}catch(Ve){ml(Ve)}S.currentTarget=null,D=Ee}}}}function wt(e,t){var n=t[_t];n===void 0&&(n=t[_t]=new Set);var r=e+"__bubble";n.has(r)||(af(t,e,2,!1),n.add(r))}function gc(e,t,n){var r=0;t&&(r|=4),af(n,e,r,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function vc(e){if(!e[Pl]){e[Pl]=!0,Er.forEach(function(n){n!=="selectionchange"&&(Dp.has(n)||gc(n,!1,e),gc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,gc("selectionchange",!1,t))}}function af(e,t,n,r){switch(Pf(t)){case 2:var S=sm;break;case 8:S=om;break;default:S=Mc}n=S.bind(null,t,n,e),S=void 0,!Fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(S=!0),r?S!==void 0?e.addEventListener(t,n,{capture:!0,passive:S}):e.addEventListener(t,n,!0):S!==void 0?e.addEventListener(t,n,{passive:S}):e.addEventListener(t,n,!1)}function bc(e,t,n,r,S){var D=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var ie=r.tag;if(ie===3||ie===4){var ge=r.stateNode.containerInfo;if(ge===S)break;if(ie===4)for(ie=r.return;ie!==null;){var Ee=ie.tag;if((Ee===3||Ee===4)&&ie.stateNode.containerInfo===S)return;ie=ie.return}for(;ge!==null;){if(ie=Zt(ge),ie===null)return;if(Ee=ie.tag,Ee===5||Ee===6||Ee===26||Ee===27){r=D=ie;continue e}ge=ge.parentNode}}r=r.return}Di(function(){var Ie=D,Ve=Ms(n),Je=[];e:{var Ue=pi.get(e);if(Ue!==void 0){var He=Ii,At=e;switch(e){case"keypress":if(Jr(n)===0)break e;case"keydown":case"keyup":He=au;break;case"focusin":At="focus",He=Ir;break;case"focusout":At="blur",He=Ir;break;case"beforeblur":case"afterblur":He=Ir;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=xr;break;case aa:case Wn:case Xi:He=jo;break;case Jo:He=su;break;case"scroll":case"scrollend":He=Uo;break;case"wheel":He=ou;break;case"copy":case"cut":case"paste":He=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=ri;break;case"toggle":case"beforetoggle":He=Wo}var vt=(t&4)!==0,Ht=!vt&&(e==="scroll"||e==="scrollend"),Oe=vt?Ue!==null?Ue+"Capture":null:Ue;vt=[];for(var Pe=Ie,Le;Pe!==null;){var Ke=Pe;if(Le=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Le===null||Oe===null||(Ke=jn(Pe,Oe),Ke!=null&&vt.push(So(Pe,Ke,Le))),Ht)break;Pe=Pe.return}0<vt.length&&(Ue=new He(Ue,At,null,n,Ve),Je.push({event:Ue,listeners:vt}))}}if((t&7)===0){e:{if(Ue=e==="mouseover"||e==="pointerover",He=e==="mouseout"||e==="pointerout",Ue&&n!==ks&&(At=n.relatedTarget||n.fromElement)&&(Zt(At)||At[ct]))break e;if((He||Ue)&&(Ue=Ve.window===Ve?Ve:(Ue=Ve.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,He?(At=n.relatedTarget||n.toElement,He=Ie,At=At?Zt(At):null,At!==null&&(Ht=T(At),vt=At.tag,At!==Ht||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(He=null,At=Ie),He!==At)){if(vt=Fs,Ke="onMouseLeave",Oe="onMouseEnter",Pe="mouse",(e==="pointerout"||e==="pointerover")&&(vt=ri,Ke="onPointerLeave",Oe="onPointerEnter",Pe="pointer"),Ht=He==null?Ue:fn(He),Le=At==null?Ue:fn(At),Ue=new vt(Ke,Pe+"leave",He,n,Ve),Ue.target=Ht,Ue.relatedTarget=Le,Ke=null,Zt(Ve)===Ie&&(vt=new vt(Oe,Pe+"enter",At,n,Ve),vt.target=Le,vt.relatedTarget=Ht,Ke=vt),Ht=Ke,He&&At)t:{for(vt=He,Oe=At,Pe=0,Le=vt;Le;Le=vs(Le))Pe++;for(Le=0,Ke=Oe;Ke;Ke=vs(Ke))Le++;for(;0<Pe-Le;)vt=vs(vt),Pe--;for(;0<Le-Pe;)Oe=vs(Oe),Le--;for(;Pe--;){if(vt===Oe||Oe!==null&&vt===Oe.alternate)break t;vt=vs(vt),Oe=vs(Oe)}vt=null}else vt=null;He!==null&&sf(Je,Ue,He,vt,!1),At!==null&&Ht!==null&&sf(Je,Ht,At,vt,!0)}}e:{if(Ue=Ie?fn(Ie):window,He=Ue.nodeName&&Ue.nodeName.toLowerCase(),He==="select"||He==="input"&&Ue.type==="file")var dt=ui;else if(ii(Ue))if(ji)dt=Hi;else{dt=hu;var Rt=js}else He=Ue.nodeName,!He||He.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?Ie&&ws(Ie.elementType)&&(dt=ui):dt=Yo;if(dt&&(dt=dt(e,Ie))){Ta(Je,dt,n,Ve);break e}Rt&&Rt(e,Ue,Ie),e==="focusout"&&Ie&&Ue.type==="number"&&Ie.memoizedProps.value!=null&&Rn(Ue,"number",Ue.value)}switch(Rt=Ie?fn(Ie):window,e){case"focusin":(ii(Rt)||Rt.contentEditable==="true")&&(xa=Rt,Ws=Ie,hi=null);break;case"focusout":hi=Ws=xa=null;break;case"mousedown":Gi=!0;break;case"contextmenu":case"mouseup":case"dragend":Gi=!1,ur(Je,n,Ve);break;case"selectionchange":if(fu)break;case"keydown":case"keyup":ur(Je,n,Ve)}var ft;if(Ui)e:{switch(e){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Ca?qo(e,n)&&(yt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(yt="onCompositionStart");yt&&(na&&n.locale!=="ko"&&(Ca||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ca&&(ft=ei()):(Rr=Ve,Aa="value"in Rr?Rr.value:Rr.textContent,Ca=!0)),Rt=kl(Ie,yt),0<Rt.length&&(yt=new Bi(yt,e,null,n,Ve),Je.push({event:yt,listeners:Rt}),ft?yt.data=ft:(ft=ai(n),ft!==null&&(yt.data=ft)))),(ft=Go?cu(e,n):Xo(e,n))&&(yt=kl(Ie,"onBeforeInput"),0<yt.length&&(Rt=new Bi("onBeforeInput","beforeinput",null,n,Ve),Je.push({event:Rt,listeners:yt}),Rt.data=ft)),kp(Je,e,Ie,n,Ve)}rf(Je,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kl(e,t){for(var n=t+"Capture",r=[];e!==null;){var S=e,D=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||D===null||(S=jn(e,n),S!=null&&r.unshift(So(e,S,D)),S=jn(e,t),S!=null&&r.push(So(e,S,D))),e.tag===3)return r;e=e.return}return[]}function vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sf(e,t,n,r,S){for(var D=t._reactName,ie=[];n!==null&&n!==r;){var ge=n,Ee=ge.alternate,Ie=ge.stateNode;if(ge=ge.tag,Ee!==null&&Ee===r)break;ge!==5&&ge!==26&&ge!==27||Ie===null||(Ee=Ie,S?(Ie=jn(n,D),Ie!=null&&ie.unshift(So(n,Ie,Ee))):S||(Ie=jn(n,D),Ie!=null&&ie.push(So(n,Ie,Ee)))),n=n.return}ie.length!==0&&e.push({event:t,listeners:ie})}var Fp=/\r\n?/g,Lp=/\u0000|\uFFFD/g;function of(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Lp,"")}function lf(e,t){return t=of(t),of(e)===t}function Ml(){}function jt(e,t,n,r,S,D){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Tr(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Tr(e,""+r);break;case"className":Ka(e,"class",r);break;case"tabIndex":Ka(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ka(e,n,r);break;case"style":Io(e,r,D);break;case"data":if(t!=="object"){Ka(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Mi(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(n==="formAction"?(t!=="input"&&jt(e,t,"name",S.name,S,null),jt(e,t,"formEncType",S.formEncType,S,null),jt(e,t,"formMethod",S.formMethod,S,null),jt(e,t,"formTarget",S.formTarget,S,null)):(jt(e,t,"encType",S.encType,S,null),jt(e,t,"method",S.method,S,null),jt(e,t,"target",S.target,S,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Mi(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Ml);break;case"onScroll":r!=null&&wt("scroll",e);break;case"onScrollEnd":r!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(n=r.__html,n!=null){if(S.children!=null)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Mi(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Sa(e,"popover",r);break;case"xlinkActuate":Un(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Un(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Un(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Un(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Un(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Un(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Un(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Un(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Un(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Sa(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ps.get(n)||n,Sa(e,n,r))}}function yc(e,t,n,r,S,D){switch(n){case"style":Io(e,r,D);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(n=r.__html,n!=null){if(S.children!=null)throw Error(a(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Tr(e,r):(typeof r=="number"||typeof r=="bigint")&&Tr(e,""+r);break;case"onScroll":r!=null&&wt("scroll",e);break;case"onScrollEnd":r!=null&&wt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(S=n.endsWith("Capture"),t=n.slice(2,S?n.length-7:void 0),D=e[lt]||null,D=D!=null?D[n]:null,typeof D=="function"&&e.removeEventListener(t,D,S),typeof r=="function")){typeof D!="function"&&D!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,S);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Sa(e,n,r)}}}function Tn(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var r=!1,S=!1,D;for(D in n)if(n.hasOwnProperty(D)){var ie=n[D];if(ie!=null)switch(D){case"src":r=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:jt(e,t,D,ie,n,null)}}S&&jt(e,t,"srcSet",n.srcSet,n,null),r&&jt(e,t,"src",n.src,n,null);return;case"input":wt("invalid",e);var ge=D=ie=S=null,Ee=null,Ie=null;for(r in n)if(n.hasOwnProperty(r)){var Ve=n[r];if(Ve!=null)switch(r){case"name":S=Ve;break;case"type":ie=Ve;break;case"checked":Ee=Ve;break;case"defaultChecked":Ie=Ve;break;case"value":D=Ve;break;case"defaultValue":ge=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(a(137,t));break;default:jt(e,t,r,Ve,n,null)}}Qa(e,D,ge,Ee,Ie,ie,S,!1),wi(e);return;case"select":wt("invalid",e),r=ie=D=null;for(S in n)if(n.hasOwnProperty(S)&&(ge=n[S],ge!=null))switch(S){case"value":D=ge;break;case"defaultValue":ie=ge;break;case"multiple":r=ge;default:jt(e,t,S,ge,n,null)}t=D,n=ie,e.multiple=!!r,t!=null?Kr(e,!!r,t,!1):n!=null&&Kr(e,!!r,n,!0);return;case"textarea":wt("invalid",e),D=S=r=null;for(ie in n)if(n.hasOwnProperty(ie)&&(ge=n[ie],ge!=null))switch(ie){case"value":r=ge;break;case"defaultValue":S=ge;break;case"children":D=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(91));break;default:jt(e,t,ie,ge,n,null)}Rs(e,r,S,D),wi(e);return;case"option":for(Ee in n)if(n.hasOwnProperty(Ee)&&(r=n[Ee],r!=null))switch(Ee){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:jt(e,t,Ee,r,n,null)}return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(r=0;r<yo.length;r++)wt(yo[r],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in n)if(n.hasOwnProperty(Ie)&&(r=n[Ie],r!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:jt(e,t,Ie,r,n,null)}return;default:if(ws(t)){for(Ve in n)n.hasOwnProperty(Ve)&&(r=n[Ve],r!==void 0&&yc(e,t,Ve,r,n,void 0));return}}for(ge in n)n.hasOwnProperty(ge)&&(r=n[ge],r!=null&&jt(e,t,ge,r,n,null))}function Ip(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,D=null,ie=null,ge=null,Ee=null,Ie=null,Ve=null;for(He in n){var Je=n[He];if(n.hasOwnProperty(He)&&Je!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":Ee=Je;default:r.hasOwnProperty(He)||jt(e,t,He,null,r,Je)}}for(var Ue in r){var He=r[Ue];if(Je=n[Ue],r.hasOwnProperty(Ue)&&(He!=null||Je!=null))switch(Ue){case"type":D=He;break;case"name":S=He;break;case"checked":Ie=He;break;case"defaultChecked":Ve=He;break;case"value":ie=He;break;case"defaultValue":ge=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(a(137,t));break;default:He!==Je&&jt(e,t,Ue,He,r,Je)}}$r(e,ie,ge,Ee,Ie,Ve,D,S);return;case"select":He=ie=ge=Ue=null;for(D in n)if(Ee=n[D],n.hasOwnProperty(D)&&Ee!=null)switch(D){case"value":break;case"multiple":He=Ee;default:r.hasOwnProperty(D)||jt(e,t,D,null,r,Ee)}for(S in r)if(D=r[S],Ee=n[S],r.hasOwnProperty(S)&&(D!=null||Ee!=null))switch(S){case"value":Ue=D;break;case"defaultValue":ge=D;break;case"multiple":ie=D;default:D!==Ee&&jt(e,t,S,D,r,Ee)}t=ge,n=ie,r=He,Ue!=null?Kr(e,!!n,Ue,!1):!!r!=!!n&&(t!=null?Kr(e,!!n,t,!0):Kr(e,!!n,n?[]:"",!1));return;case"textarea":He=Ue=null;for(ge in n)if(S=n[ge],n.hasOwnProperty(ge)&&S!=null&&!r.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:jt(e,t,ge,null,r,S)}for(ie in r)if(S=r[ie],D=n[ie],r.hasOwnProperty(ie)&&(S!=null||D!=null))switch(ie){case"value":Ue=S;break;case"defaultValue":He=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:S!==D&&jt(e,t,ie,S,r,D)}Pi(e,Ue,He);return;case"option":for(var At in n)if(Ue=n[At],n.hasOwnProperty(At)&&Ue!=null&&!r.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:jt(e,t,At,null,r,Ue)}for(Ee in r)if(Ue=r[Ee],He=n[Ee],r.hasOwnProperty(Ee)&&Ue!==He&&(Ue!=null||He!=null))switch(Ee){case"selected":e.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:jt(e,t,Ee,Ue,r,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in n)Ue=n[vt],n.hasOwnProperty(vt)&&Ue!=null&&!r.hasOwnProperty(vt)&&jt(e,t,vt,null,r,Ue);for(Ie in r)if(Ue=r[Ie],He=n[Ie],r.hasOwnProperty(Ie)&&Ue!==He&&(Ue!=null||He!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(a(137,t));break;default:jt(e,t,Ie,Ue,r,He)}return;default:if(ws(t)){for(var Ht in n)Ue=n[Ht],n.hasOwnProperty(Ht)&&Ue!==void 0&&!r.hasOwnProperty(Ht)&&yc(e,t,Ht,void 0,r,Ue);for(Ve in r)Ue=r[Ve],He=n[Ve],!r.hasOwnProperty(Ve)||Ue===He||Ue===void 0&&He===void 0||yc(e,t,Ve,Ue,r,He);return}}for(var Oe in n)Ue=n[Oe],n.hasOwnProperty(Oe)&&Ue!=null&&!r.hasOwnProperty(Oe)&&jt(e,t,Oe,null,r,Ue);for(Je in r)Ue=r[Je],He=n[Je],!r.hasOwnProperty(Je)||Ue===He||Ue==null&&He==null||jt(e,t,Je,Ue,r,He)}var Sc=null,Ac=null;function Ol(e){return e.nodeType===9?e:e.ownerDocument}function uf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ec=null;function Np(){var e=window.event;return e&&e.type==="popstate"?e===Ec?!1:(Ec=e,!0):(Ec=null,!1)}var df=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,Up=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(e){return hf.resolve(null).then(e).catch(zp)}:df;function zp(e){setTimeout(function(){throw e})}function Ga(e){return e==="head"}function ff(e,t){var n=t,r=0,S=0;do{var D=n.nextSibling;if(e.removeChild(n),D&&D.nodeType===8)if(n=D.data,n==="/$"){if(0<r&&8>r){n=r;var ie=e.ownerDocument;if(n&1&&Ao(ie.documentElement),n&2&&Ao(ie.body),n&4)for(n=ie.head,Ao(n),ie=n.firstChild;ie;){var ge=ie.nextSibling,Ee=ie.nodeName;ie[Nt]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&ie.rel.toLowerCase()==="stylesheet"||n.removeChild(ie),ie=ge}}if(S===0){e.removeChild(D),Po(t);return}S--}else n==="$"||n==="$?"||n==="$!"?S++:r=n.charCodeAt(0)-48;else r=0;n=D}while(n);Po(t)}function Cc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cc(n),Mt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jp(e,t,n,r){for(;e.nodeType===1;){var S=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Nt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(D=e.getAttribute("rel"),D==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(D!==S.rel||e.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||e.getAttribute("title")!==(S.title==null?null:S.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(D=e.getAttribute("src"),(D!==(S.src==null?null:S.src)||e.getAttribute("type")!==(S.type==null?null:S.type)||e.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&D&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var D=S.name==null?null:""+S.name;if(S.type==="hidden"&&e.getAttribute("name")===D)return e}else return e;if(e=Fr(e.nextSibling),e===null)break}return null}function Hp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fr(e.nextSibling),e===null))return null;return e}function Tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Wp(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Rc=null;function pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function mf(e,t,n){switch(t=Ol(n),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ao(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mt(e)}var Ar=new Map,gf=new Set;function Dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ya=Q.d;Q.d={f:Gp,r:qp,D:Xp,C:Vp,L:Yp,m:$p,X:Qp,S:Kp,M:Zp};function Gp(){var e=ya.f(),t=Cl();return e||t}function qp(e){var t=en(e);t!==null&&t.tag===5&&t.type==="form"?Ld(t):ya.r(e)}var bs=typeof document>"u"?null:document;function vf(e,t,n){var r=bs;if(r&&typeof t=="string"&&t){var S=yn(t);S='link[rel="'+e+'"][href="'+S+'"]',typeof n=="string"&&(S+='[crossorigin="'+n+'"]'),gf.has(S)||(gf.add(S),e={rel:e,crossOrigin:n,href:t},r.querySelector(S)===null&&(t=r.createElement("link"),Tn(t,"link",e),Pt(t),r.head.appendChild(t)))}}function Xp(e){ya.D(e),vf("dns-prefetch",e,null)}function Vp(e,t){ya.C(e,t),vf("preconnect",e,t)}function Yp(e,t,n){ya.L(e,t,n);var r=bs;if(r&&e&&t){var S='link[rel="preload"][as="'+yn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(S+='[imagesrcset="'+yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(S+='[imagesizes="'+yn(n.imageSizes)+'"]')):S+='[href="'+yn(e)+'"]';var D=S;switch(t){case"style":D=ys(e);break;case"script":D=Ss(e)}Ar.has(D)||(e=g({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ar.set(D,e),r.querySelector(S)!==null||t==="style"&&r.querySelector(_o(D))||t==="script"&&r.querySelector(Eo(D))||(t=r.createElement("link"),Tn(t,"link",e),Pt(t),r.head.appendChild(t)))}}function $p(e,t){ya.m(e,t);var n=bs;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",S='link[rel="modulepreload"][as="'+yn(r)+'"][href="'+yn(e)+'"]',D=S;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Ss(e)}if(!Ar.has(D)&&(e=g({rel:"modulepreload",href:e},t),Ar.set(D,e),n.querySelector(S)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Eo(D)))return}r=n.createElement("link"),Tn(r,"link",e),Pt(r),n.head.appendChild(r)}}}function Kp(e,t,n){ya.S(e,t,n);var r=bs;if(r&&e){var S=Gt(r).hoistableStyles,D=ys(e);t=t||"default";var ie=S.get(D);if(!ie){var ge={loading:0,preload:null};if(ie=r.querySelector(_o(D)))ge.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ar.get(D))&&xc(e,n);var Ee=ie=r.createElement("link");Pt(Ee),Tn(Ee,"link",e),Ee._p=new Promise(function(Ie,Ve){Ee.onload=Ie,Ee.onerror=Ve}),Ee.addEventListener("load",function(){ge.loading|=1}),Ee.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,Fl(ie,t,r)}ie={type:"stylesheet",instance:ie,count:1,state:ge},S.set(D,ie)}}}function Qp(e,t){ya.X(e,t);var n=bs;if(n&&e){var r=Gt(n).hoistableScripts,S=Ss(e),D=r.get(S);D||(D=n.querySelector(Eo(S)),D||(e=g({src:e,async:!0},t),(t=Ar.get(S))&&wc(e,t),D=n.createElement("script"),Pt(D),Tn(D,"link",e),n.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},r.set(S,D))}}function Zp(e,t){ya.M(e,t);var n=bs;if(n&&e){var r=Gt(n).hoistableScripts,S=Ss(e),D=r.get(S);D||(D=n.querySelector(Eo(S)),D||(e=g({src:e,async:!0,type:"module"},t),(t=Ar.get(S))&&wc(e,t),D=n.createElement("script"),Pt(D),Tn(D,"link",e),n.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},r.set(S,D))}}function bf(e,t,n,r){var S=(S=j.current)?Dl(S):null;if(!S)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ys(n.href),n=Gt(S).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ys(n.href);var D=Gt(S).hoistableStyles,ie=D.get(e);if(ie||(S=S.ownerDocument||S,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(e,ie),(D=S.querySelector(_o(e)))&&!D._p&&(ie.instance=D,ie.state.loading=5),Ar.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ar.set(e,n),D||Jp(S,e,n,ie.state))),t&&r===null)throw Error(a(528,""));return ie}if(t&&r!==null)throw Error(a(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ss(n),n=Gt(S).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ys(e){return'href="'+yn(e)+'"'}function _o(e){return'link[rel="stylesheet"]['+e+"]"}function yf(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Jp(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Tn(t,"link",n),Pt(t),e.head.appendChild(t))}function Ss(e){return'[src="'+yn(e)+'"]'}function Eo(e){return"script[async]"+e}function Sf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yn(n.href)+'"]');if(r)return t.instance=r,Pt(r),r;var S=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Pt(r),Tn(r,"style",S),Fl(r,n.precedence,e),t.instance=r;case"stylesheet":S=ys(n.href);var D=e.querySelector(_o(S));if(D)return t.state.loading|=4,t.instance=D,Pt(D),D;r=yf(n),(S=Ar.get(S))&&xc(r,S),D=(e.ownerDocument||e).createElement("link"),Pt(D);var ie=D;return ie._p=new Promise(function(ge,Ee){ie.onload=ge,ie.onerror=Ee}),Tn(D,"link",r),t.state.loading|=4,Fl(D,n.precedence,e),t.instance=D;case"script":return D=Ss(n.src),(S=e.querySelector(Eo(D)))?(t.instance=S,Pt(S),S):(r=n,(S=Ar.get(D))&&(r=g({},n),wc(r,S)),e=e.ownerDocument||e,S=e.createElement("script"),Pt(S),Tn(S,"link",r),e.head.appendChild(S),t.instance=S);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Fl(r,n.precedence,e));return t.instance}function Fl(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=r.length?r[r.length-1]:null,D=S,ie=0;ie<r.length;ie++){var ge=r[ie];if(ge.dataset.precedence===t)D=ge;else if(D!==S)break}D?D.parentNode.insertBefore(e,D.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ll=null;function Af(e,t,n){if(Ll===null){var r=new Map,S=Ll=new Map;S.set(n,r)}else S=Ll,r=S.get(n),r||(r=new Map,S.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),S=0;S<n.length;S++){var D=n[S];if(!(D[Nt]||D[tt]||e==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=D.getAttribute(t)||"";ie=e+ie;var ge=r.get(ie);ge?ge.push(D):r.set(ie,[D])}}return r}function _f(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function em(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ef(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Co=null;function tm(){}function nm(e,t,n){if(Co===null)throw Error(a(475));var r=Co;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var S=ys(n.href),D=e.querySelector(_o(S));if(D){e=D._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Il.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=D,Pt(D);return}D=e.ownerDocument||e,n=yf(n),(S=Ar.get(S))&&xc(n,S),D=D.createElement("link"),Pt(D);var ie=D;ie._p=new Promise(function(ge,Ee){ie.onload=ge,ie.onerror=Ee}),Tn(D,"link",n),t.instance=D}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Il.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function rm(){if(Co===null)throw Error(a(475));var e=Co;return e.stylesheets&&e.count===0&&Pc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Pc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Il(){if(this.count--,this.count===0){if(this.stylesheets)Pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nl=null;function Pc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nl=new Map,t.forEach(am,e),Nl=null,Il.call(e))}function am(e,t){if(!(t.state.loading&4)){var n=Nl.get(e);if(n)var r=n.get(null);else{n=new Map,Nl.set(e,n);for(var S=e.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<S.length;D++){var ie=S[D];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(n.set(ie.dataset.precedence,ie),r=ie)}r&&n.set(null,r)}S=t.instance,ie=S.getAttribute("data-precedence"),D=n.get(ie)||r,D===r&&n.set(null,S),n.set(ie,S),this.count++,r=Il.bind(this),S.addEventListener("load",r),S.addEventListener("error",r),D?D.parentNode.insertBefore(S,D.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(S,e.firstChild)),t.state.loading|=4}}var To={$$typeof:_,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function im(e,t,n,r,S,D,ie,ge){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=r,this.onUncaughtError=S,this.onCaughtError=D,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function Cf(e,t,n,r,S,D,ie,ge,Ee,Ie,Ve,Je){return e=new im(e,t,n,ie,ge,Ee,Ie,Je),t=1,D===!0&&(t|=24),D=Dn(3,null,null,t),e.current=D,D.stateNode=e,t=M(),t.refCount++,e.pooledCache=t,t.refCount++,D.memoizedState={element:r,isDehydrated:n,cache:t},br(D),e}function Tf(e){return e?(e=ia,e):ia}function Rf(e,t,n,r,S,D){S=Tf(S),r.context===null?r.context=S:r.pendingContext=S,r=$n(t),r.payload={element:n},D=D===void 0?null:D,D!==null&&(r.callback=D),n=Or(e,r,t),n!==null&&(or(n,e,t),da(n,e,t))}function xf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kc(e,t){xf(e,t),(e=e.alternate)&&xf(e,t)}function wf(e){if(e.tag===13){var t=ka(e,67108864);t!==null&&or(t,e,67108864),kc(e,67108864)}}var Bl=!0;function sm(e,t,n,r){var S=Z.T;Z.T=null;var D=Q.p;try{Q.p=2,Mc(e,t,n,r)}finally{Q.p=D,Z.T=S}}function om(e,t,n,r){var S=Z.T;Z.T=null;var D=Q.p;try{Q.p=8,Mc(e,t,n,r)}finally{Q.p=D,Z.T=S}}function Mc(e,t,n,r){if(Bl){var S=Oc(r);if(S===null)bc(e,t,r,Ul,n),kf(e,r);else if(um(S,e,t,n,r))r.stopPropagation();else if(kf(e,r),t&4&&-1<lm.indexOf(e)){for(;S!==null;){var D=en(S);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var ie=Be(D.pendingLanes);if(ie!==0){var ge=D;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ie;){var Ee=1<<31-Ge(ie);ge.entanglements[1]|=Ee,ie&=~Ee}qr(D),(Bt&6)===0&&(_l=U()+500,bo(0))}}break;case 13:ge=ka(D,2),ge!==null&&or(ge,D,2),Cl(),kc(D,2)}if(D=Oc(r),D===null&&bc(e,t,r,Ul,n),D===S)break;S=D}S!==null&&r.stopPropagation()}else bc(e,t,r,null,n)}}function Oc(e){return e=Ms(e),Dc(e)}var Ul=null;function Dc(e){if(Ul=null,e=Zt(e),e!==null){var t=T(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=F(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ul=e,null}function Pf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case J:return 2;case le:return 8;case ae:case pe:return 32;case oe:return 268435456;default:return 32}default:return 32}}var Fc=!1,qa=null,Xa=null,Va=null,Ro=new Map,xo=new Map,Ya=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kf(e,t){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function wo(e,t,n,r,S,D){return e===null||e.nativeEvent!==D?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:D,targetContainers:[S]},t!==null&&(t=en(t),t!==null&&wf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,S!==null&&t.indexOf(S)===-1&&t.push(S),e)}function um(e,t,n,r,S){switch(t){case"focusin":return qa=wo(qa,e,t,n,r,S),!0;case"dragenter":return Xa=wo(Xa,e,t,n,r,S),!0;case"mouseover":return Va=wo(Va,e,t,n,r,S),!0;case"pointerover":var D=S.pointerId;return Ro.set(D,wo(Ro.get(D)||null,e,t,n,r,S)),!0;case"gotpointercapture":return D=S.pointerId,xo.set(D,wo(xo.get(D)||null,e,t,n,r,S)),!0}return!1}function Mf(e){var t=Zt(e.target);if(t!==null){var n=T(t);if(n!==null){if(t=n.tag,t===13){if(t=F(n),t!==null){e.blockedOn=t,Xe(e.priority,function(){if(n.tag===13){var r=sr();r=pt(r);var S=ka(n,r);S!==null&&or(S,n,r),kc(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oc(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ks=r,n.target.dispatchEvent(r),ks=null}else return t=en(n),t!==null&&wf(t),e.blockedOn=n,!1;t.shift()}return!0}function Of(e,t,n){zl(e)&&n.delete(t)}function cm(){Fc=!1,qa!==null&&zl(qa)&&(qa=null),Xa!==null&&zl(Xa)&&(Xa=null),Va!==null&&zl(Va)&&(Va=null),Ro.forEach(Of),xo.forEach(Of)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,Fc||(Fc=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,cm)))}var Hl=null;function Df(e){Hl!==e&&(Hl=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Hl===e&&(Hl=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],S=e[t+2];if(typeof r!="function"){if(Dc(r||n)===null)continue;break}var D=en(n);D!==null&&(e.splice(t,3),t-=3,Du(D,{pending:!0,data:S,method:n.method,action:r},r,S))}}))}function Po(e){function t(Ee){return jl(Ee,e)}qa!==null&&jl(qa,e),Xa!==null&&jl(Xa,e),Va!==null&&jl(Va,e),Ro.forEach(t),xo.forEach(t);for(var n=0;n<Ya.length;n++){var r=Ya[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ya.length&&(n=Ya[0],n.blockedOn===null);)Mf(n),n.blockedOn===null&&Ya.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var S=n[r],D=n[r+1],ie=S[lt]||null;if(typeof D=="function")ie||Df(n);else if(ie){var ge=null;if(D&&D.hasAttribute("formAction")){if(S=D,ie=D[lt]||null)ge=ie.formAction;else if(Dc(S)!==null)continue}else ge=ie.action;typeof ge=="function"?n[r+1]=ge:(n.splice(r,3),r-=3),Df(n)}}}function Lc(e){this._internalRoot=e}Wl.prototype.render=Lc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var n=t.current,r=sr();Rf(n,r,e,t,null,null)},Wl.prototype.unmount=Lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rf(e.current,2,null,e,null,null),Cl(),t[ct]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=we();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ya.length&&t!==0&&t<Ya[n].priority;n++);Ya.splice(n,0,e),n===0&&Mf(e)}};var Ff=s.version;if(Ff!=="19.1.0")throw Error(a(527,Ff,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=O(t),e=e!==null?o(e):null,e=e===null?null:e.stateNode,e};var dm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{ke=Gl.inject(dm),Me=Gl}catch{}}return reactDomClient_production.createRoot=function(e,t){if(!h(e))throw Error(a(299));var n=!1,r="",S=$d,D=Kd,ie=Qd,ge=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(S=t.onUncaughtError),t.onCaughtError!==void 0&&(D=t.onCaughtError),t.onRecoverableError!==void 0&&(ie=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(ge=t.unstable_transitionCallbacks)),t=Cf(e,1,!1,null,null,n,r,S,D,ie,ge,null),e[ct]=t.current,vc(e),new Lc(t)},reactDomClient_production.hydrateRoot=function(e,t,n){if(!h(e))throw Error(a(299));var r=!1,S="",D=$d,ie=Kd,ge=Qd,Ee=null,Ie=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(S=n.identifierPrefix),n.onUncaughtError!==void 0&&(D=n.onUncaughtError),n.onCaughtError!==void 0&&(ie=n.onCaughtError),n.onRecoverableError!==void 0&&(ge=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(Ee=n.unstable_transitionCallbacks),n.formState!==void 0&&(Ie=n.formState)),t=Cf(e,1,!0,t,n??null,r,S,D,ie,ge,Ee,Ie),t.context=Tf(null),n=t.current,r=sr(),r=pt(r),S=$n(r),S.callback=null,Or(n,S,r),n=r,t.current.lanes=n,Re(t,n),qr(t),e[ct]=t.current,vc(e),new Wl(t)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(s){console.error(s)}}return u(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=F,dist.serialize=o;const u=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,l=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,T=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function F(y,A){const m=new T,p=y.length;if(p<2)return m;const d=(A==null?void 0:A.decode)||g;let f=0;do{const C=y.indexOf("=",f);if(C===-1)break;const _=y.indexOf(";",f),b=_===-1?p:_;if(C>b){f=y.lastIndexOf(";",C-1)+1;continue}const i=B(y,f,C),v=O(y,C,i),w=y.slice(i,v);if(m[w]===void 0){let E=B(y,C+1,b),I=O(y,b,E);const G=d(y.slice(E,I));m[w]=G}f=b+1}while(f<p);return m}function B(y,A,m){do{const p=y.charCodeAt(A);if(p!==32&&p!==9)return A}while(++A<m);return m}function O(y,A,m){for(;A>m;){const p=y.charCodeAt(--A);if(p!==32&&p!==9)return A+1}return m}function o(y,A,m){const p=(m==null?void 0:m.encode)||encodeURIComponent;if(!u.test(y))throw new TypeError(`argument name is invalid: ${y}`);const d=p(A);if(!s.test(d))throw new TypeError(`argument val is invalid: ${A}`);let f=y+"="+d;if(!m)return f;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);f+="; Max-Age="+m.maxAge}if(m.domain){if(!l.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);f+="; Domain="+m.domain}if(m.path){if(!a.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);f+="; Path="+m.path}if(m.expires){if(!x(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);f+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(f+="; HttpOnly"),m.secure&&(f+="; Secure"),m.partitioned&&(f+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"none":f+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return f}function g(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function x(y){return h.call(y)==="[object Date]"}return dist}requireDist();var PopStateEventType="popstate";function createBrowserHistory(u={}){function s(a,h){let{pathname:T,search:F,hash:B}=a.location;return createLocation("",{pathname:T,search:F,hash:B},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function l(a,h){return typeof h=="string"?h:createPath(h)}return getUrlBasedHistory(s,l,null,u)}function invariant(u,s){if(u===!1||u===null||typeof u>"u")throw new Error(s)}function warning(u,s){if(!u){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(u,s){return{usr:u.state,key:u.key,idx:s}}function createLocation(u,s,l=null,a){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof s=="string"?parsePath(s):s,state:l,key:s&&s.key||a||createKey()}}function createPath({pathname:u="/",search:s="",hash:l=""}){return s&&s!=="?"&&(u+=s.charAt(0)==="?"?s:"?"+s),l&&l!=="#"&&(u+=l.charAt(0)==="#"?l:"#"+l),u}function parsePath(u){let s={};if(u){let l=u.indexOf("#");l>=0&&(s.hash=u.substring(l),u=u.substring(0,l));let a=u.indexOf("?");a>=0&&(s.search=u.substring(a),u=u.substring(0,a)),u&&(s.pathname=u)}return s}function getUrlBasedHistory(u,s,l,a={}){let{window:h=document.defaultView,v5Compat:T=!1}=a,F=h.history,B="POP",O=null,o=g();o==null&&(o=0,F.replaceState({...F.state,idx:o},""));function g(){return(F.state||{idx:null}).idx}function x(){B="POP";let d=g(),f=d==null?null:d-o;o=d,O&&O({action:B,location:p.location,delta:f})}function y(d,f){B="PUSH";let C=createLocation(p.location,d,f);o=g()+1;let _=getHistoryState(C,o),b=p.createHref(C);try{F.pushState(_,"",b)}catch(i){if(i instanceof DOMException&&i.name==="DataCloneError")throw i;h.location.assign(b)}T&&O&&O({action:B,location:p.location,delta:1})}function A(d,f){B="REPLACE";let C=createLocation(p.location,d,f);o=g();let _=getHistoryState(C,o),b=p.createHref(C);F.replaceState(_,"",b),T&&O&&O({action:B,location:p.location,delta:0})}function m(d){return createBrowserURLImpl(d)}let p={get action(){return B},get location(){return u(h,F)},listen(d){if(O)throw new Error("A history only accepts one active listener");return h.addEventListener(PopStateEventType,x),O=d,()=>{h.removeEventListener(PopStateEventType,x),O=null}},createHref(d){return s(h,d)},createURL:m,encodeLocation(d){let f=m(d);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:y,replace:A,go(d){return F.go(d)}};return p}function createBrowserURLImpl(u,s=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(l,"No window.location.(origin|href) available to create URL");let a=typeof u=="string"?u:createPath(u);return a=a.replace(/ $/,"%20"),!s&&a.startsWith("//")&&(a=l+a),new URL(a,l)}function matchRoutes(u,s,l="/"){return matchRoutesImpl(u,s,l,!1)}function matchRoutesImpl(u,s,l,a){let h=typeof s=="string"?parsePath(s):s,T=stripBasename(h.pathname||"/",l);if(T==null)return null;let F=flattenRoutes(u);rankRouteBranches(F);let B=null;for(let O=0;B==null&&O<F.length;++O){let o=decodePath(T);B=matchRouteBranch(F[O],o,a)}return B}function flattenRoutes(u,s=[],l=[],a=""){let h=(T,F,B)=>{let O={relativePath:B===void 0?T.path||"":B,caseSensitive:T.caseSensitive===!0,childrenIndex:F,route:T};O.relativePath.startsWith("/")&&(invariant(O.relativePath.startsWith(a),`Absolute route path "${O.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice(a.length));let o=joinPaths([a,O.relativePath]),g=l.concat(O);T.children&&T.children.length>0&&(invariant(T.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${o}".`),flattenRoutes(T.children,s,g,o)),!(T.path==null&&!T.index)&&s.push({path:o,score:computeScore(o,T.index),routesMeta:g})};return u.forEach((T,F)=>{var B;if(T.path===""||!((B=T.path)!=null&&B.includes("?")))h(T,F);else for(let O of explodeOptionalSegments(T.path))h(T,F,O)}),s}function explodeOptionalSegments(u){let s=u.split("/");if(s.length===0)return[];let[l,...a]=s,h=l.endsWith("?"),T=l.replace(/\?$/,"");if(a.length===0)return h?[T,""]:[T];let F=explodeOptionalSegments(a.join("/")),B=[];return B.push(...F.map(O=>O===""?T:[T,O].join("/"))),h&&B.push(...F),B.map(O=>u.startsWith("/")&&O===""?"/":O)}function rankRouteBranches(u){u.sort((s,l)=>s.score!==l.score?l.score-s.score:compareIndexes(s.routesMeta.map(a=>a.childrenIndex),l.routesMeta.map(a=>a.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=u=>u==="*";function computeScore(u,s){let l=u.split("/"),a=l.length;return l.some(isSplat)&&(a+=splatPenalty),s&&(a+=indexRouteValue),l.filter(h=>!isSplat(h)).reduce((h,T)=>h+(paramRe.test(T)?dynamicSegmentValue:T===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(u,s){return u.length===s.length&&u.slice(0,-1).every((a,h)=>a===s[h])?u[u.length-1]-s[s.length-1]:0}function matchRouteBranch(u,s,l=!1){let{routesMeta:a}=u,h={},T="/",F=[];for(let B=0;B<a.length;++B){let O=a[B],o=B===a.length-1,g=T==="/"?s:s.slice(T.length)||"/",x=matchPath({path:O.relativePath,caseSensitive:O.caseSensitive,end:o},g),y=O.route;if(!x&&o&&l&&!a[a.length-1].route.index&&(x=matchPath({path:O.relativePath,caseSensitive:O.caseSensitive,end:!1},g)),!x)return null;Object.assign(h,x.params),F.push({params:h,pathname:joinPaths([T,x.pathname]),pathnameBase:normalizePathname(joinPaths([T,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(T=joinPaths([T,x.pathnameBase]))}return F}function matchPath(u,s){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[l,a]=compilePath(u.path,u.caseSensitive,u.end),h=s.match(l);if(!h)return null;let T=h[0],F=T.replace(/(.)\/+$/,"$1"),B=h.slice(1);return{params:a.reduce((o,{paramName:g,isOptional:x},y)=>{if(g==="*"){let m=B[y]||"";F=T.slice(0,T.length-m.length).replace(/(.)\/+$/,"$1")}const A=B[y];return x&&!A?o[g]=void 0:o[g]=(A||"").replace(/%2F/g,"/"),o},{}),pathname:T,pathnameBase:F,pattern:u}}function compilePath(u,s=!1,l=!0){warning(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let a=[],h="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(F,B,O)=>(a.push({paramName:B,isOptional:O!=null}),O?"/?([^\\/]+)?":"/([^\\/]+)"));return u.endsWith("*")?(a.push({paramName:"*"}),h+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?h+="\\/*$":u!==""&&u!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,s?void 0:"i"),a]}function decodePath(u){try{return u.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,`The URL path "${u}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),u}}function stripBasename(u,s){if(s==="/")return u;if(!u.toLowerCase().startsWith(s.toLowerCase()))return null;let l=s.endsWith("/")?s.length-1:s.length,a=u.charAt(l);return a&&a!=="/"?null:u.slice(l)||"/"}function resolvePath(u,s="/"){let{pathname:l,search:a="",hash:h=""}=typeof u=="string"?parsePath(u):u;return{pathname:l?l.startsWith("/")?l:resolvePathname(l,s):s,search:normalizeSearch(a),hash:normalizeHash(h)}}function resolvePathname(u,s){let l=s.replace(/\/+$/,"").split("/");return u.split("/").forEach(h=>{h===".."?l.length>1&&l.pop():h!=="."&&l.push(h)}),l.length>1?l.join("/"):"/"}function getInvalidPathError(u,s,l,a){return`Cannot include a '${u}' character in a manually specified \`to.${s}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(u){return u.filter((s,l)=>l===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(u){let s=getPathContributingMatches(u);return s.map((l,a)=>a===s.length-1?l.pathname:l.pathnameBase)}function resolveTo(u,s,l,a=!1){let h;typeof u=="string"?h=parsePath(u):(h={...u},invariant(!h.pathname||!h.pathname.includes("?"),getInvalidPathError("?","pathname","search",h)),invariant(!h.pathname||!h.pathname.includes("#"),getInvalidPathError("#","pathname","hash",h)),invariant(!h.search||!h.search.includes("#"),getInvalidPathError("#","search","hash",h)));let T=u===""||h.pathname==="",F=T?"/":h.pathname,B;if(F==null)B=l;else{let x=s.length-1;if(!a&&F.startsWith("..")){let y=F.split("/");for(;y[0]==="..";)y.shift(),x-=1;h.pathname=y.join("/")}B=x>=0?s[x]:"/"}let O=resolvePath(h,B),o=F&&F!=="/"&&F.endsWith("/"),g=(T||F===".")&&l.endsWith("/");return!O.pathname.endsWith("/")&&(o||g)&&(O.pathname+="/"),O}var joinPaths=u=>u.join("/").replace(/\/\/+/g,"/"),normalizePathname=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,normalizeHash=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function isRouteErrorResponse(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(u,{relative:s}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:a}=reactExports.useContext(NavigationContext),{hash:h,pathname:T,search:F}=useResolvedPath(u,{relative:s}),B=T;return l!=="/"&&(B=T==="/"?l:joinPaths([l,T])),a.createHref({pathname:B,search:F,hash:h})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(u){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(u)}function useNavigate(){let{isDataRoute:u}=reactExports.useContext(RouteContext);return u?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let u=reactExports.useContext(DataRouterContext),{basename:s,navigator:l}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),T=JSON.stringify(getResolveToMatches(a)),F=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{F.current=!0}),reactExports.useCallback((O,o={})=>{if(warning(F.current,navigateEffectWarning),!F.current)return;if(typeof O=="number"){l.go(O);return}let g=resolveTo(O,JSON.parse(T),h,o.relative==="path");u==null&&s!=="/"&&(g.pathname=g.pathname==="/"?s:joinPaths([s,g.pathname])),(o.replace?l.replace:l.push)(g,o.state,o)},[s,l,T,h,u])}reactExports.createContext(null);function useResolvedPath(u,{relative:s}={}){let{matches:l}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),h=JSON.stringify(getResolveToMatches(l));return reactExports.useMemo(()=>resolveTo(u,JSON.parse(h),a,s==="path"),[u,h,a,s])}function useRoutes(u,s){return useRoutesImpl(u,s)}function useRoutesImpl(u,s,l,a){var f;invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=reactExports.useContext(NavigationContext),{matches:T}=reactExports.useContext(RouteContext),F=T[T.length-1],B=F?F.params:{},O=F?F.pathname:"/",o=F?F.pathnameBase:"/",g=F&&F.route;{let C=g&&g.path||"";warningOnce(O,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${O}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let x=useLocation(),y;if(s){let C=typeof s=="string"?parsePath(s):s;invariant(o==="/"||((f=C.pathname)==null?void 0:f.startsWith(o)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${o}" but pathname "${C.pathname}" was given in the \`location\` prop.`),y=C}else y=x;let A=y.pathname||"/",m=A;if(o!=="/"){let C=o.replace(/^\//,"").split("/");m="/"+A.replace(/^\//,"").split("/").slice(C.length).join("/")}let p=matchRoutes(u,{pathname:m});warning(g||p!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),warning(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let d=_renderMatches(p&&p.map(C=>Object.assign({},C,{params:Object.assign({},B,C.params),pathname:joinPaths([o,h.encodeLocation?h.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?o:joinPaths([o,h.encodeLocation?h.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),T,l,a);return s&&d?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},d):d}function DefaultErrorComponent(){let u=useRouteError(),s=isRouteErrorResponse(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),l=u instanceof Error?u.stack:null,a="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:a},T={padding:"2px 4px",backgroundColor:a},F=null;return console.error("Error handled by React Router default ErrorBoundary:",u),F=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:T},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:T},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),l?reactExports.createElement("pre",{style:h},l):null,F)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,s){return s.location!==u.location||s.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:s.error,location:s.location,revalidation:u.revalidation||s.revalidation}}componentDidCatch(u,s){console.error("React Router caught the following error during render",u,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:u,match:s,children:l}){let a=reactExports.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:u},l)}function _renderMatches(u,s=[],l=null,a=null){if(u==null){if(!l)return null;if(l.errors)u=l.matches;else if(s.length===0&&!l.initialized&&l.matches.length>0)u=l.matches;else return null}let h=u,T=l==null?void 0:l.errors;if(T!=null){let O=h.findIndex(o=>o.route.id&&(T==null?void 0:T[o.route.id])!==void 0);invariant(O>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(T).join(",")}`),h=h.slice(0,Math.min(h.length,O+1))}let F=!1,B=-1;if(l)for(let O=0;O<h.length;O++){let o=h[O];if((o.route.HydrateFallback||o.route.hydrateFallbackElement)&&(B=O),o.route.id){let{loaderData:g,errors:x}=l,y=o.route.loader&&!g.hasOwnProperty(o.route.id)&&(!x||x[o.route.id]===void 0);if(o.route.lazy||y){F=!0,B>=0?h=h.slice(0,B+1):h=[h[0]];break}}}return h.reduceRight((O,o,g)=>{let x,y=!1,A=null,m=null;l&&(x=T&&o.route.id?T[o.route.id]:void 0,A=o.route.errorElement||defaultErrorElement,F&&(B<0&&g===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,m=null):B===g&&(y=!0,m=o.route.hydrateFallbackElement||null)));let p=s.concat(h.slice(0,g+1)),d=()=>{let f;return x?f=A:y?f=m:o.route.Component?f=reactExports.createElement(o.route.Component,null):o.route.element?f=o.route.element:f=O,reactExports.createElement(RenderedRoute,{match:o,routeContext:{outlet:O,matches:p,isDataRoute:l!=null},children:f})};return l&&(o.route.ErrorBoundary||o.route.errorElement||g===0)?reactExports.createElement(RenderErrorBoundary,{location:l.location,revalidation:l.revalidation,component:A,error:x,children:d(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):d()},null)}function getDataRouterConsoleError(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(u){let s=reactExports.useContext(DataRouterContext);return invariant(s,getDataRouterConsoleError(u)),s}function useDataRouterState(u){let s=reactExports.useContext(DataRouterStateContext);return invariant(s,getDataRouterConsoleError(u)),s}function useRouteContext(u){let s=reactExports.useContext(RouteContext);return invariant(s,getDataRouterConsoleError(u)),s}function useCurrentRouteId(u){let s=useRouteContext(u),l=s.matches[s.matches.length-1];return invariant(l.route.id,`${u} can only be used on routes that contain a unique "id"`),l.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var a;let u=reactExports.useContext(RouteErrorContext),s=useDataRouterState("useRouteError"),l=useCurrentRouteId("useRouteError");return u!==void 0?u:(a=s.errors)==null?void 0:a[l]}function useNavigateStable(){let{router:u}=useDataRouterContext("useNavigate"),s=useCurrentRouteId("useNavigate"),l=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{l.current=!0}),reactExports.useCallback(async(h,T={})=>{warning(l.current,navigateEffectWarning),l.current&&(typeof h=="number"?u.navigate(h):await u.navigate(h,{fromRouteId:s,...T}))},[u,s])}var alreadyWarned={};function warningOnce(u,s,l){!s&&!alreadyWarned[u]&&(alreadyWarned[u]=!0,warning(!1,l))}reactExports.memo(DataRoutes);function DataRoutes({routes:u,future:s,state:l}){return useRoutesImpl(u,void 0,l,s)}function Route(u){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:u="/",children:s=null,location:l,navigationType:a="POP",navigator:h,static:T=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let F=u.replace(/^\/*/,"/"),B=reactExports.useMemo(()=>({basename:F,navigator:h,static:T,future:{}}),[F,h,T]);typeof l=="string"&&(l=parsePath(l));let{pathname:O="/",search:o="",hash:g="",state:x=null,key:y="default"}=l,A=reactExports.useMemo(()=>{let m=stripBasename(O,F);return m==null?null:{location:{pathname:m,search:o,hash:g,state:x,key:y},navigationType:a}},[F,O,o,g,x,y,a]);return warning(A!=null,`<Router basename="${F}"> is not able to match the URL "${O}${o}${g}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:reactExports.createElement(NavigationContext.Provider,{value:B},reactExports.createElement(LocationContext.Provider,{children:s,value:A}))}function Routes({children:u,location:s}){return useRoutes(createRoutesFromChildren(u),s)}function createRoutesFromChildren(u,s=[]){let l=[];return reactExports.Children.forEach(u,(a,h)=>{if(!reactExports.isValidElement(a))return;let T=[...s,h];if(a.type===reactExports.Fragment){l.push.apply(l,createRoutesFromChildren(a.props.children,T));return}invariant(a.type===Route,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!a.props.index||!a.props.children,"An index route cannot have child routes.");let F={id:a.props.id||T.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(F.children=createRoutesFromChildren(a.props.children,T)),l.push(F)}),l}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(u){return u!=null&&typeof u.tagName=="string"}function isButtonElement(u){return isHtmlElement(u)&&u.tagName.toLowerCase()==="button"}function isFormElement(u){return isHtmlElement(u)&&u.tagName.toLowerCase()==="form"}function isInputElement(u){return isHtmlElement(u)&&u.tagName.toLowerCase()==="input"}function isModifiedEvent(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function shouldProcessLinkClick(u,s){return u.button===0&&(!s||s==="_self")&&!isModifiedEvent(u)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(u){return u!=null&&!supportedFormEncTypes.has(u)?(warning(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):u}function getFormSubmissionInfo(u,s){let l,a,h,T,F;if(isFormElement(u)){let B=u.getAttribute("action");a=B?stripBasename(B,s):null,l=u.getAttribute("method")||defaultMethod,h=getFormEncType(u.getAttribute("enctype"))||defaultEncType,T=new FormData(u)}else if(isButtonElement(u)||isInputElement(u)&&(u.type==="submit"||u.type==="image")){let B=u.form;if(B==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let O=u.getAttribute("formaction")||B.getAttribute("action");if(a=O?stripBasename(O,s):null,l=u.getAttribute("formmethod")||B.getAttribute("method")||defaultMethod,h=getFormEncType(u.getAttribute("formenctype"))||getFormEncType(B.getAttribute("enctype"))||defaultEncType,T=new FormData(B,u),!isFormDataSubmitterSupported()){let{name:o,type:g,value:x}=u;if(g==="image"){let y=o?`${o}.`:"";T.append(`${y}x`,"0"),T.append(`${y}y`,"0")}else o&&T.append(o,x)}}else{if(isHtmlElement(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=defaultMethod,a=null,h=defaultEncType,F=u}return T&&h==="text/plain"&&(F=T,T=void 0),{action:a,method:l.toLowerCase(),encType:h,formData:T,body:F}}function invariant2(u,s){if(u===!1||u===null||typeof u>"u")throw new Error(s)}async function loadRouteModule(u,s){if(u.id in s)return s[u.id];try{let l=await import(u.module);return s[u.id]=l,l}catch(l){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function getKeyedPrefetchLinks(u,s,l){let a=await Promise.all(u.map(async h=>{let T=s.routes[h.route.id];if(T){let F=await loadRouteModule(T,l);return F.links?F.links():[]}return[]}));return dedupeLinkDescriptors(a.flat(1).filter(isHtmlLinkDescriptor).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function getNewMatchesForLinks(u,s,l,a,h,T){let F=(O,o)=>l[o]?O.route.id!==l[o].route.id:!0,B=(O,o)=>{var g;return l[o].pathname!==O.pathname||((g=l[o].route.path)==null?void 0:g.endsWith("*"))&&l[o].params["*"]!==O.params["*"]};return T==="assets"?s.filter((O,o)=>F(O,o)||B(O,o)):T==="data"?s.filter((O,o)=>{var x;let g=a.routes[O.route.id];if(!g||!g.hasLoader)return!1;if(F(O,o)||B(O,o))return!0;if(O.route.shouldRevalidate){let y=O.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((x=l[0])==null?void 0:x.params)||{},nextUrl:new URL(u,window.origin),nextParams:O.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function getModuleLinkHrefs(u,s,{includeHydrateFallback:l}={}){return dedupeHrefs(u.map(a=>{let h=s.routes[a.route.id];if(!h)return[];let T=[h.module];return h.clientActionModule&&(T=T.concat(h.clientActionModule)),h.clientLoaderModule&&(T=T.concat(h.clientLoaderModule)),l&&h.hydrateFallbackModule&&(T=T.concat(h.hydrateFallbackModule)),h.imports&&(T=T.concat(h.imports)),T}).flat(1))}function dedupeHrefs(u){return[...new Set(u)]}function sortKeys(u){let s={},l=Object.keys(u).sort();for(let a of l)s[a]=u[a];return s}function dedupeLinkDescriptors(u,s){let l=new Set;return new Set(s),u.reduce((a,h)=>{let T=JSON.stringify(sortKeys(h));return l.has(T)||(l.add(T),a.push({key:T,link:h})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(u,s){let l=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return l.pathname==="/"?l.pathname="_root.data":s&&stripBasename(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.data`:l.pathname=`${l.pathname.replace(/\/$/,"")}.data`,l}function useDataRouterContext2(){let u=reactExports.useContext(DataRouterContext);return invariant2(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function useDataRouterStateContext(){let u=reactExports.useContext(DataRouterStateContext);return invariant2(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let u=reactExports.useContext(FrameworkContext);return invariant2(u,"You must render this element inside a <HydratedRouter> element"),u}function usePrefetchBehavior(u,s){let l=reactExports.useContext(FrameworkContext),[a,h]=reactExports.useState(!1),[T,F]=reactExports.useState(!1),{onFocus:B,onBlur:O,onMouseEnter:o,onMouseLeave:g,onTouchStart:x}=s,y=reactExports.useRef(null);reactExports.useEffect(()=>{if(u==="render"&&F(!0),u==="viewport"){let p=f=>{f.forEach(C=>{F(C.isIntersecting)})},d=new IntersectionObserver(p,{threshold:.5});return y.current&&d.observe(y.current),()=>{d.disconnect()}}},[u]),reactExports.useEffect(()=>{if(a){let p=setTimeout(()=>{F(!0)},100);return()=>{clearTimeout(p)}}},[a]);let A=()=>{h(!0)},m=()=>{h(!1),F(!1)};return l?u!=="intent"?[T,y,{}]:[T,y,{onFocus:composeEventHandlers(B,A),onBlur:composeEventHandlers(O,m),onMouseEnter:composeEventHandlers(o,A),onMouseLeave:composeEventHandlers(g,m),onTouchStart:composeEventHandlers(x,A)}]:[!1,y,{}]}function composeEventHandlers(u,s){return l=>{u&&u(l),l.defaultPrevented||s(l)}}function PrefetchPageLinks({page:u,...s}){let{router:l}=useDataRouterContext2(),a=reactExports.useMemo(()=>matchRoutes(l.routes,u,l.basename),[l.routes,u,l.basename]);return a?reactExports.createElement(PrefetchPageLinksImpl,{page:u,matches:a,...s}):null}function useKeyedPrefetchLinks(u){let{manifest:s,routeModules:l}=useFrameworkContext(),[a,h]=reactExports.useState([]);return reactExports.useEffect(()=>{let T=!1;return getKeyedPrefetchLinks(u,s,l).then(F=>{T||h(F)}),()=>{T=!0}},[u,s,l]),a}function PrefetchPageLinksImpl({page:u,matches:s,...l}){let a=useLocation(),{manifest:h,routeModules:T}=useFrameworkContext(),{basename:F}=useDataRouterContext2(),{loaderData:B,matches:O}=useDataRouterStateContext(),o=reactExports.useMemo(()=>getNewMatchesForLinks(u,s,O,h,a,"data"),[u,s,O,h,a]),g=reactExports.useMemo(()=>getNewMatchesForLinks(u,s,O,h,a,"assets"),[u,s,O,h,a]),x=reactExports.useMemo(()=>{if(u===a.pathname+a.search+a.hash)return[];let m=new Set,p=!1;if(s.forEach(f=>{var _;let C=h.routes[f.route.id];!C||!C.hasLoader||(!o.some(b=>b.route.id===f.route.id)&&f.route.id in B&&((_=T[f.route.id])!=null&&_.shouldRevalidate)||C.hasClientLoader?p=!0:m.add(f.route.id))}),m.size===0)return[];let d=singleFetchUrl(u,F);return p&&m.size>0&&d.searchParams.set("_routes",s.filter(f=>m.has(f.route.id)).map(f=>f.route.id).join(",")),[d.pathname+d.search]},[F,B,a,h,o,s,u,T]),y=reactExports.useMemo(()=>getModuleLinkHrefs(g,h),[g,h]),A=useKeyedPrefetchLinks(g);return reactExports.createElement(reactExports.Fragment,null,x.map(m=>reactExports.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...l})),y.map(m=>reactExports.createElement("link",{key:m,rel:"modulepreload",href:m,...l})),A.map(({key:m,link:p})=>reactExports.createElement("link",{key:m,...p})))}function mergeRefs(...u){return s=>{u.forEach(l=>{typeof l=="function"?l(s):l!=null&&(l.current=s)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.6.2")}catch{}function BrowserRouter({basename:u,children:s,window:l}){let a=reactExports.useRef();a.current==null&&(a.current=createBrowserHistory({window:l,v5Compat:!0}));let h=a.current,[T,F]=reactExports.useState({action:h.action,location:h.location}),B=reactExports.useCallback(O=>{reactExports.startTransition(()=>F(O))},[F]);return reactExports.useLayoutEffect(()=>h.listen(B),[h,B]),reactExports.createElement(Router,{basename:u,children:s,location:T.location,navigationType:T.action,navigator:h})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:s,discover:l="render",prefetch:a="none",relative:h,reloadDocument:T,replace:F,state:B,target:O,to:o,preventScrollReset:g,viewTransition:x,...y},A){let{basename:m}=reactExports.useContext(NavigationContext),p=typeof o=="string"&&ABSOLUTE_URL_REGEX2.test(o),d,f=!1;if(typeof o=="string"&&p&&(d=o,isBrowser))try{let I=new URL(window.location.href),G=o.startsWith("//")?new URL(I.protocol+o):new URL(o),K=stripBasename(G.pathname,m);G.origin===I.origin&&K!=null?o=K+G.search+G.hash:f=!0}catch{warning(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=useHref(o,{relative:h}),[_,b,i]=usePrefetchBehavior(a,y),v=useLinkClickHandler(o,{replace:F,state:B,target:O,preventScrollReset:g,relative:h,viewTransition:x});function w(I){s&&s(I),I.defaultPrevented||v(I)}let E=reactExports.createElement("a",{...y,...i,href:d||C,onClick:f||T?s:w,ref:mergeRefs(A,b),target:O,"data-discover":!p&&l==="render"?"true":void 0});return _&&!p?reactExports.createElement(reactExports.Fragment,null,E,reactExports.createElement(PrefetchPageLinks,{page:C})):E});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":s="page",caseSensitive:l=!1,className:a="",end:h=!1,style:T,to:F,viewTransition:B,children:O,...o},g){let x=useResolvedPath(F,{relative:o.relative}),y=useLocation(),A=reactExports.useContext(DataRouterStateContext),{navigator:m,basename:p}=reactExports.useContext(NavigationContext),d=A!=null&&useViewTransitionState(x)&&B===!0,f=m.encodeLocation?m.encodeLocation(x).pathname:x.pathname,C=y.pathname,_=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;l||(C=C.toLowerCase(),_=_?_.toLowerCase():null,f=f.toLowerCase()),_&&p&&(_=stripBasename(_,p)||_);const b=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let i=C===f||!h&&C.startsWith(f)&&C.charAt(b)==="/",v=_!=null&&(_===f||!h&&_.startsWith(f)&&_.charAt(f.length)==="/"),w={isActive:i,isPending:v,isTransitioning:d},E=i?s:void 0,I;typeof a=="function"?I=a(w):I=[a,i?"active":null,v?"pending":null,d?"transitioning":null].filter(Boolean).join(" ");let G=typeof T=="function"?T(w):T;return reactExports.createElement(Link,{...o,"aria-current":E,className:I,ref:g,style:G,to:F,viewTransition:B},typeof O=="function"?O(w):O)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:u="render",fetcherKey:s,navigate:l,reloadDocument:a,replace:h,state:T,method:F=defaultMethod,action:B,onSubmit:O,relative:o,preventScrollReset:g,viewTransition:x,...y},A)=>{let m=useSubmit(),p=useFormAction(B,{relative:o}),d=F.toLowerCase()==="get"?"get":"post",f=typeof B=="string"&&ABSOLUTE_URL_REGEX2.test(B),C=_=>{if(O&&O(_),_.defaultPrevented)return;_.preventDefault();let b=_.nativeEvent.submitter,i=(b==null?void 0:b.getAttribute("formmethod"))||F;m(b||_.currentTarget,{fetcherKey:s,method:i,navigate:l,replace:h,state:T,relative:o,preventScrollReset:g,viewTransition:x})};return reactExports.createElement("form",{ref:A,method:d,action:p,onSubmit:a?O:C,...y,"data-discover":!f&&u==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(u){let s=reactExports.useContext(DataRouterContext);return invariant(s,getDataRouterConsoleError2(u)),s}function useLinkClickHandler(u,{target:s,replace:l,state:a,preventScrollReset:h,relative:T,viewTransition:F}={}){let B=useNavigate(),O=useLocation(),o=useResolvedPath(u,{relative:T});return reactExports.useCallback(g=>{if(shouldProcessLinkClick(g,s)){g.preventDefault();let x=l!==void 0?l:createPath(O)===createPath(o);B(u,{replace:x,state:a,preventScrollReset:h,relative:T,viewTransition:F})}},[O,B,o,l,a,s,u,h,T,F])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:u}=useDataRouterContext3("useSubmit"),{basename:s}=reactExports.useContext(NavigationContext),l=useRouteId();return reactExports.useCallback(async(a,h={})=>{let{action:T,method:F,encType:B,formData:O,body:o}=getFormSubmissionInfo(a,s);if(h.navigate===!1){let g=h.fetcherKey||getUniqueFetcherId();await u.fetch(g,l,h.action||T,{preventScrollReset:h.preventScrollReset,formData:O,body:o,formMethod:h.method||F,formEncType:h.encType||B,flushSync:h.flushSync})}else await u.navigate(h.action||T,{preventScrollReset:h.preventScrollReset,formData:O,body:o,formMethod:h.method||F,formEncType:h.encType||B,replace:h.replace,state:h.state,fromRouteId:l,flushSync:h.flushSync,viewTransition:h.viewTransition})},[u,s,l])}function useFormAction(u,{relative:s}={}){let{basename:l}=reactExports.useContext(NavigationContext),a=reactExports.useContext(RouteContext);invariant(a,"useFormAction must be used inside a RouteContext");let[h]=a.matches.slice(-1),T={...useResolvedPath(u||".",{relative:s})},F=useLocation();if(u==null){T.search=F.search;let B=new URLSearchParams(T.search),O=B.getAll("index");if(O.some(g=>g==="")){B.delete("index"),O.filter(x=>x).forEach(x=>B.append("index",x));let g=B.toString();T.search=g?`?${g}`:""}}return(!u||u===".")&&h.route.index&&(T.search=T.search?T.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(T.pathname=T.pathname==="/"?l:joinPaths([l,T.pathname])),createPath(T)}function useViewTransitionState(u,s={}){let l=reactExports.useContext(ViewTransitionContext);invariant(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=useDataRouterContext3("useViewTransitionState"),h=useResolvedPath(u,{relative:s.relative});if(!l.isTransitioning)return!1;let T=stripBasename(l.currentLocation.pathname,a)||l.currentLocation.pathname,F=stripBasename(l.nextLocation.pathname,a)||l.nextLocation.pathname;return matchPath(h.pathname,F)!=null||matchPath(h.pathname,T)!=null}[...NO_BODY_STATUS_CODES];const FileSelector=()=>{const[u,s]=reactExports.useState([]),l=useNavigate();reactExports.useEffect(()=>{fetch("/pdf-selector-app/files.json").then(h=>h.json()).then(h=>s(h)).catch(h=>{console.error("   :",h),s([])})},[]);const a=h=>{l(`/select?fileName=${encodeURIComponent(h)}`)};return jsxRuntimeExports.jsx("div",{style:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Montserrat, sans-serif",backgroundColor:"#f9f9f9",padding:20},children:jsxRuntimeExports.jsxs("div",{style:{textAlign:"center"},children:[jsxRuntimeExports.jsx("h1",{style:{marginBottom:30},children:" PDF-"}),jsxRuntimeExports.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map((h,T)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:15},children:jsxRuntimeExports.jsx("button",{onClick:()=>a(h),style:{padding:"12px 24px",fontSize:"16px",borderRadius:"8px",border:"none",cursor:"pointer",backgroundColor:"#4a90e2",color:"white",fontFamily:"Montserrat, sans-serif",transition:"background-color 0.2s"},onMouseOver:F=>F.target.style.backgroundColor="#3f7acb",onMouseOut:F=>F.target.style.backgroundColor="#4a90e2",children:h})},T))})]})})};function commonjsRequire(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function u(m,p,d){for(var f=0,C=p.length,_;f<C;f++)(_||!(f in p))&&(_||(_=Array.prototype.slice.call(p,0,f)),_[f]=p[f]);return m.concat(_||Array.prototype.slice.call(p))}var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},l=/([astvzqmhlc])([^astvzqmhlc]*)/gi,a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function h(m){var p=m.match(a);return p?p.map(Number):[]}function T(m){var p=[],d=String(m).trim();return d[0]!=="M"&&d[0]!=="m"||d.replace(l,function(f,C,_){var b=h(_),i=C.toLowerCase(),v=C;if(i==="m"&&b.length>2&&(p.push(u([v],b.splice(0,2))),i="l",v=v==="m"?"l":"L"),b.length<s[i])return"";for(p.push(u([v],b.splice(0,s[i])));b.length>=s[i]&&b.length&&s[i];)p.push(u([v],b.splice(0,s[i])));return""}),p}function F(m,p){var d=m.x*Math.cos(p)-m.y*Math.sin(p),f=m.y*Math.cos(p)+m.x*Math.sin(p);m.x=d,m.y=f}function B(m,p,d){m.x+=p,m.y+=d}function O(m,p){m.x*=p,m.y*=p}var o=function(){function m(p){var d;this.commands=[],p&&p instanceof m?(d=this.commands).push.apply(d,p.commands):p&&(this.commands=T(p))}return m.prototype.addPath=function(p){var d;p&&p instanceof m&&(d=this.commands).push.apply(d,p.commands)},m.prototype.moveTo=function(p,d){this.commands.push(["M",p,d])},m.prototype.lineTo=function(p,d){this.commands.push(["L",p,d])},m.prototype.arc=function(p,d,f,C,_,b){this.commands.push(["AC",p,d,f,C,_,!!b])},m.prototype.arcTo=function(p,d,f,C,_){this.commands.push(["AT",p,d,f,C,_])},m.prototype.ellipse=function(p,d,f,C,_,b,i,v){this.commands.push(["E",p,d,f,C,_,b,i,!!v])},m.prototype.closePath=function(){this.commands.push(["Z"])},m.prototype.bezierCurveTo=function(p,d,f,C,_,b){this.commands.push(["C",p,d,f,C,_,b])},m.prototype.quadraticCurveTo=function(p,d,f,C){this.commands.push(["Q",p,d,f,C])},m.prototype.rect=function(p,d,f,C){this.commands.push(["R",p,d,f,C])},m.prototype.roundRect=function(p,d,f,C,_){typeof _>"u"?this.commands.push(["RR",p,d,f,C,0]):this.commands.push(["RR",p,d,f,C,_])},m}();function g(m,p){var d=0,f=0,C,_,b,i,v,w,E,I,G,K,he,Ce,be,ve,Z,Q,ee,fe,V,z,L,P=null,k=null,N=null,j=null,q=null,te=null;m.beginPath();for(var se=0;se<p.length;++se){fe=p[se][0],fe!=="S"&&fe!=="s"&&fe!=="C"&&fe!=="c"&&(P=null,k=null),fe!=="T"&&fe!=="t"&&fe!=="Q"&&fe!=="q"&&(N=null,j=null);var re=void 0;switch(fe){case"m":case"M":re=p[se],fe==="m"?(d+=re[1],f+=re[2]):(d=re[1],f=re[2]),(fe==="M"||!q)&&(q={x:d,y:f}),m.moveTo(d,f);break;case"l":re=p[se],d+=re[1],f+=re[2],m.lineTo(d,f);break;case"L":re=p[se],d=re[1],f=re[2],m.lineTo(d,f);break;case"H":re=p[se],d=re[1],m.lineTo(d,f);break;case"h":re=p[se],d+=re[1],m.lineTo(d,f);break;case"V":re=p[se],f=re[1],m.lineTo(d,f);break;case"v":re=p[se],f+=re[1],m.lineTo(d,f);break;case"a":case"A":if(re=p[se],te===null)throw new Error("This should never happen");fe==="a"?(d+=re[6],f+=re[7]):(d=re[6],f=re[7]),ve=re[1],Z=re[2],E=re[3]*Math.PI/180,b=!!re[4],i=!!re[5],v={x:d,y:f},w={x:(te.x-v.x)/2,y:(te.y-v.y)/2},F(w,-E),I=w.x*w.x/(ve*ve)+w.y*w.y/(Z*Z),I>1&&(I=Math.sqrt(I),ve*=I,Z*=I),V={x:ve*w.y/Z,y:-(Z*w.x)/ve},G=ve*ve*Z*Z,K=ve*ve*w.y*w.y+Z*Z*w.x*w.x,i!==b?O(V,Math.sqrt((G-K)/K)||0):O(V,-Math.sqrt((G-K)/K)||0),_=Math.atan2((w.y-V.y)/Z,(w.x-V.x)/ve),C=Math.atan2(-(w.y+V.y)/Z,-(w.x+V.x)/ve),F(V,E),B(V,(v.x+te.x)/2,(v.y+te.y)/2),m.save(),m.translate(V.x,V.y),m.rotate(E),m.scale(ve,Z),m.arc(0,0,1,_,C,!i),m.restore();break;case"C":re=p[se],P=re[3],k=re[4],d=re[5],f=re[6],m.bezierCurveTo(re[1],re[2],P,k,d,f);break;case"c":re=p[se],m.bezierCurveTo(re[1]+d,re[2]+f,re[3]+d,re[4]+f,re[5]+d,re[6]+f),P=re[3]+d,k=re[4]+f,d+=re[5],f+=re[6];break;case"S":re=p[se],(P===null||k===null)&&(P=d,k=f),m.bezierCurveTo(2*d-P,2*f-k,re[1],re[2],re[3],re[4]),P=re[1],k=re[2],d=re[3],f=re[4];break;case"s":re=p[se],(P===null||k===null)&&(P=d,k=f),m.bezierCurveTo(2*d-P,2*f-k,re[1]+d,re[2]+f,re[3]+d,re[4]+f),P=re[1]+d,k=re[2]+f,d+=re[3],f+=re[4];break;case"Q":re=p[se],N=re[1],j=re[2],d=re[3],f=re[4],m.quadraticCurveTo(N,j,d,f);break;case"q":re=p[se],N=re[1]+d,j=re[2]+f,d+=re[3],f+=re[4],m.quadraticCurveTo(N,j,d,f);break;case"T":re=p[se],(N===null||j===null)&&(N=d,j=f),N=2*d-N,j=2*f-j,d=re[1],f=re[2],m.quadraticCurveTo(N,j,d,f);break;case"t":re=p[se],(N===null||j===null)&&(N=d,j=f),N=2*d-N,j=2*f-j,d+=re[1],f+=re[2],m.quadraticCurveTo(N,j,d,f);break;case"z":case"Z":q&&(d=q.x,f=q.y),q=null,m.closePath();break;case"AC":re=p[se],d=re[1],f=re[2],be=re[3],_=re[4],C=re[5],z=re[6],m.arc(d,f,be,_,C,z);break;case"AT":re=p[se],he=re[1],Ce=re[2],d=re[3],f=re[4],be=re[5],m.arcTo(he,Ce,d,f,be);break;case"E":re=p[se],d=re[1],f=re[2],ve=re[3],Z=re[4],E=re[5],_=re[6],C=re[7],z=re[8],m.save(),m.translate(d,f),m.rotate(E),m.scale(ve,Z),m.arc(0,0,1,_,C,z),m.restore();break;case"R":re=p[se],d=re[1],f=re[2],Q=re[3],ee=re[4],q={x:d,y:f},m.rect(d,f,Q,ee);break;case"RR":re=p[se],d=re[1],f=re[2],Q=re[3],ee=re[4],L=re[5],q={x:d,y:f},m.roundRect(d,f,Q,ee,L);break}te?(te.x=d,te.y=f):te={x:d,y:f}}}function x(m){if(!(!m||!m.CanvasRenderingContext2D||m.Path2D)){var p=m.CanvasRenderingContext2D,d=p.prototype.fill,f=p.prototype.stroke,C=p.prototype.isPointInPath;p.prototype.fill=function(){for(var b=[],i=0;i<arguments.length;i++)b[i]=arguments[i];if(b[0]instanceof o){var v=b[0],w=b[1]||"nonzero";g(this,v.commands),d.apply(this,[w])}else{var w=b[0]||"nonzero";return d.apply(this,[w])}},p.prototype.stroke=function(b){b&&g(this,b.commands),f.apply(this)},p.prototype.isPointInPath=function(){for(var b=[],i=0;i<arguments.length;i++)b[i]=arguments[i];if(b[0]instanceof o){var v=b[0],w=b[1],E=b[2],I=b[3]||"nonzero";return g(this,v.commands),C.apply(this,[w,E,I])}else return C.apply(this,b)},m.Path2D=o}}function y(m,p,d,f,C){var _=this;if(C===void 0&&(C=0),typeof C=="number"&&(C=[C]),Array.isArray(C)){if(C.length===0||C.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(C.length," radii provided. Between one and four radii are necessary."));C.forEach(function(I){if(I<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(_.constructor.name,"': Radius value ").concat(I," is negative."))})}else return;if(C.length===1&&C[0]===0)return this.rect(m,p,d,f);var b=Math.min(d,f)/2,i,v,w,E=i=v=w=Math.min(b,C[0]);C.length===2&&(i=w=Math.min(b,C[1])),C.length===3&&(i=w=Math.min(b,C[1]),v=Math.min(b,C[2])),C.length===4&&(i=Math.min(b,C[1]),v=Math.min(b,C[2]),w=Math.min(b,C[3])),this.moveTo(m,p+f-w),this.arcTo(m,p,m+E,p,E),this.arcTo(m+d,p,m+d,p+i,i),this.arcTo(m+d,p+f,m+d-v,p+f,v),this.arcTo(m,p+f,m,p+f-w,w),this.moveTo(m,p)}function A(m){if(!(!m||!m.CanvasRenderingContext2D)){var p=m.CanvasRenderingContext2D,d=m.Path2D;p&&!p.prototype.roundRect&&(p.prototype.roundRect=y),d&&!d.prototype.roundRect&&(d.prototype.roundRect=y)}}return x(window),A(window),path2dPolyfill_esm}var ponyfill$1={exports:{}};/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var ponyfill=ponyfill$1.exports,hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,function(u,s){(function(l,a){a(s)})(ponyfill,function(l){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(c){return"Symbol(".concat(c,")")};function h(c,M){var Y={label:0,sent:function(){if(xe[0]&1)throw xe[1];return xe[1]},trys:[],ops:[]},ye,Te,xe,je;return je={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(je[Symbol.iterator]=function(){return this}),je;function rt(nt){return function(gt){return ht([nt,gt])}}function ht(nt){if(ye)throw new TypeError("Generator is already executing.");for(;je&&(je=0,nt[0]&&(Y=0)),Y;)try{if(ye=1,Te&&(xe=nt[0]&2?Te.return:nt[0]?Te.throw||((xe=Te.return)&&xe.call(Te),0):Te.next)&&!(xe=xe.call(Te,nt[1])).done)return xe;switch(Te=0,xe&&(nt=[nt[0]&2,xe.value]),nt[0]){case 0:case 1:xe=nt;break;case 4:return Y.label++,{value:nt[1],done:!1};case 5:Y.label++,Te=nt[1],nt=[0];continue;case 7:nt=Y.ops.pop(),Y.trys.pop();continue;default:if(xe=Y.trys,!(xe=xe.length>0&&xe[xe.length-1])&&(nt[0]===6||nt[0]===2)){Y=0;continue}if(nt[0]===3&&(!xe||nt[1]>xe[0]&&nt[1]<xe[3])){Y.label=nt[1];break}if(nt[0]===6&&Y.label<xe[1]){Y.label=xe[1],xe=nt;break}if(xe&&Y.label<xe[2]){Y.label=xe[2],Y.ops.push(nt);break}xe[2]&&Y.ops.pop(),Y.trys.pop();continue}nt=M.call(c,Y)}catch(gt){nt=[6,gt],Te=0}finally{ye=xe=0}if(nt[0]&5)throw nt[1];return{value:nt[0]?nt[1]:void 0,done:!0}}}function T(c){var M=typeof Symbol=="function"&&Symbol.iterator,Y=M&&c[M],ye=0;if(Y)return Y.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&ye>=c.length&&(c=void 0),{value:c&&c[ye++],done:!c}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(c){return this instanceof F?(this.v=c,this):new F(c)}function B(c,M,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye=Y.apply(c,M||[]),Te,xe=[];return Te={},je("next"),je("throw"),je("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function je(Et){ye[Et]&&(Te[Et]=function($t){return new Promise(function(kn,mn){xe.push([Et,$t,kn,mn])>1||rt(Et,$t)})})}function rt(Et,$t){try{ht(ye[Et]($t))}catch(kn){bt(xe[0][3],kn)}}function ht(Et){Et.value instanceof F?Promise.resolve(Et.value.v).then(nt,gt):bt(xe[0][2],Et)}function nt(Et){rt("next",Et)}function gt(Et){rt("throw",Et)}function bt(Et,$t){Et($t),xe.shift(),xe.length&&rt(xe[0][0],xe[0][1])}}function O(c){var M,Y;return M={},ye("next"),ye("throw",function(Te){throw Te}),ye("return"),M[Symbol.iterator]=function(){return this},M;function ye(Te,xe){M[Te]=c[Te]?function(je){return(Y=!Y)?{value:F(c[Te](je)),done:!1}:xe?xe(je):je}:xe}}function o(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M=c[Symbol.asyncIterator],Y;return M?M.call(c):(c=typeof T=="function"?T(c):c[Symbol.iterator](),Y={},ye("next"),ye("throw"),ye("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function ye(xe){Y[xe]=c[xe]&&function(je){return new Promise(function(rt,ht){je=c[xe](je),Te(rt,ht,je.done,je.value)})}}function Te(xe,je,rt,ht){Promise.resolve(ht).then(function(nt){xe({value:nt,done:rt})},je)}}typeof SuppressedError=="function"&&SuppressedError;function g(){}function x(c){return typeof c=="object"&&c!==null||typeof c=="function"}var y=g;function A(c,M){try{Object.defineProperty(c,"name",{value:M,configurable:!0})}catch{}}var m=Promise,p=Promise.prototype.then,d=Promise.reject.bind(m);function f(c){return new m(c)}function C(c){return f(function(M){return M(c)})}function _(c){return d(c)}function b(c,M,Y){return p.call(c,M,Y)}function i(c,M,Y){b(b(c,M,Y),void 0,y)}function v(c,M){i(c,M)}function w(c,M){i(c,void 0,M)}function E(c,M,Y){return b(c,M,Y)}function I(c){b(c,void 0,y)}var G=function(c){if(typeof queueMicrotask=="function")G=queueMicrotask;else{var M=C(void 0);G=function(Y){return b(M,Y)}}return G(c)};function K(c,M,Y){if(typeof c!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(c,M,Y)}function he(c,M,Y){try{return C(K(c,M,Y))}catch(ye){return _(ye)}}var Ce=16384,be=function(){function c(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(c.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),c.prototype.push=function(M){var Y=this._back,ye=Y;Y._elements.length===Ce-1&&(ye={_elements:[],_next:void 0}),Y._elements.push(M),ye!==Y&&(this._back=ye,Y._next=ye),++this._size},c.prototype.shift=function(){var M=this._front,Y=M,ye=this._cursor,Te=ye+1,xe=M._elements,je=xe[ye];return Te===Ce&&(Y=M._next,Te=0),--this._size,this._cursor=Te,M!==Y&&(this._front=Y),xe[ye]=void 0,je},c.prototype.forEach=function(M){for(var Y=this._cursor,ye=this._front,Te=ye._elements;(Y!==Te.length||ye._next!==void 0)&&!(Y===Te.length&&(ye=ye._next,Te=ye._elements,Y=0,Te.length===0));)M(Te[Y]),++Y},c.prototype.peek=function(){var M=this._front,Y=this._cursor;return M._elements[Y]},c}(),ve=a("[[AbortSteps]]"),Z=a("[[ErrorSteps]]"),Q=a("[[CancelSteps]]"),ee=a("[[PullSteps]]"),fe=a("[[ReleaseSteps]]");function V(c,M){c._ownerReadableStream=M,M._reader=c,M._state==="readable"?k(c):M._state==="closed"?j(c):N(c,M._storedError)}function z(c,M){var Y=c._ownerReadableStream;return Ln(Y,M)}function L(c){var M=c._ownerReadableStream;M._state==="readable"?q(c,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):te(c,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),M._readableStreamController[fe](),M._reader=void 0,c._ownerReadableStream=void 0}function P(c){return new TypeError("Cannot "+c+" a stream using a released reader")}function k(c){c._closedPromise=f(function(M,Y){c._closedPromise_resolve=M,c._closedPromise_reject=Y})}function N(c,M){k(c),q(c,M)}function j(c){k(c),se(c)}function q(c,M){c._closedPromise_reject!==void 0&&(I(c._closedPromise),c._closedPromise_reject(M),c._closedPromise_resolve=void 0,c._closedPromise_reject=void 0)}function te(c,M){N(c,M)}function se(c){c._closedPromise_resolve!==void 0&&(c._closedPromise_resolve(void 0),c._closedPromise_resolve=void 0,c._closedPromise_reject=void 0)}var re=Number.isFinite||function(c){return typeof c=="number"&&isFinite(c)},ce=Math.trunc||function(c){return c<0?Math.ceil(c):Math.floor(c)};function H(c){return typeof c=="object"||typeof c=="function"}function W(c,M){if(c!==void 0&&!H(c))throw new TypeError("".concat(M," is not an object."))}function ne(c,M){if(typeof c!="function")throw new TypeError("".concat(M," is not a function."))}function $(c){return typeof c=="object"&&c!==null||typeof c=="function"}function R(c,M){if(!$(c))throw new TypeError("".concat(M," is not an object."))}function U(c,M,Y){if(c===void 0)throw new TypeError("Parameter ".concat(M," is required in '").concat(Y,"'."))}function X(c,M,Y){if(c===void 0)throw new TypeError("".concat(M," is required in '").concat(Y,"'."))}function J(c){return Number(c)}function le(c){return c===0?0:c}function ae(c){return le(ce(c))}function pe(c,M){var Y=0,ye=Number.MAX_SAFE_INTEGER,Te=Number(c);if(Te=le(Te),!re(Te))throw new TypeError("".concat(M," is not a finite number"));if(Te=ae(Te),Te<Y||Te>ye)throw new TypeError("".concat(M," is outside the accepted range of ").concat(Y," to ").concat(ye,", inclusive"));return!re(Te)||Te===0?0:Te}function oe(c,M){if(!Pn(c))throw new TypeError("".concat(M," is not a ReadableStream."))}function _e(c){return new Ge(c)}function Ae(c,M){c._reader._readRequests.push(M)}function ke(c,M,Y){var ye=c._reader,Te=ye._readRequests.shift();Y?Te._closeSteps():Te._chunkSteps(M)}function Me(c){return c._reader._readRequests.length}function Fe(c){var M=c._reader;return!(M===void 0||!at(M))}var Ge=function(){function c(M){if(U(M,1,"ReadableStreamDefaultReader"),oe(M,"First parameter"),hr(M))throw new TypeError("This stream has already been locked for exclusive reading by another reader");V(this,M),this._readRequests=new be}return Object.defineProperty(c.prototype,"closed",{get:function(){return at(this)?this._closedPromise:_(Se("closed"))},enumerable:!1,configurable:!0}),c.prototype.cancel=function(M){return M===void 0&&(M=void 0),at(this)?this._ownerReadableStream===void 0?_(P("cancel")):z(this,M):_(Se("cancel"))},c.prototype.read=function(){if(!at(this))return _(Se("read"));if(this._ownerReadableStream===void 0)return _(P("read from"));var M,Y,ye=f(function(xe,je){M=xe,Y=je}),Te={_chunkSteps:function(xe){return M({value:xe,done:!1})},_closeSteps:function(){return M({value:void 0,done:!0})},_errorSteps:function(xe){return Y(xe)}};return De(this,Te),ye},c.prototype.releaseLock=function(){if(!at(this))throw Se("releaseLock");this._ownerReadableStream!==void 0&&me(this)},c}();Object.defineProperties(Ge.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),A(Ge.prototype.cancel,"cancel"),A(Ge.prototype.read,"read"),A(Ge.prototype.releaseLock,"releaseLock"),typeof a.toStringTag=="symbol"&&Object.defineProperty(Ge.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function at(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_readRequests")?!1:c instanceof Ge}function De(c,M){var Y=c._ownerReadableStream;Y._disturbed=!0,Y._state==="closed"?M._closeSteps():Y._state==="errored"?M._errorSteps(Y._storedError):Y._readableStreamController[ee](M)}function me(c){L(c);var M=new TypeError("Reader was released");de(c,M)}function de(c,M){var Y=c._readRequests;c._readRequests=new be,Y.forEach(function(ye){ye._errorSteps(M)})}function Se(c){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(c," can only be used on a ReadableStreamDefaultReader"))}var Be,Ze,ut;function St(c){return c.slice()}function We(c,M,Y,ye,Te){new Uint8Array(c).set(new Uint8Array(Y,ye,Te),M)}var it=function(c){return typeof c.transfer=="function"?it=function(M){return M.transfer()}:typeof structuredClone=="function"?it=function(M){return structuredClone(M,{transfer:[M]})}:it=function(M){return M},it(c)},ze=function(c){return typeof c.detached=="boolean"?ze=function(M){return M.detached}:ze=function(M){return M.byteLength===0},ze(c)};function Re(c,M,Y){if(c.slice)return c.slice(M,Y);var ye=Y-M,Te=new ArrayBuffer(ye);return We(Te,0,c,M,ye),Te}function qe(c,M){var Y=c[M];if(Y!=null){if(typeof Y!="function")throw new TypeError("".concat(String(M)," is not a function"));return Y}}function ot(c){var M,Y=(M={},M[a.iterator]=function(){return c.iterator},M),ye=function(){return B(this,arguments,function(){return h(this,function(xe){switch(xe.label){case 0:return[5,T(O(o(Y)))];case 1:return[4,F.apply(void 0,[xe.sent()])];case 2:return[4,F.apply(void 0,[xe.sent()])];case 3:return[2,xe.sent()]}})})}(),Te=ye.next;return{iterator:ye,nextMethod:Te,done:!1}}var $e=(ut=(Be=a.asyncIterator)!==null&&Be!==void 0?Be:(Ze=a.for)===null||Ze===void 0?void 0:Ze.call(a,"Symbol.asyncIterator"))!==null&&ut!==void 0?ut:"@@asyncIterator";function pt(c,M,Y){if(M===void 0&&(M="sync"),Y===void 0)if(M==="async"){if(Y=qe(c,$e),Y===void 0){var ye=qe(c,a.iterator),Te=pt(c,"sync",ye);return ot(Te)}}else Y=qe(c,a.iterator);if(Y===void 0)throw new TypeError("The object is not iterable");var xe=K(Y,c,[]);if(!x(xe))throw new TypeError("The iterator method must return an object");var je=xe.next;return{iterator:xe,nextMethod:je,done:!1}}function Ne(c){var M=K(c.nextMethod,c.iterator,[]);if(!x(M))throw new TypeError("The iterator.next() method must return an object");return M}function we(c){return!!c.done}function Xe(c){return c.value}var st,tt=(st={},st[$e]=function(){return this},st);Object.defineProperty(tt,$e,{enumerable:!1});var lt=function(){function c(M,Y){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=M,this._preventCancel=Y}return c.prototype.next=function(){var M=this,Y=function(){return M._nextSteps()};return this._ongoingPromise=this._ongoingPromise?E(this._ongoingPromise,Y,Y):Y(),this._ongoingPromise},c.prototype.return=function(M){var Y=this,ye=function(){return Y._returnSteps(M)};return this._ongoingPromise?E(this._ongoingPromise,ye,ye):ye()},c.prototype._nextSteps=function(){var M=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Y=this._reader,ye,Te,xe=f(function(rt,ht){ye=rt,Te=ht}),je={_chunkSteps:function(rt){M._ongoingPromise=void 0,G(function(){return ye({value:rt,done:!1})})},_closeSteps:function(){M._ongoingPromise=void 0,M._isFinished=!0,L(Y),ye({value:void 0,done:!0})},_errorSteps:function(rt){M._ongoingPromise=void 0,M._isFinished=!0,L(Y),Te(rt)}};return De(Y,je),xe},c.prototype._returnSteps=function(M){if(this._isFinished)return Promise.resolve({value:M,done:!0});this._isFinished=!0;var Y=this._reader;if(!this._preventCancel){var ye=z(Y,M);return L(Y),E(ye,function(){return{value:M,done:!0}})}return L(Y),C({value:M,done:!0})},c}(),ct={next:function(){return Tt(this)?this._asyncIteratorImpl.next():_(It("next"))},return:function(c){return Tt(this)?this._asyncIteratorImpl.return(c):_(It("return"))}};Object.setPrototypeOf(ct,tt);function _t(c,M){var Y=_e(c),ye=new lt(Y,M),Te=Object.create(ct);return Te._asyncIteratorImpl=ye,Te}function Tt(c){if(!x(c)||!Object.prototype.hasOwnProperty.call(c,"_asyncIteratorImpl"))return!1;try{return c._asyncIteratorImpl instanceof lt}catch{return!1}}function It(c){return new TypeError("ReadableStreamAsyncIterator.".concat(c," can only be used on a ReadableSteamAsyncIterator"))}var Yt=Number.isNaN||function(c){return c!==c};function Nt(c){return!(typeof c!="number"||Yt(c)||c<0)}function Mt(c){var M=Re(c.buffer,c.byteOffset,c.byteOffset+c.byteLength);return new Uint8Array(M)}function Zt(c){var M=c._queue.shift();return c._queueTotalSize-=M.size,c._queueTotalSize<0&&(c._queueTotalSize=0),M.value}function en(c,M,Y){if(!Nt(Y)||Y===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");c._queue.push({value:M,size:Y}),c._queueTotalSize+=Y}function fn(c){var M=c._queue.peek();return M.value}function Gt(c){c._queue=new be,c._queueTotalSize=0}function Pt(c){return c===DataView}function Er(c){return Pt(c.constructor)}function Vr(c){return Pt(c)?1:c.BYTES_PER_ELEMENT}var on=function(){function c(){throw new TypeError("Illegal constructor")}return Object.defineProperty(c.prototype,"view",{get:function(){if(!lr(this))throw Ps("view");return this._view},enumerable:!1,configurable:!0}),c.prototype.respond=function(M){if(!lr(this))throw Ps("respond");if(U(M,1,"respond"),M=pe(M,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ze(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Tr(this._associatedReadableByteStreamController,M)},c.prototype.respondWithNewView=function(M){if(!lr(this))throw Ps("respondWithNewView");if(U(M,1,"respondWithNewView"),!ArrayBuffer.isView(M))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ze(M.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");ki(this._associatedReadableByteStreamController,M)},c}();Object.defineProperties(on.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),A(on.prototype.respond,"respond"),A(on.prototype.respondWithNewView,"respondWithNewView"),typeof a.toStringTag=="symbol"&&Object.defineProperty(on.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var rn=function(){function c(){throw new TypeError("Illegal constructor")}return Object.defineProperty(c.prototype,"byobRequest",{get:function(){if(!Bn(this))throw Za("byobRequest");return Pi(this)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"desiredSize",{get:function(){if(!Bn(this))throw Za("desiredSize");return Rs(this)},enumerable:!1,configurable:!0}),c.prototype.close=function(){if(!Bn(this))throw Za("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var M=this._controlledReadableByteStream._state;if(M!=="readable")throw new TypeError("The stream (in ".concat(M," state) is not in the readable state and cannot be closed"));$r(this)},c.prototype.enqueue=function(M){if(!Bn(this))throw Za("enqueue");if(U(M,1,"enqueue"),!ArrayBuffer.isView(M))throw new TypeError("chunk must be an array buffer view");if(M.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(M.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Y=this._controlledReadableByteStream._state;if(Y!=="readable")throw new TypeError("The stream (in ".concat(Y," state) is not in the readable state and cannot be enqueued to"));Qa(this,M)},c.prototype.error=function(M){if(M===void 0&&(M=void 0),!Bn(this))throw Za("error");Rn(this,M)},c.prototype[Q]=function(M){Fo(this),Gt(this);var Y=this._cancelAlgorithm(M);return yn(this),Y},c.prototype[ee]=function(M){var Y=this._controlledReadableByteStream;if(this._queueTotalSize>0){Kr(this,M);return}var ye=this._autoAllocateChunkSize;if(ye!==void 0){var Te=void 0;try{Te=new ArrayBuffer(ye)}catch(je){M._errorSteps(je);return}var xe={buffer:Te,bufferByteLength:ye,byteOffset:0,byteLength:ye,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(xe)}Ae(Y,M),Jn(this)},c.prototype[fe]=function(){if(this._pendingPullIntos.length>0){var M=this._pendingPullIntos.peek();M.readerType="none",this._pendingPullIntos=new be,this._pendingPullIntos.push(M)}},c}();Object.defineProperties(rn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),A(rn.prototype.close,"close"),A(rn.prototype.enqueue,"enqueue"),A(rn.prototype.error,"error"),typeof a.toStringTag=="symbol"&&Object.defineProperty(rn.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Bn(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_controlledReadableByteStream")?!1:c instanceof rn}function lr(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_associatedReadableByteStreamController")?!1:c instanceof on}function Jn(c){var M=Kl(c);if(M){if(c._pulling){c._pullAgain=!0;return}c._pulling=!0;var Y=c._pullAlgorithm();i(Y,function(){return c._pulling=!1,c._pullAgain&&(c._pullAgain=!1,Jn(c)),null},function(ye){return Rn(c,ye),null})}}function Fo(c){Cs(c),c._pendingPullIntos=new be}function Sa(c,M){var Y=!1;c._state==="closed"&&(Y=!0);var ye=Ka(M);M.readerType==="default"?ke(c,ye,Y):No(c,ye,Y)}function Ka(c){var M=c.bytesFilled,Y=c.elementSize;return new c.viewConstructor(c.buffer,c.byteOffset,M/Y)}function Un(c,M,Y,ye){c._queue.push({buffer:M,byteOffset:Y,byteLength:ye}),c._queueTotalSize+=ye}function Ci(c,M,Y,ye){var Te;try{Te=Re(M,Y,Y+ye)}catch(xe){throw Rn(c,xe),xe}Un(c,Te,0,ye)}function Es(c,M){M.bytesFilled>0&&Ci(c,M.buffer,M.byteOffset,M.bytesFilled),Cr(c)}function Yr(c,M){var Y=Math.min(c._queueTotalSize,M.byteLength-M.bytesFilled),ye=M.bytesFilled+Y,Te=Y,xe=!1,je=ye%M.elementSize,rt=ye-je;rt>=M.minimumFill&&(Te=rt-M.bytesFilled,xe=!0);for(var ht=c._queue;Te>0;){var nt=ht.peek(),gt=Math.min(Te,nt.byteLength),bt=M.byteOffset+M.bytesFilled;We(M.buffer,bt,nt.buffer,nt.byteOffset,gt),nt.byteLength===gt?ht.shift():(nt.byteOffset+=gt,nt.byteLength-=gt),c._queueTotalSize-=gt,Ti(c,gt,M),Te-=gt}return xe}function Ti(c,M,Y){Y.bytesFilled+=M}function Ri(c){c._queueTotalSize===0&&c._closeRequested?(yn(c),fr(c._controlledReadableByteStream)):Jn(c)}function Cs(c){c._byobRequest!==null&&(c._byobRequest._associatedReadableByteStreamController=void 0,c._byobRequest._view=null,c._byobRequest=null)}function xi(c){for(;c._pendingPullIntos.length>0;){if(c._queueTotalSize===0)return;var M=c._pendingPullIntos.peek();Yr(c,M)&&(Cr(c),Sa(c._controlledReadableByteStream,M))}}function zn(c){for(var M=c._controlledReadableByteStream._reader;M._readRequests.length>0;){if(c._queueTotalSize===0)return;var Y=M._readRequests.shift();Kr(c,Y)}}function Lo(c,M,Y,ye){var Te=c._controlledReadableByteStream,xe=M.constructor,je=Vr(xe),rt=M.byteOffset,ht=M.byteLength,nt=Y*je,gt;try{gt=it(M.buffer)}catch(mn){ye._errorSteps(mn);return}var bt={buffer:gt,bufferByteLength:gt.byteLength,byteOffset:rt,byteLength:ht,bytesFilled:0,minimumFill:nt,elementSize:je,viewConstructor:xe,readerType:"byob"};if(c._pendingPullIntos.length>0){c._pendingPullIntos.push(bt),Zr(Te,ye);return}if(Te._state==="closed"){var Et=new xe(bt.buffer,bt.byteOffset,0);ye._closeSteps(Et);return}if(c._queueTotalSize>0){if(Yr(c,bt)){var $t=Ka(bt);Ri(c),ye._chunkSteps($t);return}if(c._closeRequested){var kn=new TypeError("Insufficient bytes to fill elements in the given buffer");Rn(c,kn),ye._errorSteps(kn);return}}c._pendingPullIntos.push(bt),Zr(Te,ye),Jn(c)}function $l(c,M){M.readerType==="none"&&Cr(c);var Y=c._controlledReadableByteStream;if(Di(Y))for(;Oi(Y)>0;){var ye=Cr(c);Sa(Y,ye)}}function wi(c,M,Y){if(Ti(c,M,Y),Y.readerType==="none"){Es(c,Y),xi(c);return}if(!(Y.bytesFilled<Y.minimumFill)){Cr(c);var ye=Y.bytesFilled%Y.elementSize;if(ye>0){var Te=Y.byteOffset+Y.bytesFilled;Ci(c,Y.buffer,Te-ye,ye)}Y.bytesFilled-=ye,Sa(c._controlledReadableByteStream,Y),xi(c)}}function Ts(c,M){var Y=c._pendingPullIntos.peek();Cs(c);var ye=c._controlledReadableByteStream._state;ye==="closed"?$l(c,Y):wi(c,M,Y),Jn(c)}function Cr(c){var M=c._pendingPullIntos.shift();return M}function Kl(c){var M=c._controlledReadableByteStream;if(M._state!=="readable"||c._closeRequested||!c._started)return!1;if(Fe(M)&&Me(M)>0||Di(M)&&Oi(M)>0)return!0;var Y=Rs(c);return Y>0}function yn(c){c._pullAlgorithm=void 0,c._cancelAlgorithm=void 0}function $r(c){var M=c._controlledReadableByteStream;if(!(c._closeRequested||M._state!=="readable")){if(c._queueTotalSize>0){c._closeRequested=!0;return}if(c._pendingPullIntos.length>0){var Y=c._pendingPullIntos.peek();if(Y.bytesFilled%Y.elementSize!==0){var ye=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Rn(c,ye),ye}}yn(c),fr(M)}}function Qa(c,M){var Y=c._controlledReadableByteStream;if(!(c._closeRequested||Y._state!=="readable")){var ye=M.buffer,Te=M.byteOffset,xe=M.byteLength;if(ze(ye))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var je=it(ye);if(c._pendingPullIntos.length>0){var rt=c._pendingPullIntos.peek();if(ze(rt.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Cs(c),rt.buffer=it(rt.buffer),rt.readerType==="none"&&Es(c,rt)}if(Fe(Y))if(zn(c),Me(Y)===0)Un(c,je,Te,xe);else{c._pendingPullIntos.length>0&&Cr(c);var ht=new Uint8Array(je,Te,xe);ke(Y,ht,!1)}else Di(Y)?(Un(c,je,Te,xe),xi(c)):Un(c,je,Te,xe);Jn(c)}}function Rn(c,M){var Y=c._controlledReadableByteStream;Y._state==="readable"&&(Fo(c),Gt(c),yn(c),sa(Y,M))}function Kr(c,M){var Y=c._queue.shift();c._queueTotalSize-=Y.byteLength,Ri(c);var ye=new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength);M._chunkSteps(ye)}function Pi(c){if(c._byobRequest===null&&c._pendingPullIntos.length>0){var M=c._pendingPullIntos.peek(),Y=new Uint8Array(M.buffer,M.byteOffset+M.bytesFilled,M.byteLength-M.bytesFilled),ye=Object.create(on.prototype);ws(ye,c,Y),c._byobRequest=ye}return c._byobRequest}function Rs(c){var M=c._controlledReadableByteStream._state;return M==="errored"?null:M==="closed"?0:c._strategyHWM-c._queueTotalSize}function Tr(c,M){var Y=c._pendingPullIntos.peek(),ye=c._controlledReadableByteStream._state;if(ye==="closed"){if(M!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(M===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(Y.bytesFilled+M>Y.byteLength)throw new RangeError("bytesWritten out of range")}Y.buffer=it(Y.buffer),Ts(c,M)}function ki(c,M){var Y=c._pendingPullIntos.peek(),ye=c._controlledReadableByteStream._state;if(ye==="closed"){if(M.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(M.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(Y.byteOffset+Y.bytesFilled!==M.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Y.bufferByteLength!==M.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(Y.bytesFilled+M.byteLength>Y.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var Te=M.byteLength;Y.buffer=it(M.buffer),Ts(c,Te)}function xs(c,M,Y,ye,Te,xe,je){M._controlledReadableByteStream=c,M._pullAgain=!1,M._pulling=!1,M._byobRequest=null,M._queue=M._queueTotalSize=void 0,Gt(M),M._closeRequested=!1,M._started=!1,M._strategyHWM=xe,M._pullAlgorithm=ye,M._cancelAlgorithm=Te,M._autoAllocateChunkSize=je,M._pendingPullIntos=new be,c._readableStreamController=M;var rt=Y();i(C(rt),function(){return M._started=!0,Jn(M),null},function(ht){return Rn(M,ht),null})}function Io(c,M,Y){var ye=Object.create(rn.prototype),Te,xe,je;M.start!==void 0?Te=function(){return M.start(ye)}:Te=function(){},M.pull!==void 0?xe=function(){return M.pull(ye)}:xe=function(){return C(void 0)},M.cancel!==void 0?je=function(ht){return M.cancel(ht)}:je=function(){return C(void 0)};var rt=M.autoAllocateChunkSize;if(rt===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");xs(c,ye,Te,xe,je,Y,rt)}function ws(c,M,Y){c._associatedReadableByteStreamController=M,c._view=Y}function Ps(c){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(c," can only be used on a ReadableStreamBYOBRequest"))}function Za(c){return new TypeError("ReadableByteStreamController.prototype.".concat(c," can only be used on a ReadableByteStreamController"))}function Mi(c,M){W(c,M);var Y=c==null?void 0:c.mode;return{mode:Y===void 0?void 0:ks(Y,"".concat(M," has member 'mode' that"))}}function ks(c,M){if(c="".concat(c),c!=="byob")throw new TypeError("".concat(M," '").concat(c,"' is not a valid enumeration value for ReadableStreamReaderMode"));return c}function Ms(c,M){var Y;W(c,M);var ye=(Y=c==null?void 0:c.min)!==null&&Y!==void 0?Y:1;return{min:pe(ye,"".concat(M," has member 'min' that"))}}function Qr(c){return new jn(c)}function Zr(c,M){c._reader._readIntoRequests.push(M)}function No(c,M,Y){var ye=c._reader,Te=ye._readIntoRequests.shift();Y?Te._closeSteps(M):Te._chunkSteps(M)}function Oi(c){return c._reader._readIntoRequests.length}function Di(c){var M=c._reader;return!(M===void 0||!Sn(M))}var jn=function(){function c(M){if(U(M,1,"ReadableStreamBYOBReader"),oe(M,"First parameter"),hr(M))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Bn(M._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");V(this,M),this._readIntoRequests=new be}return Object.defineProperty(c.prototype,"closed",{get:function(){return Sn(this)?this._closedPromise:_(Aa("closed"))},enumerable:!1,configurable:!0}),c.prototype.cancel=function(M){return M===void 0&&(M=void 0),Sn(this)?this._ownerReadableStream===void 0?_(P("cancel")):z(this,M):_(Aa("cancel"))},c.prototype.read=function(M,Y){if(Y===void 0&&(Y={}),!Sn(this))return _(Aa("read"));if(!ArrayBuffer.isView(M))return _(new TypeError("view must be an array buffer view"));if(M.byteLength===0)return _(new TypeError("view must have non-zero byteLength"));if(M.buffer.byteLength===0)return _(new TypeError("view's buffer must have non-zero byteLength"));if(ze(M.buffer))return _(new TypeError("view's buffer has been detached"));var ye;try{ye=Ms(Y,"options")}catch(nt){return _(nt)}var Te=ye.min;if(Te===0)return _(new TypeError("options.min must be greater than 0"));if(Er(M)){if(Te>M.byteLength)return _(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(Te>M.length)return _(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return _(P("read from"));var xe,je,rt=f(function(nt,gt){xe=nt,je=gt}),ht={_chunkSteps:function(nt){return xe({value:nt,done:!1})},_closeSteps:function(nt){return xe({value:nt,done:!0})},_errorSteps:function(nt){return je(nt)}};return Fi(this,M,Te,ht),rt},c.prototype.releaseLock=function(){if(!Sn(this))throw Aa("releaseLock");this._ownerReadableStream!==void 0&&Ja(this)},c}();Object.defineProperties(jn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),A(jn.prototype.cancel,"cancel"),A(jn.prototype.read,"read"),A(jn.prototype.releaseLock,"releaseLock"),typeof a.toStringTag=="symbol"&&Object.defineProperty(jn.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Sn(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_readIntoRequests")?!1:c instanceof jn}function Fi(c,M,Y,ye){var Te=c._ownerReadableStream;Te._disturbed=!0,Te._state==="errored"?ye._errorSteps(Te._storedError):Lo(Te._readableStreamController,M,Y,ye)}function Ja(c){L(c);var M=new TypeError("Reader was released");Rr(c,M)}function Rr(c,M){var Y=c._readIntoRequests;c._readIntoRequests=new be,Y.forEach(function(ye){ye._errorSteps(M)})}function Aa(c){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(c," can only be used on a ReadableStreamBYOBReader"))}function Lr(c,M){var Y=c.highWaterMark;if(Y===void 0)return M;if(Yt(Y)||Y<0)throw new RangeError("Invalid highWaterMark");return Y}function ei(c){var M=c.size;return M||function(){return 1}}function Jr(c,M){W(c,M);var Y=c==null?void 0:c.highWaterMark,ye=c==null?void 0:c.size;return{highWaterMark:Y===void 0?void 0:J(Y),size:ye===void 0?void 0:Li(ye,"".concat(M," has member 'size' that"))}}function Li(c,M){return ne(c,M),function(Y){return J(c(Y))}}function Bo(c,M){W(c,M);var Y=c==null?void 0:c.abort,ye=c==null?void 0:c.close,Te=c==null?void 0:c.start,xe=c==null?void 0:c.type,je=c==null?void 0:c.write;return{abort:Y===void 0?void 0:xn(Y,c,"".concat(M," has member 'abort' that")),close:ye===void 0?void 0:ea(ye,c,"".concat(M," has member 'close' that")),start:Te===void 0?void 0:Ii(Te,c,"".concat(M," has member 'start' that")),write:je===void 0?void 0:ti(je,c,"".concat(M," has member 'write' that")),type:xe}}function xn(c,M,Y){return ne(c,Y),function(ye){return he(c,M,[ye])}}function ea(c,M,Y){return ne(c,Y),function(){return he(c,M,[])}}function Ii(c,M,Y){return ne(c,Y),function(ye){return K(c,M,[ye])}}function ti(c,M,Y){return ne(c,Y),function(ye,Te){return he(c,M,[ye,Te])}}function Uo(c,M){if(!_a(c))throw new TypeError("".concat(M," is not a WritableStream."))}function Os(c){if(typeof c!="object"||c===null)return!1;try{return typeof c.aborted=="boolean"}catch{return!1}}var Ds=typeof AbortController=="function";function ni(){if(Ds)return new AbortController}var er=function(){function c(M,Y){M===void 0&&(M={}),Y===void 0&&(Y={}),M===void 0?M=null:R(M,"First parameter");var ye=Jr(Y,"Second parameter"),Te=Bo(M,"First parameter");zo(this);var xe=Te.type;if(xe!==void 0)throw new RangeError("Invalid type is specified");var je=ei(ye),rt=Lr(ye,1);qo(this,Te,rt,je)}return Object.defineProperty(c.prototype,"locked",{get:function(){if(!_a(this))throw ui("locked");return Ir(this)},enumerable:!1,configurable:!0}),c.prototype.abort=function(M){return M===void 0&&(M=void 0),_a(this)?Ir(this)?_(new TypeError("Cannot abort a stream that already has a writer")):Ni(this,M):_(ui("abort"))},c.prototype.close=function(){return _a(this)?Ir(this)?_(new TypeError("Cannot close a stream that already has a writer")):Hn(this)?_(new TypeError("Cannot close an already-closing stream")):jo(this):_(ui("close"))},c.prototype.getWriter=function(){if(!_a(this))throw ui("getWriter");return Fs(this)},c}();Object.defineProperties(er.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),A(er.prototype.abort,"abort"),A(er.prototype.close,"close"),A(er.prototype.getWriter,"getWriter"),typeof a.toStringTag=="symbol"&&Object.defineProperty(er.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});function Fs(c){return new xr(c)}function Ql(c,M,Y,ye,Te,xe){Te===void 0&&(Te=1),xe===void 0&&(xe=function(){return 1});var je=Object.create(er.prototype);zo(je);var rt=Object.create(na.prototype);return Bs(je,rt,c,M,Y,ye,Te,xe),je}function zo(c){c._state="writable",c._storedError=void 0,c._writer=void 0,c._writableStreamController=void 0,c._writeRequests=new be,c._inFlightWriteRequest=void 0,c._closeRequest=void 0,c._inFlightCloseRequest=void 0,c._pendingAbortRequest=void 0,c._backpressure=!1}function _a(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_writableStreamController")?!1:c instanceof er}function Ir(c){return c._writer!==void 0}function Ni(c,M){var Y;if(c._state==="closed"||c._state==="errored")return C(void 0);c._writableStreamController._abortReason=M,(Y=c._writableStreamController._abortController)===null||Y===void 0||Y.abort(M);var ye=c._state;if(ye==="closed"||ye==="errored")return C(void 0);if(c._pendingAbortRequest!==void 0)return c._pendingAbortRequest._promise;var Te=!1;ye==="erroring"&&(Te=!0,M=void 0);var xe=f(function(je,rt){c._pendingAbortRequest={_promise:void 0,_resolve:je,_reject:rt,_reason:M,_wasAlreadyErroring:Te}});return c._pendingAbortRequest._promise=xe,Te||Is(c,M),xe}function jo(c){var M=c._state;if(M==="closed"||M==="errored")return _(new TypeError("The stream (in ".concat(M," state) is not in the writable state and cannot be closed")));var Y=f(function(Te,xe){var je={_resolve:Te,_reject:xe};c._closeRequest=je}),ye=c._writer;return ye!==void 0&&c._backpressure&&M==="writable"&&Wi(ye),Ca(c._writableStreamController),Y}function Zl(c){var M=f(function(Y,ye){var Te={_resolve:Y,_reject:ye};c._writeRequests.push(Te)});return M}function Ls(c,M){var Y=c._state;if(Y==="writable"){Is(c,M);return}Bi(c)}function Is(c,M){var Y=c._writableStreamController;c._state="erroring",c._storedError=M;var ye=c._writer;ye!==void 0&&Wo(ye,M),!ru(c)&&Y._started&&Bi(c)}function Bi(c){c._state="errored",c._writableStreamController[Z]();var M=c._storedError;if(c._writeRequests.forEach(function(Te){Te._reject(M)}),c._writeRequests=new be,c._pendingAbortRequest===void 0){ri(c);return}var Y=c._pendingAbortRequest;if(c._pendingAbortRequest=void 0,Y._wasAlreadyErroring){Y._reject(M),ri(c);return}var ye=c._writableStreamController[ve](Y._reason);i(ye,function(){return Y._resolve(),ri(c),null},function(Te){return Y._reject(Te),ri(c),null})}function Jl(c){c._inFlightWriteRequest._resolve(void 0),c._inFlightWriteRequest=void 0}function eu(c,M){c._inFlightWriteRequest._reject(M),c._inFlightWriteRequest=void 0,Ls(c,M)}function tu(c){c._inFlightCloseRequest._resolve(void 0),c._inFlightCloseRequest=void 0;var M=c._state;M==="erroring"&&(c._storedError=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._resolve(),c._pendingAbortRequest=void 0)),c._state="closed";var Y=c._writer;Y!==void 0&&Yo(Y)}function nu(c,M){c._inFlightCloseRequest._reject(M),c._inFlightCloseRequest=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._reject(M),c._pendingAbortRequest=void 0),Ls(c,M)}function Hn(c){return!(c._closeRequest===void 0&&c._inFlightCloseRequest===void 0)}function ru(c){return!(c._inFlightWriteRequest===void 0&&c._inFlightCloseRequest===void 0)}function au(c){c._inFlightCloseRequest=c._closeRequest,c._closeRequest=void 0}function iu(c){c._inFlightWriteRequest=c._writeRequests.shift()}function ri(c){c._closeRequest!==void 0&&(c._closeRequest._reject(c._storedError),c._closeRequest=void 0);var M=c._writer;M!==void 0&&js(M,c._storedError)}function Ns(c,M){var Y=c._writer;Y!==void 0&&M!==c._backpressure&&(M?$o(Y):Wi(Y)),c._backpressure=M}var xr=function(){function c(M){if(U(M,1,"WritableStreamDefaultWriter"),Uo(M,"First parameter"),Ir(M))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=M,M._writer=this;var Y=M._state;if(Y==="writable")!Hn(M)&&M._backpressure?Hi(this):wn(this),ci(this);else if(Y==="erroring")Hs(this,M._storedError),ci(this);else if(Y==="closed")wn(this),Vo(this);else{var ye=M._storedError;Hs(this,ye),zs(this,ye)}}return Object.defineProperty(c.prototype,"closed",{get:function(){return ta(this)?this._closedPromise:_(wr("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"desiredSize",{get:function(){if(!ta(this))throw wr("desiredSize");if(this._ownerWritableStream===void 0)throw ra("desiredSize");return uu(this)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ready",{get:function(){return ta(this)?this._readyPromise:_(wr("ready"))},enumerable:!1,configurable:!0}),c.prototype.abort=function(M){return M===void 0&&(M=void 0),ta(this)?this._ownerWritableStream===void 0?_(ra("abort")):su(this,M):_(wr("abort"))},c.prototype.close=function(){if(!ta(this))return _(wr("close"));var M=this._ownerWritableStream;return M===void 0?_(ra("close")):Hn(M)?_(new TypeError("Cannot close an already-closing stream")):Ho(this)},c.prototype.releaseLock=function(){if(!ta(this))throw wr("releaseLock");var M=this._ownerWritableStream;M!==void 0&&Ui(this)},c.prototype.write=function(M){return M===void 0&&(M=void 0),ta(this)?this._ownerWritableStream===void 0?_(ra("write to")):Ea(this,M):_(wr("write"))},c}();Object.defineProperties(xr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),A(xr.prototype.abort,"abort"),A(xr.prototype.close,"close"),A(xr.prototype.releaseLock,"releaseLock"),A(xr.prototype.write,"write"),typeof a.toStringTag=="symbol"&&Object.defineProperty(xr.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function ta(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_ownerWritableStream")?!1:c instanceof xr}function su(c,M){var Y=c._ownerWritableStream;return Ni(Y,M)}function Ho(c){var M=c._ownerWritableStream;return jo(M)}function ou(c){var M=c._ownerWritableStream,Y=M._state;return Hn(M)||Y==="closed"?C(void 0):Y==="errored"?_(M._storedError):Ho(c)}function lu(c,M){c._closedPromiseState==="pending"?js(c,M):hu(c,M)}function Wo(c,M){c._readyPromiseState==="pending"?Ra(c,M):Ko(c,M)}function uu(c){var M=c._ownerWritableStream,Y=M._state;return Y==="errored"||Y==="erroring"?null:Y==="closed"?0:Xo(M._writableStreamController)}function Ui(c){var M=c._ownerWritableStream,Y=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Wo(c,Y),lu(c,Y),M._writer=void 0,c._ownerWritableStream=void 0}function Ea(c,M){var Y=c._ownerWritableStream,ye=Y._writableStreamController,Te=cu(ye,M);if(Y!==c._ownerWritableStream)return _(ra("write to"));var xe=Y._state;if(xe==="errored")return _(Y._storedError);if(Hn(Y)||xe==="closed")return _(new TypeError("The stream is closing or closed and cannot be written to"));if(xe==="erroring")return _(Y._storedError);var je=Zl(Y);return du(ye,M,Te),je}var Go={},na=function(){function c(){throw new TypeError("Illegal constructor")}return Object.defineProperty(c.prototype,"abortReason",{get:function(){if(!zi(this))throw ji("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"signal",{get:function(){if(!zi(this))throw ji("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),c.prototype.error=function(M){if(M===void 0&&(M=void 0),!zi(this))throw ji("error");var Y=this._controlledWritableStream._state;Y==="writable"&&li(this,M)},c.prototype[ve]=function(M){var Y=this._abortAlgorithm(M);return ai(this),Y},c.prototype[Z]=function(){Gt(this)},c}();Object.defineProperties(na.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(na.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function zi(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_controlledWritableStream")?!1:c instanceof na}function Bs(c,M,Y,ye,Te,xe,je,rt){M._controlledWritableStream=c,c._writableStreamController=M,M._queue=void 0,M._queueTotalSize=void 0,Gt(M),M._abortReason=void 0,M._abortController=ni(),M._started=!1,M._strategySizeAlgorithm=rt,M._strategyHWM=je,M._writeAlgorithm=ye,M._closeAlgorithm=Te,M._abortAlgorithm=xe;var ht=Us(M);Ns(c,ht);var nt=Y(),gt=C(nt);i(gt,function(){return M._started=!0,ii(M),null},function(bt){return M._started=!0,Ls(c,bt),null})}function qo(c,M,Y,ye){var Te=Object.create(na.prototype),xe,je,rt,ht;M.start!==void 0?xe=function(){return M.start(Te)}:xe=function(){},M.write!==void 0?je=function(nt){return M.write(nt,Te)}:je=function(){return C(void 0)},M.close!==void 0?rt=function(){return M.close()}:rt=function(){return C(void 0)},M.abort!==void 0?ht=function(nt){return M.abort(nt)}:ht=function(){return C(void 0)},Bs(c,Te,xe,je,rt,ht,Y,ye)}function ai(c){c._writeAlgorithm=void 0,c._closeAlgorithm=void 0,c._abortAlgorithm=void 0,c._strategySizeAlgorithm=void 0}function Ca(c){en(c,Go,0),ii(c)}function cu(c,M){try{return c._strategySizeAlgorithm(M)}catch(Y){return Ta(c,Y),1}}function Xo(c){return c._strategyHWM-c._queueTotalSize}function du(c,M,Y){try{en(c,M,Y)}catch(xe){Ta(c,xe);return}var ye=c._controlledWritableStream;if(!Hn(ye)&&ye._state==="writable"){var Te=Us(c);Ns(ye,Te)}ii(c)}function ii(c){var M=c._controlledWritableStream;if(c._started&&M._inFlightWriteRequest===void 0){var Y=M._state;if(Y==="erroring"){Bi(M);return}if(c._queue.length!==0){var ye=fn(c);ye===Go?si(c):oi(c,ye)}}}function Ta(c,M){c._controlledWritableStream._state==="writable"&&li(c,M)}function si(c){var M=c._controlledWritableStream;au(M),Zt(c);var Y=c._closeAlgorithm();ai(c),i(Y,function(){return tu(M),null},function(ye){return nu(M,ye),null})}function oi(c,M){var Y=c._controlledWritableStream;iu(Y);var ye=c._writeAlgorithm(M);i(ye,function(){Jl(Y);var Te=Y._state;if(Zt(c),!Hn(Y)&&Te==="writable"){var xe=Us(c);Ns(Y,xe)}return ii(c),null},function(Te){return Y._state==="writable"&&ai(c),eu(Y,Te),null})}function Us(c){var M=Xo(c);return M<=0}function li(c,M){var Y=c._controlledWritableStream;ai(c),Is(Y,M)}function ui(c){return new TypeError("WritableStream.prototype.".concat(c," can only be used on a WritableStream"))}function ji(c){return new TypeError("WritableStreamDefaultController.prototype.".concat(c," can only be used on a WritableStreamDefaultController"))}function wr(c){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(c," can only be used on a WritableStreamDefaultWriter"))}function ra(c){return new TypeError("Cannot "+c+" a stream using a released writer")}function ci(c){c._closedPromise=f(function(M,Y){c._closedPromise_resolve=M,c._closedPromise_reject=Y,c._closedPromiseState="pending"})}function zs(c,M){ci(c),js(c,M)}function Vo(c){ci(c),Yo(c)}function js(c,M){c._closedPromise_reject!==void 0&&(I(c._closedPromise),c._closedPromise_reject(M),c._closedPromise_resolve=void 0,c._closedPromise_reject=void 0,c._closedPromiseState="rejected")}function hu(c,M){zs(c,M)}function Yo(c){c._closedPromise_resolve!==void 0&&(c._closedPromise_resolve(void 0),c._closedPromise_resolve=void 0,c._closedPromise_reject=void 0,c._closedPromiseState="resolved")}function Hi(c){c._readyPromise=f(function(M,Y){c._readyPromise_resolve=M,c._readyPromise_reject=Y}),c._readyPromiseState="pending"}function Hs(c,M){Hi(c),Ra(c,M)}function wn(c){Hi(c),Wi(c)}function Ra(c,M){c._readyPromise_reject!==void 0&&(I(c._readyPromise),c._readyPromise_reject(M),c._readyPromise_resolve=void 0,c._readyPromise_reject=void 0,c._readyPromiseState="rejected")}function $o(c){Hi(c)}function Ko(c,M){Hs(c,M)}function Wi(c){c._readyPromise_resolve!==void 0&&(c._readyPromise_resolve(void 0),c._readyPromise_resolve=void 0,c._readyPromise_reject=void 0,c._readyPromiseState="fulfilled")}function Qo(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof commonjsGlobal<"u")return commonjsGlobal}var di=Qo();function fu(c){if(!(typeof c=="function"||typeof c=="object")||c.name!=="DOMException")return!1;try{return new c,!0}catch{return!1}}function xa(){var c=di==null?void 0:di.DOMException;return fu(c)?c:void 0}function Ws(){var c=function(Y,ye){this.message=Y||"",this.name=ye||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return A(c,"DOMException"),c.prototype=Object.create(Error.prototype),Object.defineProperty(c.prototype,"constructor",{value:c,writable:!0,configurable:!0}),c}var hi=xa()||Ws();function Gi(c,M,Y,ye,Te,xe){var je=_e(c),rt=Fs(M);c._disturbed=!0;var ht=!1,nt=C(void 0);return f(function(gt,bt){var Et;if(xe!==void 0){if(Et=function(){var mt=xe.reason!==void 0?xe.reason:new hi("Aborted","AbortError"),Ft=[];ye||Ft.push(function(){return M._state==="writable"?Ni(M,mt):C(void 0)}),Te||Ft.push(function(){return c._state==="readable"?Ln(c,mt):C(void 0)}),Mn(function(){return Promise.all(Ft.map(function(Xt){return Xt()}))},!0,mt)},xe.aborted){Et();return}xe.addEventListener("abort",Et)}function $t(){return f(function(mt,Ft){function Xt(dn){dn?mt():b(kn(),Xt,Ft)}Xt(!1)})}function kn(){return ht?C(!0):b(rt._readyPromise,function(){return f(function(mt,Ft){De(je,{_chunkSteps:function(Xt){nt=b(Ea(rt,Xt),void 0,g),mt(!1)},_closeSteps:function(){return mt(!0)},_errorSteps:Ft})})})}if(tn(c,je._closedPromise,function(mt){return ye?Yn(!0,mt):Mn(function(){return Ni(M,mt)},!0,mt),null}),tn(M,rt._closedPromise,function(mt){return Te?Yn(!0,mt):Mn(function(){return Ln(c,mt)},!0,mt),null}),Vn(c,je._closedPromise,function(){return Y?Yn():Mn(function(){return ou(rt)}),null}),Hn(M)||M._state==="closed"){var mn=new TypeError("the destination writable stream closed before all data could be piped to it");Te?Yn(!0,mn):Mn(function(){return Ln(c,mn)},!0,mn)}I($t());function nr(){var mt=nt;return b(nt,function(){return mt!==nt?nr():void 0})}function tn(mt,Ft,Xt){mt._state==="errored"?Xt(mt._storedError):w(Ft,Xt)}function Vn(mt,Ft,Xt){mt._state==="closed"?Xt():v(Ft,Xt)}function Mn(mt,Ft,Xt){if(ht)return;ht=!0,M._state==="writable"&&!Hn(M)?v(nr(),dn):dn();function dn(){return i(mt(),function(){return qt(Ft,Xt)},function(br){return qt(!0,br)}),null}}function Yn(mt,Ft){ht||(ht=!0,M._state==="writable"&&!Hn(M)?v(nr(),function(){return qt(mt,Ft)}):qt(mt,Ft))}function qt(mt,Ft){return Ui(rt),L(je),xe!==void 0&&xe.removeEventListener("abort",Et),mt?bt(Ft):gt(void 0),null}})}var ur=function(){function c(){throw new TypeError("Illegal constructor")}return Object.defineProperty(c.prototype,"desiredSize",{get:function(){if(!cr(this))throw pi("desiredSize");return Xi(this)},enumerable:!1,configurable:!0}),c.prototype.close=function(){if(!cr(this))throw pi("close");if(!wa(this))throw new TypeError("The stream is not in a state that permits close");On(this)},c.prototype.enqueue=function(M){if(M===void 0&&(M=void 0),!cr(this))throw pi("enqueue");if(!wa(this))throw new TypeError("The stream is not in a state that permits enqueue");return aa(this,M)},c.prototype.error=function(M){if(M===void 0&&(M=void 0),!cr(this))throw pi("error");Wn(this,M)},c.prototype[Q]=function(M){Gt(this);var Y=this._cancelAlgorithm(M);return fi(this),Y},c.prototype[ee]=function(M){var Y=this._controlledReadableStream;if(this._queue.length>0){var ye=Zt(this);this._closeRequested&&this._queue.length===0?(fi(this),fr(Y)):dr(this),M._chunkSteps(ye)}else Ae(Y,M),dr(this)},c.prototype[fe]=function(){},c}();Object.defineProperties(ur.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),A(ur.prototype.close,"close"),A(ur.prototype.enqueue,"enqueue"),A(ur.prototype.error,"error"),typeof a.toStringTag=="symbol"&&Object.defineProperty(ur.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function cr(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_controlledReadableStream")?!1:c instanceof ur}function dr(c){var M=qi(c);if(M){if(c._pulling){c._pullAgain=!0;return}c._pulling=!0;var Y=c._pullAlgorithm();i(Y,function(){return c._pulling=!1,c._pullAgain&&(c._pullAgain=!1,dr(c)),null},function(ye){return Wn(c,ye),null})}}function qi(c){var M=c._controlledReadableStream;if(!wa(c)||!c._started)return!1;if(hr(M)&&Me(M)>0)return!0;var Y=Xi(c);return Y>0}function fi(c){c._pullAlgorithm=void 0,c._cancelAlgorithm=void 0,c._strategySizeAlgorithm=void 0}function On(c){if(wa(c)){var M=c._controlledReadableStream;c._closeRequested=!0,c._queue.length===0&&(fi(c),fr(M))}}function aa(c,M){if(wa(c)){var Y=c._controlledReadableStream;if(hr(Y)&&Me(Y)>0)ke(Y,M,!1);else{var ye=void 0;try{ye=c._strategySizeAlgorithm(M)}catch(Te){throw Wn(c,Te),Te}try{en(c,M,ye)}catch(Te){throw Wn(c,Te),Te}}dr(c)}}function Wn(c,M){var Y=c._controlledReadableStream;Y._state==="readable"&&(Gt(c),fi(c),sa(Y,M))}function Xi(c){var M=c._controlledReadableStream._state;return M==="errored"?null:M==="closed"?0:c._strategyHWM-c._queueTotalSize}function pu(c){return!qi(c)}function wa(c){var M=c._controlledReadableStream._state;return!c._closeRequested&&M==="readable"}function Zo(c,M,Y,ye,Te,xe,je){M._controlledReadableStream=c,M._queue=void 0,M._queueTotalSize=void 0,Gt(M),M._started=!1,M._closeRequested=!1,M._pullAgain=!1,M._pulling=!1,M._strategySizeAlgorithm=je,M._strategyHWM=xe,M._pullAlgorithm=ye,M._cancelAlgorithm=Te,c._readableStreamController=M;var rt=Y();i(C(rt),function(){return M._started=!0,dr(M),null},function(ht){return Wn(M,ht),null})}function Jo(c,M,Y,ye){var Te=Object.create(ur.prototype),xe,je,rt;M.start!==void 0?xe=function(){return M.start(Te)}:xe=function(){},M.pull!==void 0?je=function(){return M.pull(Te)}:je=function(){return C(void 0)},M.cancel!==void 0?rt=function(ht){return M.cancel(ht)}:rt=function(){return C(void 0)},Zo(c,Te,xe,je,rt,Y,ye)}function pi(c){return new TypeError("ReadableStreamDefaultController.prototype.".concat(c," can only be used on a ReadableStreamDefaultController"))}function Gs(c,M){return Bn(c._readableStreamController)?el(c):tr(c)}function tr(c,M){var Y=_e(c),ye=!1,Te=!1,xe=!1,je=!1,rt,ht,nt,gt,bt,Et=f(function(tn){bt=tn});function $t(){if(ye)return Te=!0,C(void 0);ye=!0;var tn={_chunkSteps:function(Vn){G(function(){Te=!1;var Mn=Vn,Yn=Vn;xe||aa(nt._readableStreamController,Mn),je||aa(gt._readableStreamController,Yn),ye=!1,Te&&$t()})},_closeSteps:function(){ye=!1,xe||On(nt._readableStreamController),je||On(gt._readableStreamController),(!xe||!je)&&bt(void 0)},_errorSteps:function(){ye=!1}};return De(Y,tn),C(void 0)}function kn(tn){if(xe=!0,rt=tn,je){var Vn=St([rt,ht]),Mn=Ln(c,Vn);bt(Mn)}return Et}function mn(tn){if(je=!0,ht=tn,xe){var Vn=St([rt,ht]),Mn=Ln(c,Vn);bt(Mn)}return Et}function nr(){}return nt=Fn(nr,$t,kn),gt=Fn(nr,$t,mn),w(Y._closedPromise,function(tn){return Wn(nt._readableStreamController,tn),Wn(gt._readableStreamController,tn),(!xe||!je)&&bt(void 0),null}),[nt,gt]}function el(c){var M=_e(c),Y=!1,ye=!1,Te=!1,xe=!1,je=!1,rt,ht,nt,gt,bt,Et=f(function(qt){bt=qt});function $t(qt){w(qt._closedPromise,function(mt){return qt!==M||(Rn(nt._readableStreamController,mt),Rn(gt._readableStreamController,mt),(!xe||!je)&&bt(void 0)),null})}function kn(){Sn(M)&&(L(M),M=_e(c),$t(M));var qt={_chunkSteps:function(mt){G(function(){ye=!1,Te=!1;var Ft=mt,Xt=mt;if(!xe&&!je)try{Xt=Mt(mt)}catch(dn){Rn(nt._readableStreamController,dn),Rn(gt._readableStreamController,dn),bt(Ln(c,dn));return}xe||Qa(nt._readableStreamController,Ft),je||Qa(gt._readableStreamController,Xt),Y=!1,ye?nr():Te&&tn()})},_closeSteps:function(){Y=!1,xe||$r(nt._readableStreamController),je||$r(gt._readableStreamController),nt._readableStreamController._pendingPullIntos.length>0&&Tr(nt._readableStreamController,0),gt._readableStreamController._pendingPullIntos.length>0&&Tr(gt._readableStreamController,0),(!xe||!je)&&bt(void 0)},_errorSteps:function(){Y=!1}};De(M,qt)}function mn(qt,mt){at(M)&&(L(M),M=Qr(c),$t(M));var Ft=mt?gt:nt,Xt=mt?nt:gt,dn={_chunkSteps:function(br){G(function(){ye=!1,Te=!1;var jr=mt?je:xe,$n=mt?xe:je;if($n)jr||ki(Ft._readableStreamController,br);else{var Or=void 0;try{Or=Mt(br)}catch(da){Rn(Ft._readableStreamController,da),Rn(Xt._readableStreamController,da),bt(Ln(c,da));return}jr||ki(Ft._readableStreamController,br),Qa(Xt._readableStreamController,Or)}Y=!1,ye?nr():Te&&tn()})},_closeSteps:function(br){Y=!1;var jr=mt?je:xe,$n=mt?xe:je;jr||$r(Ft._readableStreamController),$n||$r(Xt._readableStreamController),br!==void 0&&(jr||ki(Ft._readableStreamController,br),!$n&&Xt._readableStreamController._pendingPullIntos.length>0&&Tr(Xt._readableStreamController,0)),(!jr||!$n)&&bt(void 0)},_errorSteps:function(){Y=!1}};Fi(M,qt,1,dn)}function nr(){if(Y)return ye=!0,C(void 0);Y=!0;var qt=Pi(nt._readableStreamController);return qt===null?kn():mn(qt._view,!1),C(void 0)}function tn(){if(Y)return Te=!0,C(void 0);Y=!0;var qt=Pi(gt._readableStreamController);return qt===null?kn():mn(qt._view,!0),C(void 0)}function Vn(qt){if(xe=!0,rt=qt,je){var mt=St([rt,ht]),Ft=Ln(c,mt);bt(Ft)}return Et}function Mn(qt){if(je=!0,ht=qt,xe){var mt=St([rt,ht]),Ft=Ln(c,mt);bt(Ft)}return Et}function Yn(){}return nt=Vs(Yn,nr,Vn),gt=Vs(Yn,tn,Mn),$t(M),[nt,gt]}function Gn(c){return x(c)&&typeof c.getReader<"u"}function qn(c){return Gn(c)?qs(c.getReader()):Pa(c)}function Pa(c){var M,Y=pt(c,"async"),ye=g;function Te(){var je;try{je=Ne(Y)}catch(ht){return _(ht)}var rt=C(je);return E(rt,function(ht){if(!x(ht))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var nt=we(ht);if(nt)On(M._readableStreamController);else{var gt=Xe(ht);aa(M._readableStreamController,gt)}})}function xe(je){var rt=Y.iterator,ht;try{ht=qe(rt,"return")}catch(bt){return _(bt)}if(ht===void 0)return C(void 0);var nt;try{nt=K(ht,rt,[je])}catch(bt){return _(bt)}var gt=C(nt);return E(gt,function(bt){if(!x(bt))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return M=Fn(ye,Te,xe,0),M}function qs(c){var M,Y=g;function ye(){var xe;try{xe=c.read()}catch(je){return _(je)}return E(xe,function(je){if(!x(je))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(je.done)On(M._readableStreamController);else{var rt=je.value;aa(M._readableStreamController,rt)}})}function Te(xe){try{return C(c.cancel(xe))}catch(je){return _(je)}}return M=Fn(Y,ye,Te,0),M}function Vi(c,M){W(c,M);var Y=c,ye=Y==null?void 0:Y.autoAllocateChunkSize,Te=Y==null?void 0:Y.cancel,xe=Y==null?void 0:Y.pull,je=Y==null?void 0:Y.start,rt=Y==null?void 0:Y.type;return{autoAllocateChunkSize:ye===void 0?void 0:pe(ye,"".concat(M," has member 'autoAllocateChunkSize' that")),cancel:Te===void 0?void 0:Yi(Te,Y,"".concat(M," has member 'cancel' that")),pull:xe===void 0?void 0:Xs(xe,Y,"".concat(M," has member 'pull' that")),start:je===void 0?void 0:ka(je,Y,"".concat(M," has member 'start' that")),type:rt===void 0?void 0:tl(rt,"".concat(M," has member 'type' that"))}}function Yi(c,M,Y){return ne(c,Y),function(ye){return he(c,M,[ye])}}function Xs(c,M,Y){return ne(c,Y),function(ye){return he(c,M,[ye])}}function ka(c,M,Y){return ne(c,Y),function(ye){return K(c,M,[ye])}}function tl(c,M){if(c="".concat(c),c!=="bytes")throw new TypeError("".concat(M," '").concat(c,"' is not a valid enumeration value for ReadableStreamType"));return c}function $i(c,M){W(c,M);var Y=c==null?void 0:c.preventCancel;return{preventCancel:!!Y}}function ia(c,M){W(c,M);var Y=c==null?void 0:c.preventAbort,ye=c==null?void 0:c.preventCancel,Te=c==null?void 0:c.preventClose,xe=c==null?void 0:c.signal;return xe!==void 0&&mu(xe,"".concat(M," has member 'signal' that")),{preventAbort:!!Y,preventCancel:!!ye,preventClose:!!Te,signal:xe}}function mu(c,M){if(!Os(c))throw new TypeError("".concat(M," is not an AbortSignal."))}function Dn(c,M){W(c,M);var Y=c==null?void 0:c.readable;X(Y,"readable","ReadableWritablePair"),oe(Y,"".concat(M," has member 'readable' that"));var ye=c==null?void 0:c.writable;return X(ye,"writable","ReadableWritablePair"),Uo(ye,"".concat(M," has member 'writable' that")),{readable:Y,writable:ye}}var ln=function(){function c(M,Y){M===void 0&&(M={}),Y===void 0&&(Y={}),M===void 0?M=null:R(M,"First parameter");var ye=Jr(Y,"Second parameter"),Te=Vi(M,"First parameter");if(Ma(this),Te.type==="bytes"){if(ye.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var xe=Lr(ye,0);Io(this,Te,xe)}else{var je=ei(ye),xe=Lr(ye,1);Jo(this,Te,xe,je)}}return Object.defineProperty(c.prototype,"locked",{get:function(){if(!Pn(this))throw pr("locked");return hr(this)},enumerable:!1,configurable:!0}),c.prototype.cancel=function(M){return M===void 0&&(M=void 0),Pn(this)?hr(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):Ln(this,M):_(pr("cancel"))},c.prototype.getReader=function(M){if(M===void 0&&(M=void 0),!Pn(this))throw pr("getReader");var Y=Mi(M,"First parameter");return Y.mode===void 0?_e(this):Qr(this)},c.prototype.pipeThrough=function(M,Y){if(Y===void 0&&(Y={}),!Pn(this))throw pr("pipeThrough");U(M,1,"pipeThrough");var ye=Dn(M,"First parameter"),Te=ia(Y,"Second parameter");if(hr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ir(ye.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var xe=Gi(this,ye.writable,Te.preventClose,Te.preventAbort,Te.preventCancel,Te.signal);return I(xe),ye.readable},c.prototype.pipeTo=function(M,Y){if(Y===void 0&&(Y={}),!Pn(this))return _(pr("pipeTo"));if(M===void 0)return _("Parameter 1 is required in 'pipeTo'.");if(!_a(M))return _(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ye;try{ye=ia(Y,"Second parameter")}catch(Te){return _(Te)}return hr(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ir(M)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Gi(this,M,ye.preventClose,ye.preventAbort,ye.preventCancel,ye.signal)},c.prototype.tee=function(){if(!Pn(this))throw pr("tee");var M=Gs(this);return St(M)},c.prototype.values=function(M){if(M===void 0&&(M=void 0),!Pn(this))throw pr("values");var Y=$i(M,"First parameter");return _t(this,Y.preventCancel)},c.prototype[$e]=function(M){return this.values(M)},c.from=function(M){return qn(M)},c}();Object.defineProperties(ln,{from:{enumerable:!0}}),Object.defineProperties(ln.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),A(ln.from,"from"),A(ln.prototype.cancel,"cancel"),A(ln.prototype.getReader,"getReader"),A(ln.prototype.pipeThrough,"pipeThrough"),A(ln.prototype.pipeTo,"pipeTo"),A(ln.prototype.tee,"tee"),A(ln.prototype.values,"values"),typeof a.toStringTag=="symbol"&&Object.defineProperty(ln.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(ln.prototype,$e,{value:ln.prototype.values,writable:!0,configurable:!0});function Fn(c,M,Y,ye,Te){ye===void 0&&(ye=1),Te===void 0&&(Te=function(){return 1});var xe=Object.create(ln.prototype);Ma(xe);var je=Object.create(ur.prototype);return Zo(xe,je,c,M,Y,ye,Te),xe}function Vs(c,M,Y){var ye=Object.create(ln.prototype);Ma(ye);var Te=Object.create(rn.prototype);return xs(ye,Te,c,M,Y,0,void 0),ye}function Ma(c){c._state="readable",c._reader=void 0,c._storedError=void 0,c._disturbed=!1}function Pn(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_readableStreamController")?!1:c instanceof ln}function hr(c){return c._reader!==void 0}function Ln(c,M){if(c._disturbed=!0,c._state==="closed")return C(void 0);if(c._state==="errored")return _(c._storedError);fr(c);var Y=c._reader;if(Y!==void 0&&Sn(Y)){var ye=Y._readIntoRequests;Y._readIntoRequests=new be,ye.forEach(function(xe){xe._closeSteps(void 0)})}var Te=c._readableStreamController[Q](M);return E(Te,g)}function fr(c){c._state="closed";var M=c._reader;if(M!==void 0&&(se(M),at(M))){var Y=M._readRequests;M._readRequests=new be,Y.forEach(function(ye){ye._closeSteps()})}}function sa(c,M){c._state="errored",c._storedError=M;var Y=c._reader;Y!==void 0&&(q(Y,M),at(Y)?de(Y,M):Rr(Y,M))}function pr(c){return new TypeError("ReadableStream.prototype.".concat(c," can only be used on a ReadableStream"))}function mi(c,M){W(c,M);var Y=c==null?void 0:c.highWaterMark;return X(Y,"highWaterMark","QueuingStrategyInit"),{highWaterMark:J(Y)}}var In=function(c){return c.byteLength};A(In,"size");var An=function(){function c(M){U(M,1,"ByteLengthQueuingStrategy"),M=mi(M,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=M.highWaterMark}return Object.defineProperty(c.prototype,"highWaterMark",{get:function(){if(!mr(this))throw Nr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){if(!mr(this))throw Nr("size");return In},enumerable:!1,configurable:!0}),c}();Object.defineProperties(An.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(An.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Nr(c){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(c," can only be used on a ByteLengthQueuingStrategy"))}function mr(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_byteLengthQueuingStrategyHighWaterMark")?!1:c instanceof An}var gr=function(){return 1};A(gr,"size");var vr=function(){function c(M){U(M,1,"CountQueuingStrategy"),M=mi(M,"First parameter"),this._countQueuingStrategyHighWaterMark=M.highWaterMark}return Object.defineProperty(c.prototype,"highWaterMark",{get:function(){if(!Ki(this))throw Ys("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){if(!Ki(this))throw Ys("size");return gr},enumerable:!1,configurable:!0}),c}();Object.defineProperties(vr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(vr.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ys(c){return new TypeError("CountQueuingStrategy.prototype.".concat(c," can only be used on a CountQueuingStrategy"))}function Ki(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_countQueuingStrategyHighWaterMark")?!1:c instanceof vr}function $s(c,M){W(c,M);var Y=c==null?void 0:c.cancel,ye=c==null?void 0:c.flush,Te=c==null?void 0:c.readableType,xe=c==null?void 0:c.start,je=c==null?void 0:c.transform,rt=c==null?void 0:c.writableType;return{cancel:Y===void 0?void 0:oa(Y,c,"".concat(M," has member 'cancel' that")),flush:ye===void 0?void 0:_n(ye,c,"".concat(M," has member 'flush' that")),readableType:Te,start:xe===void 0?void 0:Kt(xe,c,"".concat(M," has member 'start' that")),transform:je===void 0?void 0:Dt(je,c,"".concat(M," has member 'transform' that")),writableType:rt}}function _n(c,M,Y){return ne(c,Y),function(ye){return he(c,M,[ye])}}function Kt(c,M,Y){return ne(c,Y),function(ye){return K(c,M,[ye])}}function Dt(c,M,Y){return ne(c,Y),function(ye,Te){return he(c,M,[ye,Te])}}function oa(c,M,Y){return ne(c,Y),function(ye){return he(c,M,[ye])}}var Nn=function(){function c(M,Y,ye){M===void 0&&(M={}),Y===void 0&&(Y={}),ye===void 0&&(ye={}),M===void 0&&(M=null);var Te=Jr(Y,"Second parameter"),xe=Jr(ye,"Third parameter"),je=$s(M,"First parameter");if(je.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(je.writableType!==void 0)throw new RangeError("Invalid writableType specified");var rt=Lr(xe,0),ht=ei(xe),nt=Lr(Te,1),gt=ei(Te),bt,Et=f(function($t){bt=$t});Ks(this,Et,nt,gt,rt,ht),ua(this,je),je.start!==void 0?bt(je.start(this._transformStreamController)):bt(void 0)}return Object.defineProperty(c.prototype,"readable",{get:function(){if(!Br(this))throw nl("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"writable",{get:function(){if(!Br(this))throw nl("writable");return this._writable},enumerable:!1,configurable:!0}),c}();Object.defineProperties(Nn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Nn.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});function Ks(c,M,Y,ye,Te,xe){function je(){return M}function rt(Et){return gi(c,Et)}function ht(Et){return Ji(c,Et)}function nt(){return ca(c)}c._writable=Ql(je,rt,nt,ht,Y,ye);function gt(){return pn(c)}function bt(Et){return es(c,Et)}c._readable=Fn(je,gt,bt,Te,xe),c._backpressure=void 0,c._backpressureChangePromise=void 0,c._backpressureChangePromise_resolve=void 0,Ur(c,!0),c._transformStreamController=void 0}function Br(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_transformStreamController")?!1:c instanceof Nn}function Qs(c,M){Wn(c._readable._readableStreamController,M),Qi(c,M)}function Qi(c,M){Xn(c._transformStreamController),Ta(c._writable._writableStreamController,M),la(c)}function la(c){c._backpressure&&Ur(c,!1)}function Ur(c,M){c._backpressureChangePromise!==void 0&&c._backpressureChangePromise_resolve(),c._backpressureChangePromise=f(function(Y){c._backpressureChangePromise_resolve=Y}),c._backpressure=M}var Pr=function(){function c(){throw new TypeError("Illegal constructor")}return Object.defineProperty(c.prototype,"desiredSize",{get:function(){if(!zr(this))throw vi("desiredSize");var M=this._controlledTransformStream._readable._readableStreamController;return Xi(M)},enumerable:!1,configurable:!0}),c.prototype.enqueue=function(M){if(M===void 0&&(M=void 0),!zr(this))throw vi("enqueue");kr(this,M)},c.prototype.error=function(M){if(M===void 0&&(M=void 0),!zr(this))throw vi("error");Mr(this,M)},c.prototype.terminate=function(){if(!zr(this))throw vi("terminate");Js(this)},c}();Object.defineProperties(Pr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),A(Pr.prototype.enqueue,"enqueue"),A(Pr.prototype.error,"error"),A(Pr.prototype.terminate,"terminate"),typeof a.toStringTag=="symbol"&&Object.defineProperty(Pr.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function zr(c){return!x(c)||!Object.prototype.hasOwnProperty.call(c,"_controlledTransformStream")?!1:c instanceof Pr}function Zs(c,M,Y,ye,Te){M._controlledTransformStream=c,c._transformStreamController=M,M._transformAlgorithm=Y,M._flushAlgorithm=ye,M._cancelAlgorithm=Te,M._finishPromise=void 0,M._finishPromise_resolve=void 0,M._finishPromise_reject=void 0}function ua(c,M){var Y=Object.create(Pr.prototype),ye,Te,xe;M.transform!==void 0?ye=function(je){return M.transform(je,Y)}:ye=function(je){try{return kr(Y,je),C(void 0)}catch(rt){return _(rt)}},M.flush!==void 0?Te=function(){return M.flush(Y)}:Te=function(){return C(void 0)},M.cancel!==void 0?xe=function(je){return M.cancel(je)}:xe=function(){return C(void 0)},Zs(c,Y,ye,Te,xe)}function Xn(c){c._transformAlgorithm=void 0,c._flushAlgorithm=void 0,c._cancelAlgorithm=void 0}function kr(c,M){var Y=c._controlledTransformStream,ye=Y._readable._readableStreamController;if(!wa(ye))throw new TypeError("Readable side is not in a state that permits enqueue");try{aa(ye,M)}catch(xe){throw Qi(Y,xe),Y._readable._storedError}var Te=pu(ye);Te!==Y._backpressure&&Ur(Y,!0)}function Mr(c,M){Qs(c._controlledTransformStream,M)}function Zi(c,M){var Y=c._transformAlgorithm(M);return E(Y,void 0,function(ye){throw Qs(c._controlledTransformStream,ye),ye})}function Js(c){var M=c._controlledTransformStream,Y=M._readable._readableStreamController;On(Y);var ye=new TypeError("TransformStream terminated");Qi(M,ye)}function gi(c,M){var Y=c._transformStreamController;if(c._backpressure){var ye=c._backpressureChangePromise;return E(ye,function(){var Te=c._writable,xe=Te._state;if(xe==="erroring")throw Te._storedError;return Zi(Y,M)})}return Zi(Y,M)}function Ji(c,M){var Y=c._transformStreamController;if(Y._finishPromise!==void 0)return Y._finishPromise;var ye=c._readable;Y._finishPromise=f(function(xe,je){Y._finishPromise_resolve=xe,Y._finishPromise_reject=je});var Te=Y._cancelAlgorithm(M);return Xn(Y),i(Te,function(){return ye._state==="errored"?Oa(Y,ye._storedError):(Wn(ye._readableStreamController,M),eo(Y)),null},function(xe){return Wn(ye._readableStreamController,xe),Oa(Y,xe),null}),Y._finishPromise}function ca(c){var M=c._transformStreamController;if(M._finishPromise!==void 0)return M._finishPromise;var Y=c._readable;M._finishPromise=f(function(Te,xe){M._finishPromise_resolve=Te,M._finishPromise_reject=xe});var ye=M._flushAlgorithm();return Xn(M),i(ye,function(){return Y._state==="errored"?Oa(M,Y._storedError):(On(Y._readableStreamController),eo(M)),null},function(Te){return Wn(Y._readableStreamController,Te),Oa(M,Te),null}),M._finishPromise}function pn(c){return Ur(c,!1),c._backpressureChangePromise}function es(c,M){var Y=c._transformStreamController;if(Y._finishPromise!==void 0)return Y._finishPromise;var ye=c._writable;Y._finishPromise=f(function(xe,je){Y._finishPromise_resolve=xe,Y._finishPromise_reject=je});var Te=Y._cancelAlgorithm(M);return Xn(Y),i(Te,function(){return ye._state==="errored"?Oa(Y,ye._storedError):(Ta(ye._writableStreamController,M),la(c),eo(Y)),null},function(xe){return Ta(ye._writableStreamController,xe),la(c),Oa(Y,xe),null}),Y._finishPromise}function vi(c){return new TypeError("TransformStreamDefaultController.prototype.".concat(c," can only be used on a TransformStreamDefaultController"))}function eo(c){c._finishPromise_resolve!==void 0&&(c._finishPromise_resolve(),c._finishPromise_resolve=void 0,c._finishPromise_reject=void 0)}function Oa(c,M){c._finishPromise_reject!==void 0&&(I(c._finishPromise),c._finishPromise_reject(M),c._finishPromise_resolve=void 0,c._finishPromise_reject=void 0)}function nl(c){return new TypeError("TransformStream.prototype.".concat(c," can only be used on a TransformStream"))}l.ByteLengthQueuingStrategy=An,l.CountQueuingStrategy=vr,l.ReadableByteStreamController=rn,l.ReadableStream=ln,l.ReadableStreamBYOBReader=jn,l.ReadableStreamBYOBRequest=on,l.ReadableStreamDefaultController=ur,l.ReadableStreamDefaultReader=Ge,l.TransformStream=Nn,l.TransformStreamDefaultController=Pr,l.WritableStream=er,l.WritableStreamDefaultController=na,l.WritableStreamDefaultWriter=xr})}(ponyfill$1,ponyfill$1.exports)),ponyfill$1.exports}var hasRequiredPdf$1;function requirePdf$1(){return hasRequiredPdf$1||(hasRequiredPdf$1=1,function(module,exports){(function(s,l){module.exports=l()})(globalThis,()=>(()=>{var __webpack_modules__=[,(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=L,s.bytesToString=ne,s.createPromiseCapability=De,s.createValidAbsoluteUrl=k,s.getModificationDate=at,s.getVerbosityLevel=ee,s.info=fe,s.isArrayBuffer=Fe,s.isArrayEqual=Ge,s.objectFromMap=X,s.objectSize=U,s.setVerbosityLevel=Q,s.shadow=N,s.string32=R,s.stringToBytes=$,s.stringToPDFString=Ae,s.stringToUTF8String=ke,s.unreachable=z,s.utf8StringToString=Me,s.warn=V,globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,l(2));const a=[1,0,0,1,0,0];s.IDENTITY_MATRIX=a;const h=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=h;const T=1.35;s.LINE_FACTOR=T;const F=.35;s.LINE_DESCENT_FACTOR=F;const B=F/T;s.BASELINE_FACTOR=B;const O={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=O;const o={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=o;const g="pdfjs_internal_editor_";s.AnnotationEditorPrefix=g;const x={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=x;const y={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=y;const A={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=A;const m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=m;const p={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=p;const d={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=d;const f={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=f;const C={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=C;const _={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=_;const b={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=b;const i={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=i;const v={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=v;const w={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=w;const E={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=E;const I={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=I;const G={O:"PageOpen",C:"PageClose"};s.PageActionEventType=G;const K={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=K;const he={NONE:0,BINARY:1};s.CMapCompressionType=he;const Ce={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=Ce;const be={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=be;const ve={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=ve;let Z=K.WARNINGS;function Q(me){Number.isInteger(me)&&(Z=me)}function ee(){return Z}function fe(me){Z>=K.INFOS&&console.log(`Info: ${me}`)}function V(me){Z>=K.WARNINGS&&console.log(`Warning: ${me}`)}function z(me){throw new Error(me)}function L(me,de){me||z(de)}function P(me){if(!me)return!1;switch(me.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function k(me){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!me)return null;try{if(Se&&typeof me=="string"){if(Se.addDefaultProtocol&&me.startsWith("www.")){const Ze=me.match(/\./g);Ze&&Ze.length>=2&&(me=`http://${me}`)}if(Se.tryConvertEncoding)try{me=ke(me)}catch{}}const Be=de?new URL(me,de):new URL(me);if(P(Be))return Be}catch{}return null}function N(me,de,Se){let Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(me,de,{value:Se,enumerable:!Be,configurable:!0,writable:!1}),Se}const j=function(){function de(Se,Be){this.constructor===de&&z("Cannot initialize BaseException."),this.message=Se,this.name=Be}return de.prototype=new Error,de.constructor=de,de}();s.BaseException=j;class q extends j{constructor(de,Se){super(de,"PasswordException"),this.code=Se}}s.PasswordException=q;class te extends j{constructor(de,Se){super(de,"UnknownErrorException"),this.details=Se}}s.UnknownErrorException=te;class se extends j{constructor(de){super(de,"InvalidPDFException")}}s.InvalidPDFException=se;class re extends j{constructor(de){super(de,"MissingPDFException")}}s.MissingPDFException=re;class ce extends j{constructor(de,Se){super(de,"UnexpectedResponseException"),this.status=Se}}s.UnexpectedResponseException=ce;class H extends j{constructor(de){super(de,"FormatError")}}s.FormatError=H;class W extends j{constructor(de){super(de,"AbortException")}}s.AbortException=W;function ne(me){(typeof me!="object"||me===null||me.length===void 0)&&z("Invalid argument for bytesToString");const de=me.length,Se=8192;if(de<Se)return String.fromCharCode.apply(null,me);const Be=[];for(let Ze=0;Ze<de;Ze+=Se){const ut=Math.min(Ze+Se,de),St=me.subarray(Ze,ut);Be.push(String.fromCharCode.apply(null,St))}return Be.join("")}function $(me){typeof me!="string"&&z("Invalid argument for stringToBytes");const de=me.length,Se=new Uint8Array(de);for(let Be=0;Be<de;++Be)Se[Be]=me.charCodeAt(Be)&255;return Se}function R(me){return String.fromCharCode(me>>24&255,me>>16&255,me>>8&255,me&255)}function U(me){return Object.keys(me).length}function X(me){const de=Object.create(null);for(const[Se,Be]of me)de[Se]=Be;return de}function J(){const me=new Uint8Array(4);return me[0]=1,new Uint32Array(me.buffer,0,1)[0]===1}function le(){try{return new Function(""),!0}catch{return!1}}class ae{static get isLittleEndian(){return N(this,"isLittleEndian",J())}static get isEvalSupported(){return N(this,"isEvalSupported",le())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?N(this,"platform",{isWin:!1,isMac:!1}):N(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}s.FeatureTest=ae;const pe=[...Array(256).keys()].map(me=>me.toString(16).padStart(2,"0"));class oe{static makeHexColor(de,Se,Be){return`#${pe[de]}${pe[Se]}${pe[Be]}`}static scaleMinMax(de,Se){let Be;de[0]?(de[0]<0&&(Be=Se[0],Se[0]=Se[1],Se[1]=Be),Se[0]*=de[0],Se[1]*=de[0],de[3]<0&&(Be=Se[2],Se[2]=Se[3],Se[3]=Be),Se[2]*=de[3],Se[3]*=de[3]):(Be=Se[0],Se[0]=Se[2],Se[2]=Be,Be=Se[1],Se[1]=Se[3],Se[3]=Be,de[1]<0&&(Be=Se[2],Se[2]=Se[3],Se[3]=Be),Se[2]*=de[1],Se[3]*=de[1],de[2]<0&&(Be=Se[0],Se[0]=Se[1],Se[1]=Be),Se[0]*=de[2],Se[1]*=de[2]),Se[0]+=de[4],Se[1]+=de[4],Se[2]+=de[5],Se[3]+=de[5]}static transform(de,Se){return[de[0]*Se[0]+de[2]*Se[1],de[1]*Se[0]+de[3]*Se[1],de[0]*Se[2]+de[2]*Se[3],de[1]*Se[2]+de[3]*Se[3],de[0]*Se[4]+de[2]*Se[5]+de[4],de[1]*Se[4]+de[3]*Se[5]+de[5]]}static applyTransform(de,Se){const Be=de[0]*Se[0]+de[1]*Se[2]+Se[4],Ze=de[0]*Se[1]+de[1]*Se[3]+Se[5];return[Be,Ze]}static applyInverseTransform(de,Se){const Be=Se[0]*Se[3]-Se[1]*Se[2],Ze=(de[0]*Se[3]-de[1]*Se[2]+Se[2]*Se[5]-Se[4]*Se[3])/Be,ut=(-de[0]*Se[1]+de[1]*Se[0]+Se[4]*Se[1]-Se[5]*Se[0])/Be;return[Ze,ut]}static getAxialAlignedBoundingBox(de,Se){const Be=oe.applyTransform(de,Se),Ze=oe.applyTransform(de.slice(2,4),Se),ut=oe.applyTransform([de[0],de[3]],Se),St=oe.applyTransform([de[2],de[1]],Se);return[Math.min(Be[0],Ze[0],ut[0],St[0]),Math.min(Be[1],Ze[1],ut[1],St[1]),Math.max(Be[0],Ze[0],ut[0],St[0]),Math.max(Be[1],Ze[1],ut[1],St[1])]}static inverseTransform(de){const Se=de[0]*de[3]-de[1]*de[2];return[de[3]/Se,-de[1]/Se,-de[2]/Se,de[0]/Se,(de[2]*de[5]-de[4]*de[3])/Se,(de[4]*de[1]-de[5]*de[0])/Se]}static singularValueDecompose2dScale(de){const Se=[de[0],de[2],de[1],de[3]],Be=de[0]*Se[0]+de[1]*Se[2],Ze=de[0]*Se[1]+de[1]*Se[3],ut=de[2]*Se[0]+de[3]*Se[2],St=de[2]*Se[1]+de[3]*Se[3],We=(Be+St)/2,it=Math.sqrt((Be+St)**2-4*(Be*St-ut*Ze))/2,ze=We+it||1,Re=We-it||1;return[Math.sqrt(ze),Math.sqrt(Re)]}static normalizeRect(de){const Se=de.slice(0);return de[0]>de[2]&&(Se[0]=de[2],Se[2]=de[0]),de[1]>de[3]&&(Se[1]=de[3],Se[3]=de[1]),Se}static intersect(de,Se){const Be=Math.max(Math.min(de[0],de[2]),Math.min(Se[0],Se[2])),Ze=Math.min(Math.max(de[0],de[2]),Math.max(Se[0],Se[2]));if(Be>Ze)return null;const ut=Math.max(Math.min(de[1],de[3]),Math.min(Se[1],Se[3])),St=Math.min(Math.max(de[1],de[3]),Math.max(Se[1],Se[3]));return ut>St?null:[Be,ut,Ze,St]}static bezierBoundingBox(de,Se,Be,Ze,ut,St,We,it){const ze=[],Re=[[],[]];let qe,ot,$e,pt,Ne,we,Xe,st;for(let _t=0;_t<2;++_t){if(_t===0?(ot=6*de-12*Be+6*ut,qe=-3*de+9*Be-9*ut+3*We,$e=3*Be-3*de):(ot=6*Se-12*Ze+6*St,qe=-3*Se+9*Ze-9*St+3*it,$e=3*Ze-3*Se),Math.abs(qe)<1e-12){if(Math.abs(ot)<1e-12)continue;pt=-$e/ot,0<pt&&pt<1&&ze.push(pt);continue}Xe=ot*ot-4*$e*qe,st=Math.sqrt(Xe),!(Xe<0)&&(Ne=(-ot+st)/(2*qe),0<Ne&&Ne<1&&ze.push(Ne),we=(-ot-st)/(2*qe),0<we&&we<1&&ze.push(we))}let tt=ze.length,lt;const ct=tt;for(;tt--;)pt=ze[tt],lt=1-pt,Re[0][tt]=lt*lt*lt*de+3*lt*lt*pt*Be+3*lt*pt*pt*ut+pt*pt*pt*We,Re[1][tt]=lt*lt*lt*Se+3*lt*lt*pt*Ze+3*lt*pt*pt*St+pt*pt*pt*it;return Re[0][ct]=de,Re[1][ct]=Se,Re[0][ct+1]=We,Re[1][ct+1]=it,Re[0].length=Re[1].length=ct+2,[Math.min(...Re[0]),Math.min(...Re[1]),Math.max(...Re[0]),Math.max(...Re[1])]}}s.Util=oe;const _e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ae(me){if(me[0]>=""){let Se;if(me[0]===""&&me[1]===""?Se="utf-16be":me[0]===""&&me[1]===""?Se="utf-16le":me[0]===""&&me[1]===""&&me[2]===""&&(Se="utf-8"),Se)try{const Be=new TextDecoder(Se,{fatal:!0}),Ze=$(me);return Be.decode(Ze)}catch(Be){V(`stringToPDFString: "${Be}".`)}}const de=[];for(let Se=0,Be=me.length;Se<Be;Se++){const Ze=_e[me.charCodeAt(Se)];de.push(Ze?String.fromCharCode(Ze):me.charAt(Se))}return de.join("")}function ke(me){return decodeURIComponent(escape(me))}function Me(me){return unescape(encodeURIComponent(me))}function Fe(me){return typeof me=="object"&&me!==null&&me.byteLength!==void 0}function Ge(me,de){if(me.length!==de.length)return!1;for(let Se=0,Be=me.length;Se<Be;Se++)if(me[Se]!==de[Se])return!1;return!0}function at(){let me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[me.getUTCFullYear().toString(),(me.getUTCMonth()+1).toString().padStart(2,"0"),me.getUTCDate().toString().padStart(2,"0"),me.getUTCHours().toString().padStart(2,"0"),me.getUTCMinutes().toString().padStart(2,"0"),me.getUTCSeconds().toString().padStart(2,"0")].join("")}function De(){const me=Object.create(null);let de=!1;return Object.defineProperty(me,"settled",{get(){return de}}),me.promise=new Promise(function(Se,Be){me.resolve=function(Ze){de=!0,Se(Ze)},me.reject=function(Ze){de=!0,Be(Ze)}}),me}},(u,s,l)=>{var a=l(3);(function(){globalThis.btoa||!a.isNodeJS||(globalThis.btoa=function(T){return Buffer.from(T,"binary").toString("base64")})})(),function(){globalThis.atob||!a.isNodeJS||(globalThis.atob=function(T){return Buffer.from(T,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!a.isNodeJS||(globalThis.DOMMatrix=require$$5.DOMMatrix)}(),function(){if(globalThis.Path2D||!a.isNodeJS)return;const{CanvasRenderingContext2D:T}=require$$5,{polyfillPath2D:F}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=T,F(globalThis)}(),function(){globalThis.ReadableStream||!a.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||l(4)}(),function(){Uint8Array.prototype.at||l(78)}(),function(){globalThis.structuredClone||l(88)}()},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const l=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=l},(u,s,l)=>{l(5);var a=l(77);u.exports=a("Array","at")},(u,s,l)=>{var a=l(6),h=l(43),T=l(67),F=l(65),B=l(72);a({target:"Array",proto:!0},{at:function(o){var g=h(this),x=T(g),y=F(o),A=y>=0?y:x+y;return A<0||A>=x?void 0:g[A]}}),B("at")},(u,s,l)=>{var a=l(7),h=l(8).f,T=l(47),F=l(51),B=l(41),O=l(59),o=l(71);u.exports=function(g,x){var y=g.target,A=g.global,m=g.stat,p,d,f,C,_,b;if(A?d=a:m?d=a[y]||B(y,{}):d=(a[y]||{}).prototype,d)for(f in x){if(_=x[f],g.dontCallGetSet?(b=h(d,f),C=b&&b.value):C=d[f],p=o(A?f:y+(m?".":"#")+f,g.forced),!p&&C!==void 0){if(typeof _==typeof C)continue;O(_,C)}(g.sham||C&&C.sham)&&T(_,"sham",!0),F(d,f,_,g)}}},u=>{var s=function(l){return l&&l.Math==Math&&l};u.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")()},(u,s,l)=>{var a=l(9),h=l(11),T=l(13),F=l(14),B=l(15),O=l(21),o=l(42),g=l(45),x=Object.getOwnPropertyDescriptor;s.f=a?x:function(A,m){if(A=B(A),m=O(m),g)try{return x(A,m)}catch{}if(o(A,m))return F(!h(T.f,A,m),A[m])}},(u,s,l)=>{var a=l(10);u.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},u=>{u.exports=function(s){try{return!!s()}catch{return!0}}},(u,s,l)=>{var a=l(12),h=Function.prototype.call;u.exports=a?h.bind(h):function(){return h.apply(h,arguments)}},(u,s,l)=>{var a=l(10);u.exports=!a(function(){var h=(function(){}).bind();return typeof h!="function"||h.hasOwnProperty("prototype")})},(u,s)=>{var l={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,h=a&&!l.call({1:2},1);s.f=h?function(F){var B=a(this,F);return!!B&&B.enumerable}:l},u=>{u.exports=function(s,l){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:l}}},(u,s,l)=>{var a=l(16),h=l(19);u.exports=function(T){return a(h(T))}},(u,s,l)=>{var a=l(17),h=l(10),T=l(18),F=Object,B=a("".split);u.exports=h(function(){return!F("z").propertyIsEnumerable(0)})?function(O){return T(O)=="String"?B(O,""):F(O)}:F},(u,s,l)=>{var a=l(12),h=Function.prototype,T=h.call,F=a&&h.bind.bind(T,T);u.exports=a?F:function(B){return function(){return T.apply(B,arguments)}}},(u,s,l)=>{var a=l(17),h=a({}.toString),T=a("".slice);u.exports=function(F){return T(h(F),8,-1)}},(u,s,l)=>{var a=l(20),h=TypeError;u.exports=function(T){if(a(T))throw h("Can't call method on "+T);return T}},u=>{u.exports=function(s){return s==null}},(u,s,l)=>{var a=l(22),h=l(26);u.exports=function(T){var F=a(T,"string");return h(F)?F:F+""}},(u,s,l)=>{var a=l(11),h=l(23),T=l(26),F=l(33),B=l(36),O=l(37),o=TypeError,g=O("toPrimitive");u.exports=function(x,y){if(!h(x)||T(x))return x;var A=F(x,g),m;if(A){if(y===void 0&&(y="default"),m=a(A,x,y),!h(m)||T(m))return m;throw o("Can't convert object to primitive value")}return y===void 0&&(y="number"),B(x,y)}},(u,s,l)=>{var a=l(24),h=l(25),T=h.all;u.exports=h.IS_HTMLDDA?function(F){return typeof F=="object"?F!==null:a(F)||F===T}:function(F){return typeof F=="object"?F!==null:a(F)}},(u,s,l)=>{var a=l(25),h=a.all;u.exports=a.IS_HTMLDDA?function(T){return typeof T=="function"||T===h}:function(T){return typeof T=="function"}},u=>{var s=typeof document=="object"&&document.all,l=typeof s>"u"&&s!==void 0;u.exports={all:s,IS_HTMLDDA:l}},(u,s,l)=>{var a=l(27),h=l(24),T=l(28),F=l(29),B=Object;u.exports=F?function(O){return typeof O=="symbol"}:function(O){var o=a("Symbol");return h(o)&&T(o.prototype,B(O))}},(u,s,l)=>{var a=l(7),h=l(24),T=function(F){return h(F)?F:void 0};u.exports=function(F,B){return arguments.length<2?T(a[F]):a[F]&&a[F][B]}},(u,s,l)=>{var a=l(17);u.exports=a({}.isPrototypeOf)},(u,s,l)=>{var a=l(30);u.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(u,s,l)=>{var a=l(31),h=l(10);u.exports=!!Object.getOwnPropertySymbols&&!h(function(){var T=Symbol();return!String(T)||!(Object(T)instanceof Symbol)||!Symbol.sham&&a&&a<41})},(u,s,l)=>{var a=l(7),h=l(32),T=a.process,F=a.Deno,B=T&&T.versions||F&&F.version,O=B&&B.v8,o,g;O&&(o=O.split("."),g=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!g&&h&&(o=h.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=h.match(/Chrome\/(\d+)/),o&&(g=+o[1]))),u.exports=g},u=>{u.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(u,s,l)=>{var a=l(34),h=l(20);u.exports=function(T,F){var B=T[F];return h(B)?void 0:a(B)}},(u,s,l)=>{var a=l(24),h=l(35),T=TypeError;u.exports=function(F){if(a(F))return F;throw T(h(F)+" is not a function")}},u=>{var s=String;u.exports=function(l){try{return s(l)}catch{return"Object"}}},(u,s,l)=>{var a=l(11),h=l(24),T=l(23),F=TypeError;u.exports=function(B,O){var o,g;if(O==="string"&&h(o=B.toString)&&!T(g=a(o,B))||h(o=B.valueOf)&&!T(g=a(o,B))||O!=="string"&&h(o=B.toString)&&!T(g=a(o,B)))return g;throw F("Can't convert object to primitive value")}},(u,s,l)=>{var a=l(7),h=l(38),T=l(42),F=l(44),B=l(30),O=l(29),o=a.Symbol,g=h("wks"),x=O?o.for||o:o&&o.withoutSetter||F;u.exports=function(y){return T(g,y)||(g[y]=B&&T(o,y)?o[y]:x("Symbol."+y)),g[y]}},(u,s,l)=>{var a=l(39),h=l(40);(u.exports=function(T,F){return h[T]||(h[T]=F!==void 0?F:{})})("versions",[]).push({version:"3.27.2",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},u=>{u.exports=!1},(u,s,l)=>{var a=l(7),h=l(41),T="__core-js_shared__",F=a[T]||h(T,{});u.exports=F},(u,s,l)=>{var a=l(7),h=Object.defineProperty;u.exports=function(T,F){try{h(a,T,{value:F,configurable:!0,writable:!0})}catch{a[T]=F}return F}},(u,s,l)=>{var a=l(17),h=l(43),T=a({}.hasOwnProperty);u.exports=Object.hasOwn||function(B,O){return T(h(B),O)}},(u,s,l)=>{var a=l(19),h=Object;u.exports=function(T){return h(a(T))}},(u,s,l)=>{var a=l(17),h=0,T=Math.random(),F=a(1 .toString);u.exports=function(B){return"Symbol("+(B===void 0?"":B)+")_"+F(++h+T,36)}},(u,s,l)=>{var a=l(9),h=l(10),T=l(46);u.exports=!a&&!h(function(){return Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a!=7})},(u,s,l)=>{var a=l(7),h=l(23),T=a.document,F=h(T)&&h(T.createElement);u.exports=function(B){return F?T.createElement(B):{}}},(u,s,l)=>{var a=l(9),h=l(48),T=l(14);u.exports=a?function(F,B,O){return h.f(F,B,T(1,O))}:function(F,B,O){return F[B]=O,F}},(u,s,l)=>{var a=l(9),h=l(45),T=l(49),F=l(50),B=l(21),O=TypeError,o=Object.defineProperty,g=Object.getOwnPropertyDescriptor,x="enumerable",y="configurable",A="writable";s.f=a?T?function(p,d,f){if(F(p),d=B(d),F(f),typeof p=="function"&&d==="prototype"&&"value"in f&&A in f&&!f[A]){var C=g(p,d);C&&C[A]&&(p[d]=f.value,f={configurable:y in f?f[y]:C[y],enumerable:x in f?f[x]:C[x],writable:!1})}return o(p,d,f)}:o:function(p,d,f){if(F(p),d=B(d),F(f),h)try{return o(p,d,f)}catch{}if("get"in f||"set"in f)throw O("Accessors not supported");return"value"in f&&(p[d]=f.value),p}},(u,s,l)=>{var a=l(9),h=l(10);u.exports=a&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(u,s,l)=>{var a=l(23),h=String,T=TypeError;u.exports=function(F){if(a(F))return F;throw T(h(F)+" is not an object")}},(u,s,l)=>{var a=l(24),h=l(48),T=l(52),F=l(41);u.exports=function(B,O,o,g){g||(g={});var x=g.enumerable,y=g.name!==void 0?g.name:O;if(a(o)&&T(o,y,g),g.global)x?B[O]=o:F(O,o);else{try{g.unsafe?B[O]&&(x=!0):delete B[O]}catch{}x?B[O]=o:h.f(B,O,{value:o,enumerable:!1,configurable:!g.nonConfigurable,writable:!g.nonWritable})}return B}},(u,s,l)=>{var a=l(17),h=l(10),T=l(24),F=l(42),B=l(9),O=l(53).CONFIGURABLE,o=l(54),g=l(55),x=g.enforce,y=g.get,A=String,m=Object.defineProperty,p=a("".slice),d=a("".replace),f=a([].join),C=B&&!h(function(){return m(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),b=u.exports=function(i,v,w){p(A(v),0,7)==="Symbol("&&(v="["+d(A(v),/^Symbol\(([^)]*)\)/,"$1")+"]"),w&&w.getter&&(v="get "+v),w&&w.setter&&(v="set "+v),(!F(i,"name")||O&&i.name!==v)&&(B?m(i,"name",{value:v,configurable:!0}):i.name=v),C&&w&&F(w,"arity")&&i.length!==w.arity&&m(i,"length",{value:w.arity});try{w&&F(w,"constructor")&&w.constructor?B&&m(i,"prototype",{writable:!1}):i.prototype&&(i.prototype=void 0)}catch{}var E=x(i);return F(E,"source")||(E.source=f(_,typeof v=="string"?v:"")),i};Function.prototype.toString=b(function(){return T(this)&&y(this).source||o(this)},"toString")},(u,s,l)=>{var a=l(9),h=l(42),T=Function.prototype,F=a&&Object.getOwnPropertyDescriptor,B=h(T,"name"),O=B&&(function(){}).name==="something",o=B&&(!a||a&&F(T,"name").configurable);u.exports={EXISTS:B,PROPER:O,CONFIGURABLE:o}},(u,s,l)=>{var a=l(17),h=l(24),T=l(40),F=a(Function.toString);h(T.inspectSource)||(T.inspectSource=function(B){return F(B)}),u.exports=T.inspectSource},(u,s,l)=>{var a=l(56),h=l(7),T=l(23),F=l(47),B=l(42),O=l(40),o=l(57),g=l(58),x="Object already initialized",y=h.TypeError,A=h.WeakMap,m,p,d,f=function(i){return d(i)?p(i):m(i,{})},C=function(i){return function(v){var w;if(!T(v)||(w=p(v)).type!==i)throw y("Incompatible receiver, "+i+" required");return w}};if(a||O.state){var _=O.state||(O.state=new A);_.get=_.get,_.has=_.has,_.set=_.set,m=function(i,v){if(_.has(i))throw y(x);return v.facade=i,_.set(i,v),v},p=function(i){return _.get(i)||{}},d=function(i){return _.has(i)}}else{var b=o("state");g[b]=!0,m=function(i,v){if(B(i,b))throw y(x);return v.facade=i,F(i,b,v),v},p=function(i){return B(i,b)?i[b]:{}},d=function(i){return B(i,b)}}u.exports={set:m,get:p,has:d,enforce:f,getterFor:C}},(u,s,l)=>{var a=l(7),h=l(24),T=a.WeakMap;u.exports=h(T)&&/native code/.test(String(T))},(u,s,l)=>{var a=l(38),h=l(44),T=a("keys");u.exports=function(F){return T[F]||(T[F]=h(F))}},u=>{u.exports={}},(u,s,l)=>{var a=l(42),h=l(60),T=l(8),F=l(48);u.exports=function(B,O,o){for(var g=h(O),x=F.f,y=T.f,A=0;A<g.length;A++){var m=g[A];!a(B,m)&&!(o&&a(o,m))&&x(B,m,y(O,m))}}},(u,s,l)=>{var a=l(27),h=l(17),T=l(61),F=l(70),B=l(50),O=h([].concat);u.exports=a("Reflect","ownKeys")||function(g){var x=T.f(B(g)),y=F.f;return y?O(x,y(g)):x}},(u,s,l)=>{var a=l(62),h=l(69),T=h.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(B){return a(B,T)}},(u,s,l)=>{var a=l(17),h=l(42),T=l(15),F=l(63).indexOf,B=l(58),O=a([].push);u.exports=function(o,g){var x=T(o),y=0,A=[],m;for(m in x)!h(B,m)&&h(x,m)&&O(A,m);for(;g.length>y;)h(x,m=g[y++])&&(~F(A,m)||O(A,m));return A}},(u,s,l)=>{var a=l(15),h=l(64),T=l(67),F=function(B){return function(O,o,g){var x=a(O),y=T(x),A=h(g,y),m;if(B&&o!=o){for(;y>A;)if(m=x[A++],m!=m)return!0}else for(;y>A;A++)if((B||A in x)&&x[A]===o)return B||A||0;return!B&&-1}};u.exports={includes:F(!0),indexOf:F(!1)}},(u,s,l)=>{var a=l(65),h=Math.max,T=Math.min;u.exports=function(F,B){var O=a(F);return O<0?h(O+B,0):T(O,B)}},(u,s,l)=>{var a=l(66);u.exports=function(h){var T=+h;return T!==T||T===0?0:a(T)}},u=>{var s=Math.ceil,l=Math.floor;u.exports=Math.trunc||function(h){var T=+h;return(T>0?l:s)(T)}},(u,s,l)=>{var a=l(68);u.exports=function(h){return a(h.length)}},(u,s,l)=>{var a=l(65),h=Math.min;u.exports=function(T){return T>0?h(a(T),9007199254740991):0}},u=>{u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(u,s)=>{s.f=Object.getOwnPropertySymbols},(u,s,l)=>{var a=l(10),h=l(24),T=/#|\.prototype\./,F=function(x,y){var A=O[B(x)];return A==g?!0:A==o?!1:h(y)?a(y):!!y},B=F.normalize=function(x){return String(x).replace(T,".").toLowerCase()},O=F.data={},o=F.NATIVE="N",g=F.POLYFILL="P";u.exports=F},(u,s,l)=>{var a=l(37),h=l(73),T=l(48).f,F=a("unscopables"),B=Array.prototype;B[F]==null&&T(B,F,{configurable:!0,value:h(null)}),u.exports=function(O){B[F][O]=!0}},(u,s,l)=>{var a=l(50),h=l(74),T=l(69),F=l(58),B=l(76),O=l(46),o=l(57),g=">",x="<",y="prototype",A="script",m=o("IE_PROTO"),p=function(){},d=function(i){return x+A+g+i+x+"/"+A+g},f=function(i){i.write(d("")),i.close();var v=i.parentWindow.Object;return i=null,v},C=function(){var i=O("iframe"),v="java"+A+":",w;return i.style.display="none",B.appendChild(i),i.src=String(v),w=i.contentWindow.document,w.open(),w.write(d("document.F=Object")),w.close(),w.F},_,b=function(){try{_=new ActiveXObject("htmlfile")}catch{}b=typeof document<"u"?document.domain&&_?f(_):C():f(_);for(var i=T.length;i--;)delete b[y][T[i]];return b()};F[m]=!0,u.exports=Object.create||function(v,w){var E;return v!==null?(p[y]=a(v),E=new p,p[y]=null,E[m]=v):E=b(),w===void 0?E:h.f(E,w)}},(u,s,l)=>{var a=l(9),h=l(49),T=l(48),F=l(50),B=l(15),O=l(75);s.f=a&&!h?Object.defineProperties:function(g,x){F(g);for(var y=B(x),A=O(x),m=A.length,p=0,d;m>p;)T.f(g,d=A[p++],y[d]);return g}},(u,s,l)=>{var a=l(62),h=l(69);u.exports=Object.keys||function(F){return a(F,h)}},(u,s,l)=>{var a=l(27);u.exports=a("document","documentElement")},(u,s,l)=>{var a=l(7),h=l(17);u.exports=function(T,F){return h(a[T].prototype[F])}},(u,s,l)=>{l(79)},(u,s,l)=>{var a=l(80),h=l(67),T=l(65),F=a.aTypedArray,B=a.exportTypedArrayMethod;B("at",function(o){var g=F(this),x=h(g),y=T(o),A=y>=0?y:x+y;return A<0||A>=x?void 0:g[A]})},(u,s,l)=>{var a=l(81),h=l(9),T=l(7),F=l(24),B=l(23),O=l(42),o=l(82),g=l(35),x=l(47),y=l(51),A=l(48).f,m=l(28),p=l(84),d=l(86),f=l(37),C=l(44),_=l(55),b=_.enforce,i=_.get,v=T.Int8Array,w=v&&v.prototype,E=T.Uint8ClampedArray,I=E&&E.prototype,G=v&&p(v),K=w&&p(w),he=Object.prototype,Ce=T.TypeError,be=f("toStringTag"),ve=C("TYPED_ARRAY_TAG"),Z="TypedArrayConstructor",Q=a&&!!d&&o(T.opera)!=="Opera",ee=!1,fe,V,z,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},k=function(H){if(!B(H))return!1;var W=o(H);return W==="DataView"||O(L,W)||O(P,W)},N=function(ce){var H=p(ce);if(B(H)){var W=i(H);return W&&O(W,Z)?W[Z]:N(H)}},j=function(ce){if(!B(ce))return!1;var H=o(ce);return O(L,H)||O(P,H)},q=function(ce){if(j(ce))return ce;throw Ce("Target is not a typed array")},te=function(ce){if(F(ce)&&(!d||m(G,ce)))return ce;throw Ce(g(ce)+" is not a typed array constructor")},se=function(ce,H,W,ne){if(h){if(W)for(var $ in L){var R=T[$];if(R&&O(R.prototype,ce))try{delete R.prototype[ce]}catch{try{R.prototype[ce]=H}catch{}}}(!K[ce]||W)&&y(K,ce,W?H:Q&&w[ce]||H,ne)}},re=function(ce,H,W){var ne,$;if(h){if(d){if(W){for(ne in L)if($=T[ne],$&&O($,ce))try{delete $[ce]}catch{}}if(!G[ce]||W)try{return y(G,ce,W?H:Q&&G[ce]||H)}catch{}else return}for(ne in L)$=T[ne],$&&(!$[ce]||W)&&y($,ce,H)}};for(fe in L)V=T[fe],z=V&&V.prototype,z?b(z)[Z]=V:Q=!1;for(fe in P)V=T[fe],z=V&&V.prototype,z&&(b(z)[Z]=V);if((!Q||!F(G)||G===Function.prototype)&&(G=function(){throw Ce("Incorrect invocation")},Q))for(fe in L)T[fe]&&d(T[fe],G);if((!Q||!K||K===he)&&(K=G.prototype,Q))for(fe in L)T[fe]&&d(T[fe].prototype,K);if(Q&&p(I)!==K&&d(I,K),h&&!O(K,be)){ee=!0,A(K,be,{get:function(){return B(this)?this[ve]:void 0}});for(fe in L)T[fe]&&x(T[fe],ve,fe)}u.exports={NATIVE_ARRAY_BUFFER_VIEWS:Q,TYPED_ARRAY_TAG:ee&&ve,aTypedArray:q,aTypedArrayConstructor:te,exportTypedArrayMethod:se,exportTypedArrayStaticMethod:re,getTypedArrayConstructor:N,isView:k,isTypedArray:j,TypedArray:G,TypedArrayPrototype:K}},u=>{u.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(u,s,l)=>{var a=l(83),h=l(24),T=l(18),F=l(37),B=F("toStringTag"),O=Object,o=T(function(){return arguments}())=="Arguments",g=function(x,y){try{return x[y]}catch{}};u.exports=a?T:function(x){var y,A,m;return x===void 0?"Undefined":x===null?"Null":typeof(A=g(y=O(x),B))=="string"?A:o?T(y):(m=T(y))=="Object"&&h(y.callee)?"Arguments":m}},(u,s,l)=>{var a=l(37),h=a("toStringTag"),T={};T[h]="z",u.exports=String(T)==="[object z]"},(u,s,l)=>{var a=l(42),h=l(24),T=l(43),F=l(57),B=l(85),O=F("IE_PROTO"),o=Object,g=o.prototype;u.exports=B?o.getPrototypeOf:function(x){var y=T(x);if(a(y,O))return y[O];var A=y.constructor;return h(A)&&y instanceof A?A.prototype:y instanceof o?g:null}},(u,s,l)=>{var a=l(10);u.exports=!a(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},(u,s,l)=>{var a=l(17),h=l(50),T=l(87);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var F=!1,B={},O;try{O=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),O(B,[]),F=B instanceof Array}catch{}return function(g,x){return h(g),T(x),F?O(g,x):g.__proto__=x,g}}():void 0)},(u,s,l)=>{var a=l(24),h=String,T=TypeError;u.exports=function(F){if(typeof F=="object"||a(F))return F;throw T("Can't set "+h(F)+" as a prototype")}},(u,s,l)=>{l(89),l(96),l(98),l(121),l(123);var a=l(134);u.exports=a.structuredClone},(u,s,l)=>{var a=l(15),h=l(72),T=l(90),F=l(55),B=l(48).f,O=l(91),o=l(95),g=l(39),x=l(9),y="Array Iterator",A=F.set,m=F.getterFor(y);u.exports=O(Array,"Array",function(d,f){A(this,{type:y,target:a(d),index:0,kind:f})},function(){var d=m(this),f=d.target,C=d.kind,_=d.index++;return!f||_>=f.length?(d.target=void 0,o(void 0,!0)):C=="keys"?o(_,!1):C=="values"?o(f[_],!1):o([_,f[_]],!1)},"values");var p=T.Arguments=T.Array;if(h("keys"),h("values"),h("entries"),!g&&x&&p.name!=="values")try{B(p,"name",{value:"values"})}catch{}},u=>{u.exports={}},(u,s,l)=>{var a=l(6),h=l(11),T=l(39),F=l(53),B=l(24),O=l(92),o=l(84),g=l(86),x=l(94),y=l(47),A=l(51),m=l(37),p=l(90),d=l(93),f=F.PROPER,C=F.CONFIGURABLE,_=d.IteratorPrototype,b=d.BUGGY_SAFARI_ITERATORS,i=m("iterator"),v="keys",w="values",E="entries",I=function(){return this};u.exports=function(G,K,he,Ce,be,ve,Z){O(he,K,Ce);var Q=function(q){if(q===be&&L)return L;if(!b&&q in V)return V[q];switch(q){case v:return function(){return new he(this,q)};case w:return function(){return new he(this,q)};case E:return function(){return new he(this,q)}}return function(){return new he(this)}},ee=K+" Iterator",fe=!1,V=G.prototype,z=V[i]||V["@@iterator"]||be&&V[be],L=!b&&z||Q(be),P=K=="Array"&&V.entries||z,k,N,j;if(P&&(k=o(P.call(new G)),k!==Object.prototype&&k.next&&(!T&&o(k)!==_&&(g?g(k,_):B(k[i])||A(k,i,I)),x(k,ee,!0,!0),T&&(p[ee]=I))),f&&be==w&&z&&z.name!==w&&(!T&&C?y(V,"name",w):(fe=!0,L=function(){return h(z,this)})),be)if(N={values:Q(w),keys:ve?L:Q(v),entries:Q(E)},Z)for(j in N)(b||fe||!(j in V))&&A(V,j,N[j]);else a({target:K,proto:!0,forced:b||fe},N);return(!T||Z)&&V[i]!==L&&A(V,i,L,{name:be}),p[K]=L,N}},(u,s,l)=>{var a=l(93).IteratorPrototype,h=l(73),T=l(14),F=l(94),B=l(90),O=function(){return this};u.exports=function(o,g,x,y){var A=g+" Iterator";return o.prototype=h(a,{next:T(+!y,x)}),F(o,A,!1,!0),B[A]=O,o}},(u,s,l)=>{var a=l(10),h=l(24),T=l(23),F=l(73),B=l(84),O=l(51),o=l(37),g=l(39),x=o("iterator"),y=!1,A,m,p;[].keys&&(p=[].keys(),"next"in p?(m=B(B(p)),m!==Object.prototype&&(A=m)):y=!0);var d=!T(A)||a(function(){var f={};return A[x].call(f)!==f});d?A={}:g&&(A=F(A)),h(A[x])||O(A,x,function(){return this}),u.exports={IteratorPrototype:A,BUGGY_SAFARI_ITERATORS:y}},(u,s,l)=>{var a=l(48).f,h=l(42),T=l(37),F=T("toStringTag");u.exports=function(B,O,o){B&&!o&&(B=B.prototype),B&&!h(B,F)&&a(B,F,{configurable:!0,value:O})}},u=>{u.exports=function(s,l){return{value:s,done:l}}},(u,s,l)=>{var a=l(83),h=l(51),T=l(97);a||h(Object.prototype,"toString",T,{unsafe:!0})},(u,s,l)=>{var a=l(83),h=l(82);u.exports=a?{}.toString:function(){return"[object "+h(this)+"]"}},(u,s,l)=>{l(99)},(u,s,l)=>{var a=l(100),h=l(118);a("Map",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},h)},(u,s,l)=>{var a=l(6),h=l(7),T=l(17),F=l(71),B=l(51),O=l(101),o=l(108),g=l(115),x=l(24),y=l(20),A=l(23),m=l(10),p=l(116),d=l(94),f=l(117);u.exports=function(C,_,b){var i=C.indexOf("Map")!==-1,v=C.indexOf("Weak")!==-1,w=i?"set":"add",E=h[C],I=E&&E.prototype,G=E,K={},he=function(fe){var V=T(I[fe]);B(I,fe,fe=="add"?function(L){return V(this,L===0?0:L),this}:fe=="delete"?function(z){return v&&!A(z)?!1:V(this,z===0?0:z)}:fe=="get"?function(L){return v&&!A(L)?void 0:V(this,L===0?0:L)}:fe=="has"?function(L){return v&&!A(L)?!1:V(this,L===0?0:L)}:function(L,P){return V(this,L===0?0:L,P),this})},Ce=F(C,!x(E)||!(v||I.forEach&&!m(function(){new E().entries().next()})));if(Ce)G=b.getConstructor(_,C,i,w),O.enable();else if(F(C,!0)){var be=new G,ve=be[w](v?{}:-0,1)!=be,Z=m(function(){be.has(1)}),Q=p(function(fe){new E(fe)}),ee=!v&&m(function(){for(var fe=new E,V=5;V--;)fe[w](V,V);return!fe.has(-0)});Q||(G=_(function(fe,V){g(fe,I);var z=f(new E,fe,G);return y(V)||o(V,z[w],{that:z,AS_ENTRIES:i}),z}),G.prototype=I,I.constructor=G),(Z||ee)&&(he("delete"),he("has"),i&&he("get")),(ee||ve)&&he(w),v&&I.clear&&delete I.clear}return K[C]=G,a({global:!0,constructor:!0,forced:G!=E},K),d(G,C),v||b.setStrong(G,C,i),G}},(u,s,l)=>{var a=l(6),h=l(17),T=l(58),F=l(23),B=l(42),O=l(48).f,o=l(61),g=l(102),x=l(105),y=l(44),A=l(107),m=!1,p=y("meta"),d=0,f=function(w){O(w,p,{value:{objectID:"O"+d++,weakData:{}}})},C=function(w,E){if(!F(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!B(w,p)){if(!x(w))return"F";if(!E)return"E";f(w)}return w[p].objectID},_=function(w,E){if(!B(w,p)){if(!x(w))return!0;if(!E)return!1;f(w)}return w[p].weakData},b=function(w){return A&&m&&x(w)&&!B(w,p)&&f(w),w},i=function(){v.enable=function(){},m=!0;var w=o.f,E=h([].splice),I={};I[p]=1,w(I).length&&(o.f=function(G){for(var K=w(G),he=0,Ce=K.length;he<Ce;he++)if(K[he]===p){E(K,he,1);break}return K},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:g.f}))},v=u.exports={enable:i,fastKey:C,getWeakData:_,onFreeze:b};T[p]=!0},(u,s,l)=>{var a=l(18),h=l(15),T=l(61).f,F=l(103),B=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],O=function(o){try{return T(o)}catch{return F(B)}};u.exports.f=function(g){return B&&a(g)=="Window"?O(g):T(h(g))}},(u,s,l)=>{var a=l(64),h=l(67),T=l(104),F=Array,B=Math.max;u.exports=function(O,o,g){for(var x=h(O),y=a(o,x),A=a(g===void 0?x:g,x),m=F(B(A-y,0)),p=0;y<A;y++,p++)T(m,p,O[y]);return m.length=p,m}},(u,s,l)=>{var a=l(21),h=l(48),T=l(14);u.exports=function(F,B,O){var o=a(B);o in F?h.f(F,o,T(0,O)):F[o]=O}},(u,s,l)=>{var a=l(10),h=l(23),T=l(18),F=l(106),B=Object.isExtensible,O=a(function(){});u.exports=O||F?function(g){return!h(g)||F&&T(g)=="ArrayBuffer"?!1:B?B(g):!0}:B},(u,s,l)=>{var a=l(10);u.exports=a(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},(u,s,l)=>{var a=l(10);u.exports=!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},(u,s,l)=>{var a=l(109),h=l(11),T=l(50),F=l(35),B=l(111),O=l(67),o=l(28),g=l(112),x=l(113),y=l(114),A=TypeError,m=function(d,f){this.stopped=d,this.result=f},p=m.prototype;u.exports=function(d,f,C){var _=C&&C.that,b=!!(C&&C.AS_ENTRIES),i=!!(C&&C.IS_RECORD),v=!!(C&&C.IS_ITERATOR),w=!!(C&&C.INTERRUPTED),E=a(f,_),I,G,K,he,Ce,be,ve,Z=function(ee){return I&&y(I,"normal",ee),new m(!0,ee)},Q=function(ee){return b?(T(ee),w?E(ee[0],ee[1],Z):E(ee[0],ee[1])):w?E(ee,Z):E(ee)};if(i)I=d.iterator;else if(v)I=d;else{if(G=x(d),!G)throw A(F(d)+" is not iterable");if(B(G)){for(K=0,he=O(d);he>K;K++)if(Ce=Q(d[K]),Ce&&o(p,Ce))return Ce;return new m(!1)}I=g(d,G)}for(be=i?d.next:I.next;!(ve=h(be,I)).done;){try{Ce=Q(ve.value)}catch(ee){y(I,"throw",ee)}if(typeof Ce=="object"&&Ce&&o(p,Ce))return Ce}return new m(!1)}},(u,s,l)=>{var a=l(110),h=l(34),T=l(12),F=a(a.bind);u.exports=function(B,O){return h(B),O===void 0?B:T?F(B,O):function(){return B.apply(O,arguments)}}},(u,s,l)=>{var a=l(18),h=l(17);u.exports=function(T){if(a(T)==="Function")return h(T)}},(u,s,l)=>{var a=l(37),h=l(90),T=a("iterator"),F=Array.prototype;u.exports=function(B){return B!==void 0&&(h.Array===B||F[T]===B)}},(u,s,l)=>{var a=l(11),h=l(34),T=l(50),F=l(35),B=l(113),O=TypeError;u.exports=function(o,g){var x=arguments.length<2?B(o):g;if(h(x))return T(a(x,o));throw O(F(o)+" is not iterable")}},(u,s,l)=>{var a=l(82),h=l(33),T=l(20),F=l(90),B=l(37),O=B("iterator");u.exports=function(o){if(!T(o))return h(o,O)||h(o,"@@iterator")||F[a(o)]}},(u,s,l)=>{var a=l(11),h=l(50),T=l(33);u.exports=function(F,B,O){var o,g;h(F);try{if(o=T(F,"return"),!o){if(B==="throw")throw O;return O}o=a(o,F)}catch(x){g=!0,o=x}if(B==="throw")throw O;if(g)throw o;return h(o),O}},(u,s,l)=>{var a=l(28),h=TypeError;u.exports=function(T,F){if(a(F,T))return T;throw h("Incorrect invocation")}},(u,s,l)=>{var a=l(37),h=a("iterator"),T=!1;try{var F=0,B={next:function(){return{done:!!F++}},return:function(){T=!0}};B[h]=function(){return this},Array.from(B,function(){throw 2})}catch{}u.exports=function(O,o){if(!o&&!T)return!1;var g=!1;try{var x={};x[h]=function(){return{next:function(){return{done:g=!0}}}},O(x)}catch{}return g}},(u,s,l)=>{var a=l(24),h=l(23),T=l(86);u.exports=function(F,B,O){var o,g;return T&&a(o=B.constructor)&&o!==O&&h(g=o.prototype)&&g!==O.prototype&&T(F,g),F}},(u,s,l)=>{var a=l(48).f,h=l(73),T=l(119),F=l(109),B=l(115),O=l(20),o=l(108),g=l(91),x=l(95),y=l(120),A=l(9),m=l(101).fastKey,p=l(55),d=p.set,f=p.getterFor;u.exports={getConstructor:function(C,_,b,i){var v=C(function(K,he){B(K,w),d(K,{type:_,index:h(null),first:void 0,last:void 0,size:0}),A||(K.size=0),O(he)||o(he,K[i],{that:K,AS_ENTRIES:b})}),w=v.prototype,E=f(_),I=function(K,he,Ce){var be=E(K),ve=G(K,he),Z,Q;return ve?ve.value=Ce:(be.last=ve={index:Q=m(he,!0),key:he,value:Ce,previous:Z=be.last,next:void 0,removed:!1},be.first||(be.first=ve),Z&&(Z.next=ve),A?be.size++:K.size++,Q!=="F"&&(be.index[Q]=ve)),K},G=function(K,he){var Ce=E(K),be=m(he),ve;if(be!=="F")return Ce.index[be];for(ve=Ce.first;ve;ve=ve.next)if(ve.key==he)return ve};return T(w,{clear:function(){for(var he=this,Ce=E(he),be=Ce.index,ve=Ce.first;ve;)ve.removed=!0,ve.previous&&(ve.previous=ve.previous.next=void 0),delete be[ve.index],ve=ve.next;Ce.first=Ce.last=void 0,A?Ce.size=0:he.size=0},delete:function(K){var he=this,Ce=E(he),be=G(he,K);if(be){var ve=be.next,Z=be.previous;delete Ce.index[be.index],be.removed=!0,Z&&(Z.next=ve),ve&&(ve.previous=Z),Ce.first==be&&(Ce.first=ve),Ce.last==be&&(Ce.last=Z),A?Ce.size--:he.size--}return!!be},forEach:function(he){for(var Ce=E(this),be=F(he,arguments.length>1?arguments[1]:void 0),ve;ve=ve?ve.next:Ce.first;)for(be(ve.value,ve.key,this);ve&&ve.removed;)ve=ve.previous},has:function(he){return!!G(this,he)}}),T(w,b?{get:function(he){var Ce=G(this,he);return Ce&&Ce.value},set:function(he,Ce){return I(this,he===0?0:he,Ce)}}:{add:function(he){return I(this,he=he===0?0:he,he)}}),A&&a(w,"size",{get:function(){return E(this).size}}),v},setStrong:function(C,_,b){var i=_+" Iterator",v=f(_),w=f(i);g(C,_,function(E,I){d(this,{type:i,target:E,state:v(E),kind:I,last:void 0})},function(){for(var E=w(this),I=E.kind,G=E.last;G&&G.removed;)G=G.previous;return!E.target||!(E.last=G=G?G.next:E.state.first)?(E.target=void 0,x(void 0,!0)):I=="keys"?x(G.key,!1):I=="values"?x(G.value,!1):x([G.key,G.value],!1)},b?"entries":"values",!b,!0),y(_)}}},(u,s,l)=>{var a=l(51);u.exports=function(h,T,F){for(var B in T)a(h,B,T[B],F);return h}},(u,s,l)=>{var a=l(27),h=l(48),T=l(37),F=l(9),B=T("species");u.exports=function(O){var o=a(O),g=h.f;F&&o&&!o[B]&&g(o,B,{configurable:!0,get:function(){return this}})}},(u,s,l)=>{l(122)},(u,s,l)=>{var a=l(100),h=l(118);a("Set",function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},h)},(u,s,l)=>{var a=l(39),h=l(6),T=l(7),F=l(27),B=l(17),O=l(10),o=l(44),g=l(24),x=l(124),y=l(20),A=l(23),m=l(26),p=l(108),d=l(50),f=l(82),C=l(42),_=l(104),b=l(47),i=l(67),v=l(125),w=l(126),E=l(128),I=l(129),G=l(130),K=l(31),he=l(131),Ce=l(132),be=l(133),ve=T.Object,Z=T.Array,Q=T.Date,ee=T.Error,fe=T.EvalError,V=T.RangeError,z=T.ReferenceError,L=T.SyntaxError,P=T.TypeError,k=T.URIError,N=T.PerformanceMark,j=T.WebAssembly,q=j&&j.CompileError||ee,te=j&&j.LinkError||ee,se=j&&j.RuntimeError||ee,re=F("DOMException"),ce=E.Map,H=E.has,W=E.get,ne=E.set,$=I.Set,R=I.add,U=F("Object","keys"),X=B([].push),J=B((!0).valueOf),le=B(1 .valueOf),ae=B("".valueOf),pe=B(Q.prototype.getTime),oe=o("structuredClone"),_e="DataCloneError",Ae="Transferring",ke=function(We){return!O(function(){var it=new T.Set([7]),ze=We(it),Re=We(ve(7));return ze==it||!ze.has(7)||typeof Re!="object"||Re!=7})&&We},Me=function(We,it){return!O(function(){var ze=new it,Re=We({a:ze,b:ze});return!(Re&&Re.a===Re.b&&Re.a instanceof it&&Re.a.stack===ze.stack)})},Fe=function(We){return!O(function(){var it=We(new T.AggregateError([1],oe,{cause:3}));return it.name!="AggregateError"||it.errors[0]!=1||it.message!=oe||it.cause!=3})},Ge=T.structuredClone,at=a||!Me(Ge,ee)||!Me(Ge,re)||!Fe(Ge),De=!Ge&&ke(function(We){return new N(oe,{detail:We}).detail}),me=ke(Ge)||De,de=function(We){throw new re("Uncloneable type: "+We,_e)},Se=function(We,it){throw new re((it||"Cloning")+" of "+We+" cannot be properly polyfilled in this engine",_e)},Be=function(){var We;try{We=new T.DataTransfer}catch{try{We=new T.ClipboardEvent("").clipboardData}catch{}}return We&&We.items&&We.files?We:null},Ze=function(We,it){if(m(We)&&de("Symbol"),!A(We))return We;if(it){if(H(it,We))return W(it,We)}else it=new ce;var ze=f(We),Re=!1,qe,ot,$e,pt,Ne,we,Xe,st,tt,lt;switch(ze){case"Array":$e=Z(i(We)),Re=!0;break;case"Object":$e={},Re=!0;break;case"Map":$e=new ce,Re=!0;break;case"Set":$e=new $,Re=!0;break;case"RegExp":$e=new RegExp(We.source,w(We));break;case"Error":switch(ot=We.name,ot){case"AggregateError":$e=F("AggregateError")([]);break;case"EvalError":$e=fe();break;case"RangeError":$e=V();break;case"ReferenceError":$e=z();break;case"SyntaxError":$e=L();break;case"TypeError":$e=P();break;case"URIError":$e=k();break;case"CompileError":$e=q();break;case"LinkError":$e=te();break;case"RuntimeError":$e=se();break;default:$e=ee()}Re=!0;break;case"DOMException":$e=new re(We.message,We.name),Re=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":qe=T[ze],A(qe)||Se(ze),$e=new qe(Ze(We.buffer,it),We.byteOffset,ze==="DataView"?We.byteLength:We.length);break;case"DOMQuad":try{$e=new DOMQuad(Ze(We.p1,it),Ze(We.p2,it),Ze(We.p3,it),Ze(We.p4,it))}catch{me?$e=me(We):Se(ze)}break;case"FileList":if(pt=Be(),pt){for(Ne=0,we=i(We);Ne<we;Ne++)pt.items.add(Ze(We[Ne],it));$e=pt.files}else me?$e=me(We):Se(ze);break;case"ImageData":try{$e=new ImageData(Ze(We.data,it),We.width,We.height,{colorSpace:We.colorSpace})}catch{me?$e=me(We):Se(ze)}break;default:if(me)$e=me(We);else switch(ze){case"BigInt":$e=ve(We.valueOf());break;case"Boolean":$e=ve(J(We));break;case"Number":$e=ve(le(We));break;case"String":$e=ve(ae(We));break;case"Date":$e=new Q(pe(We));break;case"ArrayBuffer":qe=T.DataView,!qe&&typeof We.slice!="function"&&Se(ze);try{if(typeof We.slice=="function")$e=We.slice(0);else for(we=We.byteLength,$e=new ArrayBuffer(we),tt=new qe(We),lt=new qe($e),Ne=0;Ne<we;Ne++)lt.setUint8(Ne,tt.getUint8(Ne))}catch{throw new re("ArrayBuffer is detached",_e)}break;case"SharedArrayBuffer":$e=We;break;case"Blob":try{$e=We.slice(0,We.size,We.type)}catch{Se(ze)}break;case"DOMPoint":case"DOMPointReadOnly":qe=T[ze];try{$e=qe.fromPoint?qe.fromPoint(We):new qe(We.x,We.y,We.z,We.w)}catch{Se(ze)}break;case"DOMRect":case"DOMRectReadOnly":qe=T[ze];try{$e=qe.fromRect?qe.fromRect(We):new qe(We.x,We.y,We.width,We.height)}catch{Se(ze)}break;case"DOMMatrix":case"DOMMatrixReadOnly":qe=T[ze];try{$e=qe.fromMatrix?qe.fromMatrix(We):new qe(We)}catch{Se(ze)}break;case"AudioData":case"VideoFrame":g(We.clone)||Se(ze);try{$e=We.clone()}catch{de(ze)}break;case"File":try{$e=new File([We],We.name,We)}catch{Se(ze)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Se(ze);default:de(ze)}}if(ne(it,We,$e),Re)switch(ze){case"Array":case"Object":for(Xe=U(We),Ne=0,we=i(Xe);Ne<we;Ne++)st=Xe[Ne],_($e,st,Ze(We[st],it));break;case"Map":We.forEach(function(ct,_t){ne($e,Ze(_t,it),Ze(ct,it))});break;case"Set":We.forEach(function(ct){R($e,Ze(ct,it))});break;case"Error":b($e,"message",Ze(We.message,it)),C(We,"cause")&&b($e,"cause",Ze(We.cause,it)),ot=="AggregateError"&&($e.errors=Ze(We.errors,it));case"DOMException":G&&b($e,"stack",Ze(We.stack,it))}return $e},ut=Ge&&!O(function(){if(Ce&&K>92||be&&K>94||he&&K>97)return!1;var We=new ArrayBuffer(8),it=Ge(We,{transfer:[We]});return We.byteLength!=0||it.byteLength!=8}),St=function(We,it){if(!A(We))throw P("Transfer option cannot be converted to a sequence");var ze=[];p(We,function(tt){X(ze,d(tt))});var Re=0,qe=i(ze),ot,$e,pt,Ne,we,Xe,st;if(ut)for(Ne=Ge(ze,{transfer:ze});Re<qe;)ne(it,ze[Re],Ne[Re++]);else for(;Re<qe;){if(ot=ze[Re++],H(it,ot))throw new re("Duplicate transferable",_e);switch($e=f(ot),$e){case"ImageBitmap":pt=T.OffscreenCanvas,x(pt)||Se($e,Ae);try{Xe=new pt(ot.width,ot.height),st=Xe.getContext("bitmaprenderer"),st.transferFromImageBitmap(ot),we=Xe.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!g(ot.clone)||!g(ot.close))&&Se($e,Ae);try{we=ot.clone(),ot.close()}catch{}break;case"ArrayBuffer":case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Se($e,Ae)}if(we===void 0)throw new re("This object cannot be transferred: "+$e,_e);ne(it,ot,we)}};h({global:!0,enumerable:!0,sham:!ut,forced:at},{structuredClone:function(it){var ze=v(arguments.length,1)>1&&!y(arguments[1])?d(arguments[1]):void 0,Re=ze?ze.transfer:void 0,qe;return Re!==void 0&&(qe=new ce,St(Re,qe)),Ze(it,qe)}})},(u,s,l)=>{var a=l(17),h=l(10),T=l(24),F=l(82),B=l(27),O=l(54),o=function(){},g=[],x=B("Reflect","construct"),y=/^\s*(?:class|function)\b/,A=a(y.exec),m=!y.exec(o),p=function(C){if(!T(C))return!1;try{return x(o,g,C),!0}catch{return!1}},d=function(C){if(!T(C))return!1;switch(F(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!A(y,O(C))}catch{return!0}};d.sham=!0,u.exports=!x||h(function(){var f;return p(p.call)||!p(Object)||!p(function(){f=!0})||f})?d:p},u=>{var s=TypeError;u.exports=function(l,a){if(l<a)throw s("Not enough arguments");return l}},(u,s,l)=>{var a=l(11),h=l(42),T=l(28),F=l(127),B=RegExp.prototype;u.exports=function(O){var o=O.flags;return o===void 0&&!("flags"in B)&&!h(O,"flags")&&T(B,O)?a(F,O):o}},(u,s,l)=>{var a=l(50);u.exports=function(){var h=a(this),T="";return h.hasIndices&&(T+="d"),h.global&&(T+="g"),h.ignoreCase&&(T+="i"),h.multiline&&(T+="m"),h.dotAll&&(T+="s"),h.unicode&&(T+="u"),h.unicodeSets&&(T+="v"),h.sticky&&(T+="y"),T}},(u,s,l)=>{var a=l(17),h=Map.prototype;u.exports={Map,set:a(h.set),get:a(h.get),has:a(h.has),remove:a(h.delete),proto:h}},(u,s,l)=>{var a=l(17),h=Set.prototype;u.exports={Set,add:a(h.add),has:a(h.has),remove:a(h.delete),proto:h,$has:h.has,$keys:h.keys}},(u,s,l)=>{var a=l(10),h=l(14);u.exports=!a(function(){var T=Error("a");return"stack"in T?(Object.defineProperty(T,"stack",h(1,7)),T.stack!==7):!0})},(u,s,l)=>{var a=l(132),h=l(133);u.exports=!a&&!h&&typeof window=="object"&&typeof document=="object"},u=>{u.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(u,s,l)=>{var a=l(18);u.exports=typeof process<"u"&&a(process)=="process"},(u,s,l)=>{var a=l(7);u.exports=a},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var u,s,a,h,T,F,B;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(136),_display_utils=__w_pdfjs_require__(139),_font_loader=__w_pdfjs_require__(142),_canvas=__w_pdfjs_require__(143),_worker_options=__w_pdfjs_require__(146),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(147),_metadata=__w_pdfjs_require__(148),_optional_content_config=__w_pdfjs_require__(149),_transport_stream=__w_pdfjs_require__(150),_xfa_text=__w_pdfjs_require__(151);function _classPrivateFieldSet(o,g,x){var y=_classExtractFieldDescriptor(o,g,"set");return _classApplyDescriptorSet(o,y,x),x}function _classApplyDescriptorSet(o,g,x){if(g.set)g.set.call(o,x);else{if(!g.writable)throw new TypeError("attempted to set read only private field");g.value=x}}function _classPrivateMethodInitSpec(o,g){_checkPrivateRedeclaration(o,g),g.add(o)}function _classPrivateFieldInitSpec(o,g,x){_checkPrivateRedeclaration(o,g),g.set(o,x)}function _checkPrivateRedeclaration(o,g){if(g.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateMethodGet(o,g,x){if(!g.has(o))throw new TypeError("attempted to get private field on non-instance");return x}function _classPrivateFieldGet(o,g){var x=_classExtractFieldDescriptor(o,g,"get");return _classApplyDescriptorGet(o,x)}function _classExtractFieldDescriptor(o,g,x){if(!g.has(o))throw new TypeError("attempted to "+x+" private field on non-instance");return g.get(o)}function _classApplyDescriptorGet(o,g){return g.get?g.get.call(o):g.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:o,NodeCMapReaderFactory:g,NodeStandardFontDataFactory:x}=__w_pdfjs_require__(152);exports.DefaultCanvasFactory=DefaultCanvasFactory=o,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=g,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=x}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:o}=__w_pdfjs_require__(153);createPDFNetworkStream=g=>new o(g)}else{const{PDFNetworkStream:o}=__w_pdfjs_require__(156),{PDFFetchStream:g}=__w_pdfjs_require__(157);createPDFNetworkStream=x=>(0,_display_utils.isValidFetchUrl)(x.url)?new g(x):new o(x)}function getDocument(o){if(typeof o=="string"||o instanceof URL)o={url:o};else if((0,_util.isArrayBuffer)(o))o={data:o};else if(o instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),o={range:o};else if(typeof o!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!o.url&&!o.data&&!o.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const g=new PDFDocumentLoadingTask,x=o.url?getUrlProp(o.url):null,y=o.data?getDataProp(o.data):null,A=o.httpHeaders||null,m=o.withCredentials===!0,p=o.password??null,d=o.range instanceof PDFDataRangeTransport?o.range:null,f=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let C=o.worker instanceof PDFWorker?o.worker:null;const _=o.verbosity,b=typeof o.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(o.docBaseUrl)?o.docBaseUrl:null,i=typeof o.cMapUrl=="string"?o.cMapUrl:null,v=o.cMapPacked!==!1,w=o.CMapReaderFactory||DefaultCMapReaderFactory,E=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,I=o.StandardFontDataFactory||DefaultStandardFontDataFactory,G=o.stopAtErrors!==!0,K=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,he=o.isEvalSupported!==!1,Ce=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!_is_node.isNodeJS,be=typeof o.disableFontFace=="boolean"?o.disableFontFace:_is_node.isNodeJS,ve=o.fontExtraProperties===!0,Z=o.enableXfa===!0,Q=o.ownerDocument||globalThis.document,ee=o.disableRange===!0,fe=o.disableStream===!0,V=o.disableAutoFetch===!0,z=o.pdfBug===!0,L=d?d.length:o.length??NaN,P=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!_is_node.isNodeJS&&!be,k=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:w===_display_utils.DOMCMapReaderFactory&&I===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(i,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(E,document.baseURI),N=null;(0,_util.setVerbosityLevel)(_);const j=k?null:{cMapReaderFactory:new w({baseUrl:i,isCompressed:v}),standardFontDataFactory:new I({baseUrl:E})};if(!C){const re={verbosity:_,port:_worker_options.GlobalWorkerOptions.workerPort};C=re.port?PDFWorker.fromPort(re):new PDFWorker(re),g._worker=C}const q=g.docId,te={docId:q,apiVersion:"3.4.120",data:y,password:p,disableAutoFetch:V,rangeChunkSize:f,length:L,docBaseUrl:b,enableXfa:Z,evaluatorOptions:{maxImageSize:K,disableFontFace:be,ignoreErrors:G,isEvalSupported:he,isOffscreenCanvasSupported:Ce,fontExtraProperties:ve,useSystemFonts:P,cMapUrl:k?i:null,standardFontDataUrl:k?E:null}},se={ignoreErrors:G,isEvalSupported:he,disableFontFace:be,fontExtraProperties:ve,enableXfa:Z,ownerDocument:Q,disableAutoFetch:V,pdfBug:z,styleElement:N};return C.promise.then(function(){if(g.destroyed)throw new Error("Loading aborted");const re=_fetchDocument(C,te),ce=new Promise(function(H){let W;d?W=new _transport_stream.PDFDataTransportStream({length:L,initialData:d.initialData,progressiveDone:d.progressiveDone,contentDispositionFilename:d.contentDispositionFilename,disableRange:ee,disableStream:fe},d):y||(W=createPDFNetworkStream({url:x,length:L,httpHeaders:A,withCredentials:m,rangeChunkSize:f,disableRange:ee,disableStream:fe})),H(W)});return Promise.all([re,ce]).then(function(H){let[W,ne]=H;if(g.destroyed)throw new Error("Loading aborted");const $=new _message_handler.MessageHandler(q,W,C.port),R=new WorkerTransport($,g,ne,se,j);g._transport=R,$.send("Ready",null)})}).catch(g._capability.reject),g}async function _fetchDocument(o,g){if(o.destroyed)throw new Error("Worker was destroyed");const x=await o.messageHandler.sendWithPromise("GetDocRequest",g,g.data?[g.data.buffer]:null);if(o.destroyed)throw new Error("Worker was destroyed");return x}function getUrlProp(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(_is_node.isNodeJS&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(o){if(_is_node.isNodeJS&&typeof Buffer<"u"&&o instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(o);if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return(0,_util.stringToBytes)(o);if(typeof o=="object"&&!isNaN(o==null?void 0:o.length)||(0,_util.isArrayBuffer)(o))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const l=class l{constructor(){Ye(this,s,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${ko(l,u)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return ue(this,s)}set onUnsupportedFeature(g){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),et(this,s,g)}get promise(){return this._capability.promise}async destroy(){var g;this.destroyed=!0,await((g=this._transport)===null||g===void 0?void 0:g.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};u=new WeakMap,s=new WeakMap,Ye(l,u,0);let PDFDocumentLoadingTask=l;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(g,x){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=g,this.initialData=x,this.progressiveDone=y,this.contentDispositionFilename=A,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(g){this._rangeListeners.push(g)}addProgressListener(g){this._progressListeners.push(g)}addProgressiveReadListener(g){this._progressiveReadListeners.push(g)}addProgressiveDoneListener(g){this._progressiveDoneListeners.push(g)}onDataRange(g,x){for(const y of this._rangeListeners)y(g,x)}onDataProgress(g,x){this._readyCapability.promise.then(()=>{for(const y of this._progressListeners)y(g,x)})}onDataProgressiveRead(g){this._readyCapability.promise.then(()=>{for(const x of this._progressiveReadListeners)x(g)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const g of this._progressiveDoneListeners)g()})}transportReady(){this._readyCapability.resolve()}requestDataRange(g,x){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(g,x){this._pdfInfo=g,this._transport=x}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(g){return this._transport.getPage(g)}getPageIndex(g){return this._transport.getPageIndex(g)}getDestinations(){return this._transport.getDestinations()}getDestination(g){return this._transport.getDestination(g)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(g||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(g,x,y,A){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=g,this._pageInfo=x,this._ownerDocument=A,this._transport=y,this._stats=m?new _display_utils.StatTimer:null,this._pdfBug=m,this.commonObjs=y.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:g,rotation:x=this.rotate,offsetX:y=0,offsetY:A=0,dontFlip:m=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:g,rotation:x,offsetX:y,offsetY:A,dontFlip:m})}getAnnotations(){let{intent:g="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const x=this._transport.getRenderingIntent(g);return this._transport.getAnnotations(this._pageIndex,x.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var g;return((g=this._transport._htmlForXfa)===null||g===void 0?void 0:g.children[this._pageIndex])||null}render(g){var x,y;let{canvasContext:A,viewport:m,intent:p="display",annotationMode:d=_util.AnnotationMode.ENABLE,transform:f=null,canvasFactory:C=null,background:_=null,optionalContentConfigPromise:b=null,annotationCanvasMap:i=null,pageColors:v=null,printAnnotationStorage:w=null}=g;(x=this._stats)===null||x===void 0||x.time("Overall");const E=this._transport.getRenderingIntent(p,d,w);this.pendingCleanup=!1,b||(b=this._transport.getOptionalContentConfig());let I=this._intentStates.get(E.cacheKey);I||(I=Object.create(null),this._intentStates.set(E.cacheKey,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const G=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),K=!!(E.renderingIntent&_util.RenderingIntentFlag.PRINT);if(!I.displayReadyCapability){var he;I.displayReadyCapability=(0,_util.createPromiseCapability)(),I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(he=this._stats)===null||he===void 0||he.time("Page Request"),this._pumpOperatorList(E)}const Ce=Z=>{var Q,ee;I.renderTasks.delete(be),(this.cleanupAfterRender||K)&&(this.pendingCleanup=!0),this._tryCleanup(),Z?(be.capability.reject(Z),this._abortOperatorList({intentState:I,reason:Z instanceof Error?Z:new Error(Z)})):be.capability.resolve(),(Q=this._stats)===null||Q===void 0||Q.timeEnd("Rendering"),(ee=this._stats)===null||ee===void 0||ee.timeEnd("Overall")},be=new InternalRenderTask({callback:Ce,params:{canvasContext:A,viewport:m,transform:f,background:_},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:i,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:G,useRequestAnimationFrame:!K,pdfBug:this._pdfBug,pageColors:v});((y=I).renderTasks||(y.renderTasks=new Set)).add(be);const ve=be.task;return Promise.all([I.displayReadyCapability.promise,b]).then(Z=>{var Q;let[ee,fe]=Z;if(this.pendingCleanup){Ce();return}(Q=this._stats)===null||Q===void 0||Q.time("Rendering"),be.initializeGraphics({transparency:ee,optionalContentConfig:fe}),be.operatorListChanged()}).catch(Ce),ve}getOperatorList(){let{intent:g="display",annotationMode:x=_util.AnnotationMode.ENABLE,printAnnotationStorage:y=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function A(){p.operatorList.lastChunk&&(p.opListReadCapability.resolve(p.operatorList),p.renderTasks.delete(d))}const m=this._transport.getRenderingIntent(g,x,y,!0);let p=this._intentStates.get(m.cacheKey);p||(p=Object.create(null),this._intentStates.set(m.cacheKey,p));let d;if(!p.opListReadCapability){var f,C;d=Object.create(null),d.operatorListChanged=A,p.opListReadCapability=(0,_util.createPromiseCapability)(),((f=p).renderTasks||(f.renderTasks=new Set)).add(d),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)===null||C===void 0||C.time("Page Request"),this._pumpOperatorList(m)}return p.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:g=!1,includeMarkedContent:x=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:g!==!0,includeMarkedContent:x===!0},{highWaterMark:100,size(A){return A.items.length}})}getTextContent(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(y=>_xfa_text.XfaText.textContent(y));const x=this.streamTextContent(g);return new Promise(function(y,A){function m(){p.read().then(function(f){let{value:C,done:_}=f;if(_){y(d);return}Object.assign(d.styles,C.styles),d.items.push(...C.items),m()},A)}const p=x.getReader(),d={items:[],styles:Object.create(null)};m()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const g=[];for(const x of this._intentStates.values())if(this._abortOperatorList({intentState:x,reason:new Error("Page was destroyed."),force:!0}),!x.opListReadCapability)for(const y of x.renderTasks)g.push(y.completed),y.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(g)}cleanup(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(g)}_tryCleanup(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:x,operatorList:y}of this._intentStates.values())if(x.size>0||!y.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),g&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(g,x){var y,A;const m=this._intentStates.get(x);m&&((y=this._stats)===null||y===void 0||y.timeEnd("Page Request"),(A=m.displayReadyCapability)===null||A===void 0||A.resolve(g))}_renderPageChunk(g,x){for(let y=0,A=g.length;y<A;y++)x.operatorList.fnArray.push(g.fnArray[y]),x.operatorList.argsArray.push(g.argsArray[y]);x.operatorList.lastChunk=g.lastChunk,x.operatorList.separateAnnots=g.separateAnnots;for(const y of x.renderTasks)y.operatorListChanged();g.lastChunk&&this._tryCleanup()}_pumpOperatorList(g){let{renderingIntent:x,cacheKey:y,annotationStorageMap:A}=g;const p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:x,cacheKey:y,annotationStorage:A}).getReader(),d=this._intentStates.get(y);d.streamReader=p;const f=()=>{p.read().then(C=>{let{value:_,done:b}=C;if(b){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_,d),f())},C=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const _ of d.renderTasks)_.operatorListChanged();this._tryCleanup()}if(d.displayReadyCapability)d.displayReadyCapability.reject(C);else if(d.opListReadCapability)d.opListReadCapability.reject(C);else throw C}})};f()}_abortOperatorList(g){let{intentState:x,reason:y,force:A=!1}=g;if(x.streamReader){if(x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null),!A){if(x.renderTasks.size>0)return;if(y instanceof _display_utils.RenderingCancelledException){let m=RENDERING_CANCELLED_TIMEOUT;y.extraDelay>0&&y.extraDelay<1e3&&(m+=y.extraDelay),x.streamReaderCancelTimeout=setTimeout(()=>{x.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:x,reason:y,force:!0})},m);return}}if(x.streamReader.cancel(new _util.AbortException(y.message)).catch(()=>{}),x.streamReader=null,!this._transport.destroyed){for(const[m,p]of this._intentStates)if(p===x){this._intentStates.delete(m);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Ye(this,a,new Set);Ye(this,h,Promise.resolve())}postMessage(g,x){const y={data:structuredClone(g,x)};ue(this,h).then(()=>{for(const A of ue(this,a))A.call(this,y)})}addEventListener(g,x){ue(this,a).add(x)}removeEventListener(g,x){ue(this,a).delete(x)}terminate(){ue(this,a).clear()}}a=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const o=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;o&&(PDFWorkerUtil.fallbackWorkerSrc=o.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(o,g){let x;try{if(x=new URL(o),!x.origin||x.origin==="null")return!1}catch{return!1}const y=new URL(g,x);return x.origin===y.origin},PDFWorkerUtil.createCDNWrapper=function(o){const g=`importScripts("${o}");`;return URL.createObjectURL(new Blob([g]))}}const _PDFWorker=class _PDFWorker{constructor(){let{name:o=null,port:g=null,verbosity:x=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g&&ue(_PDFWorker,T).has(g))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=o,this.destroyed=!1,this.verbosity=x,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,g){ue(_PDFWorker,T).set(g,this),this._initializeFromPort(g);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(o){this._port=o,this._messageHandler=new _message_handler.MessageHandler("main","worker",o),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:o}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,o)||(o=PDFWorkerUtil.createCDNWrapper(new URL(o,window.location).href));const g=new Worker(o),x=new _message_handler.MessageHandler("main","worker",g),y=()=>{g.removeEventListener("error",A),x.destroy(),g.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},A=()=>{this._webWorker||y()};g.addEventListener("error",A),x.on("test",p=>{if(g.removeEventListener("error",A),this.destroyed){y();return}p?(this._messageHandler=x,this._port=g,this._webWorker=g,this._readyCapability.resolve(),x.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),x.destroy(),g.terminate())}),x.on("ready",p=>{if(g.removeEventListener("error",A),this.destroyed){y();return}try{m()}catch{this._setupFakeWorker()}});const m=()=>{const p=new Uint8Array;x.send("test",p,[p.buffer])};m();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(o=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const g=new LoopbackPort;this._port=g;const x=`fake${PDFWorkerUtil.fakeWorkerId++}`,y=new _message_handler.MessageHandler(x+"_worker",x,g);o.setup(y,g);const A=new _message_handler.MessageHandler(x,x+"_worker",g);this._messageHandler=A,this._readyCapability.resolve(),A.send("configure",{verbosity:this.verbosity})}).catch(o=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${o.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ue(_PDFWorker,T).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(o){if(!(o!=null&&o.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ue(this,T).has(o.port)?ue(this,T).get(o.port):new _PDFWorker(o)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var o;return((o=globalThis.pdfjsWorker)===null||o===void 0?void 0:o.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};T=new WeakMap,Ye(_PDFWorker,T,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_cacheSimpleMethod=new WeakSet;class WorkerTransport{constructor(g,x,y,A,m){_classPrivateMethodInitSpec(this,_cacheSimpleMethod),_classPrivateFieldInitSpec(this,_methodPromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),this.messageHandler=g,this.loadingTask=x,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:A.ownerDocument,styleElement:A.styleElement}),this._params=A,this.cMapReaderFactory=m==null?void 0:m.cMapReaderFactory,this.standardFontDataFactory=m==null?void 0:m.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=y,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,m=_util.RenderingIntentFlag.DISPLAY,p=null;switch(g){case"any":m=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":m=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${g}`)}switch(x){case _util.AnnotationMode.DISABLE:m+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:m+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:m+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,p=(m&_util.RenderingIntentFlag.PRINT&&y instanceof _annotation_storage.PrintAnnotationStorage?y:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${x}`)}return A&&(m+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:m,cacheKey:`${m}_${_annotation_storage.AnnotationStorage.getHash(p)}`,annotationStorageMap:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const g=[];for(const y of _classPrivateFieldGet(this,_pageCache).values())g.push(y._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const x=this.messageHandler.sendWithPromise("Terminate",null);return g.push(x),Promise.all(g).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:g,loadingTask:x}=this;g.on("GetReader",(y,A)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=m=>{this._lastProgress={loaded:m.loaded,total:m.total}},A.onPull=()=>{this._fullReader.read().then(function(m){let{value:p,done:d}=m;if(d){A.close();return}(0,_util.assert)(p instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(p),1,[p])}).catch(m=>{A.error(m)})},A.onCancel=m=>{this._fullReader.cancel(m),A.ready.catch(p=>{if(!this.destroyed)throw p})}}),g.on("ReaderHeadersReady",y=>{const A=(0,_util.createPromiseCapability)(),m=this._fullReader;return m.headersReady.then(()=>{if(!m.isStreamingSupported||!m.isRangeSupported){if(this._lastProgress){var p;(p=x.onProgress)===null||p===void 0||p.call(x,this._lastProgress)}m.onProgress=d=>{var f;(f=x.onProgress)===null||f===void 0||f.call(x,{loaded:d.loaded,total:d.total})}}A.resolve({isStreamingSupported:m.isStreamingSupported,isRangeSupported:m.isRangeSupported,contentLength:m.contentLength})},A.reject),A.promise}),g.on("GetRangeReader",(y,A)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const m=this._networkStream.getRangeReader(y.begin,y.end);if(!m){A.close();return}A.onPull=()=>{m.read().then(function(p){let{value:d,done:f}=p;if(f){A.close();return}(0,_util.assert)(d instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),A.enqueue(new Uint8Array(d),1,[d])}).catch(p=>{A.error(p)})},A.onCancel=p=>{m.cancel(p),A.ready.catch(d=>{if(!this.destroyed)throw d})}}),g.on("GetDoc",y=>{let{pdfInfo:A}=y;this._numPages=A.numPages,this._htmlForXfa=A.htmlForXfa,delete A.htmlForXfa,x._capability.resolve(new PDFDocumentProxy(A,this))}),g.on("DocException",function(y){let A;switch(y.name){case"PasswordException":A=new _util.PasswordException(y.message,y.code);break;case"InvalidPDFException":A=new _util.InvalidPDFException(y.message);break;case"MissingPDFException":A=new _util.MissingPDFException(y.message);break;case"UnexpectedResponseException":A=new _util.UnexpectedResponseException(y.message,y.status);break;case"UnknownErrorException":A=new _util.UnknownErrorException(y.message,y.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}x._capability.reject(A)}),g.on("PasswordRequest",y=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),x.onPassword){const A=m=>{m instanceof Error?this._passwordCapability.reject(m):this._passwordCapability.resolve({password:m})};try{x.onPassword(A,y.code)}catch(m){this._passwordCapability.reject(m)}}else this._passwordCapability.reject(new _util.PasswordException(y.message,y.code));return this._passwordCapability.promise}),g.on("DataLoaded",y=>{var A;(A=x.onProgress)===null||A===void 0||A.call(x,{loaded:y.length,total:y.length}),this.downloadInfoCapability.resolve(y)}),g.on("StartRenderPage",y=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(y.pageIndex)._startRenderPage(y.transparency,y.cacheKey)}),g.on("commonobj",y=>{var A;let[m,p,d]=y;if(!this.destroyed&&!this.commonObjs.has(m))switch(p){case"Font":const f=this._params;if("error"in d){const b=d.error;(0,_util.warn)(`Error during font loading: ${b}`),this.commonObjs.resolve(m,b);break}let C=null;f.pdfBug&&(A=globalThis.FontInspector)!==null&&A!==void 0&&A.enabled&&(C={registerFont(b,i){globalThis.FontInspector.fontAdded(b,i)}});const _=new _font_loader.FontFaceObject(d,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:C});this.fontLoader.bind(_).catch(b=>g.sendWithPromise("FontFallback",{id:m})).finally(()=>{!f.fontExtraProperties&&_.data&&(_.data=null),this.commonObjs.resolve(m,_)});break;case"FontPath":case"Image":this.commonObjs.resolve(m,d);break;default:throw new Error(`Got unknown common object type ${p}`)}}),g.on("obj",y=>{let[A,m,p,d]=y;if(this.destroyed)return;const f=_classPrivateFieldGet(this,_pageCache).get(m);if(!f.objs.has(A))switch(p){case"Image":f.objs.resolve(A,d);const _=8e6;if(d){let b;if(d.bitmap){const{width:i,height:v}=d;b=i*v*4}else{var C;b=((C=d.data)===null||C===void 0?void 0:C.length)||0}b>_&&(f.cleanupAfterRender=!0)}break;case"Pattern":f.objs.resolve(A,d);break;default:throw new Error(`Got unknown object type ${p}`)}}),g.on("DocProgress",y=>{var A;this.destroyed||(A=x.onProgress)===null||A===void 0||A.call(x,{loaded:y.loaded,total:y.total})}),g.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),g.on("FetchBuiltInCMap",y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(y):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),g.on("FetchStandardFontData",y=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(y):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(g){var x,y;let{featureId:A}=g;this.destroyed||(x=(y=this.loadingTask).onUnsupportedFeature)===null||x===void 0||x.call(y,A)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var g;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((g=this._fullReader)===null||g===void 0?void 0:g.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(g){if(!Number.isInteger(g)||g<=0||g>this._numPages)return Promise.reject(new Error("Invalid page request."));const x=g-1,y=_classPrivateFieldGet(this,_pagePromises).get(x);if(y)return y;const A=this.messageHandler.sendWithPromise("GetPage",{pageIndex:x}).then(m=>{if(this.destroyed)throw new Error("Transport destroyed");const p=new PDFPageProxy(x,m,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(x,p),p});return _classPrivateFieldGet(this,_pagePromises).set(x,A),A}getPageIndex(g){return typeof g!="object"||g===null||!Number.isInteger(g.num)||g.num<0||!Number.isInteger(g.gen)||g.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:g.num,gen:g.gen})}getAnnotations(g,x){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:g,intent:x})}getFieldObjects(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetFieldObjects")}hasJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(g){return typeof g!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:g})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(g){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:g})}getStructTree(g){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:g})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(g=>new _optional_content_config.OptionalContentConfig(g))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const g="GetMetadata",x=_classPrivateFieldGet(this,_methodPromises).get(g);if(x)return x;const y=this.messageHandler.sendWithPromise(g,null).then(A=>{var m,p;return{info:A[0],metadata:A[1]?new _metadata.Metadata(A[1]):null,contentDispositionFilename:((m=this._fullReader)===null||m===void 0?void 0:m.filename)??null,contentLength:((p=this._fullReader)===null||p===void 0?void 0:p.contentLength)??null}});return _classPrivateFieldGet(this,_methodPromises).set(g,y),y}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const x of _classPrivateFieldGet(this,_pageCache).values())if(!x.cleanup())throw new Error(`startCleanup: Page ${x.pageNumber} is currently rendering.`);this.commonObjs.clear(),g||this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear()}}get loadingParams(){const{disableAutoFetch:g,enableXfa:x}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:g,enableXfa:x})}}function _cacheSimpleMethod2(o){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const x=_classPrivateFieldGet(this,_methodPromises).get(o);if(x)return x;const y=this.messageHandler.sendWithPromise(o,g);return _classPrivateFieldGet(this,_methodPromises).set(o,y),y}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(x){const A=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,g);return A.capability.promise.then(()=>x(A.data)),null}const y=_classPrivateFieldGet(this,_objs)[g];if(!(y!=null&&y.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${g}.`);return y.data}has(g){const x=_classPrivateFieldGet(this,_objs)[g];return(x==null?void 0:x.capability.settled)||!1}resolve(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const y=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,g);y.data=x,y.capability.resolve()}clear(){for(const x in _classPrivateFieldGet(this,_objs)){var g;const{data:y}=_classPrivateFieldGet(this,_objs)[x];y==null||(g=y.bitmap)===null||g===void 0||g.close()}_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(o){const g=_classPrivateFieldGet(this,_objs)[o];return g||(_classPrivateFieldGet(this,_objs)[o]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(g){Ye(this,F,null);et(this,F,g),this.onContinue=null}get promise(){return ue(this,F).capability.promise}cancel(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;ue(this,F).cancel(null,g)}get separateAnnots(){const{separateAnnots:g}=ue(this,F).operatorList;if(!g)return!1;const{annotationCanvasMap:x}=ue(this,F);return g.form||g.canvas&&(x==null?void 0:x.size)>0}}F=new WeakMap,exports.RenderTask=RenderTask;const O=class O{constructor(g){let{callback:x,params:y,objs:A,commonObjs:m,annotationCanvasMap:p,operatorList:d,pageIndex:f,canvasFactory:C,useRequestAnimationFrame:_=!1,pdfBug:b=!1,pageColors:i=null}=g;this.callback=x,this.params=y,this.objs=A,this.commonObjs=m,this.annotationCanvasMap=p,this.operatorListIdx=null,this.operatorList=d,this._pageIndex=f,this.canvasFactory=C,this._pdfBug=b,this.pageColors=i,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=y.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(g){var x,y;let{transparency:A=!1,optionalContentConfig:m}=g;if(this.cancelled)return;if(this._canvas){if(ue(O,B).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ue(O,B).add(this._canvas)}this._pdfBug&&(x=globalThis.StepperManager)!==null&&x!==void 0&&x.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:p,viewport:d,transform:f,background:C}=this.params;this.gfx=new _canvas.CanvasGraphics(p,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:m},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:f,viewport:d,transparency:A,background:C}),this.operatorListIdx=0,this.graphicsReady=!0,(y=this.graphicsReadyCallback)===null||y===void 0||y.call(this)}cancel(){var g;let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,(g=this.gfx)===null||g===void 0||g.endDrawing(),this._canvas&&ue(O,B).delete(this._canvas),this.callback(x||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",y))}operatorListChanged(){var g;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(g=this.stepper)===null||g===void 0||g.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ue(O,B).delete(this._canvas),this.callback())))}};B=new WeakMap,Ye(O,B,new WeakSet);let InternalRenderTask=O;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(u,s,l)=>{var i;Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=l(1),h=l(137),T=l(141);function F(v,w){O(v,w),w.add(v)}function B(v,w,E){O(v,w),w.set(v,E)}function O(v,w){if(w.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(v,w,E){var I=A(v,w,"set");return g(v,I,E),E}function g(v,w,E){if(w.set)w.set.call(v,E);else{if(!w.writable)throw new TypeError("attempted to set read only private field");w.value=E}}function x(v,w,E){if(!w.has(v))throw new TypeError("attempted to get private field on non-instance");return E}function y(v,w){var E=A(v,w,"get");return m(v,E)}function A(v,w,E){if(!w.has(v))throw new TypeError("attempted to "+E+" private field on non-instance");return w.get(v)}function m(v,w){return w.get?w.get.call(v):w.value}var p=new WeakMap,d=new WeakMap,f=new WeakSet;class C{constructor(){F(this,f),B(this,p,{writable:!0,value:!1}),B(this,d,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(w,E){const I=y(this,d).get(w);return I===void 0?E:Object.assign(E,I)}getRawValue(w){return y(this,d).get(w)}remove(w){if(y(this,d).delete(w),y(this,d).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const E of y(this,d).values())if(E instanceof h.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(w,E){const I=y(this,d).get(w);let G=!1;if(I!==void 0)for(const[K,he]of Object.entries(E))I[K]!==he&&(G=!0,I[K]=he);else G=!0,y(this,d).set(w,E);G&&x(this,f,_).call(this),E instanceof h.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(E.constructor._type)}has(w){return y(this,d).has(w)}getAll(){return y(this,d).size>0?(0,a.objectFromMap)(y(this,d)):null}setAll(w){for(const[E,I]of Object.entries(w))this.setValue(E,I)}get size(){return y(this,d).size}resetModified(){y(this,p)&&(o(this,p,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(y(this,d).size===0)return null;const w=new Map;for(const[E,I]of y(this,d)){const G=I instanceof h.AnnotationEditor?I.serialize():I;G&&w.set(E,G)}return w}static getHash(w){if(!w)return"";const E=new T.MurmurHash3_64;for(const[I,G]of w)E.update(`${I}:${JSON.stringify(G)}`);return E.hexdigest()}}s.AnnotationStorage=C;function _(){y(this,p)||(o(this,p,!0),typeof this.onSetModified=="function"&&this.onSetModified())}class b extends C{constructor(E){super();Ye(this,i,null);et(this,i,structuredClone(E.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ue(this,i)}}i=new WeakMap,s.PrintAnnotationStorage=b},(u,s,l)=>{var F,B,O,o,g,x;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=l(138),h=l(1);const y=class y{constructor(m){Ye(this,F,this.focusin.bind(this));Ye(this,B,this.focusout.bind(this));Ye(this,O,!1);Ye(this,o,!1);Ye(this,g,!1);kt(this,"_uiManager",null);Ye(this,x,y._zIndex++);this.constructor===y&&(0,h.unreachable)("Cannot initialize AnnotationEditor."),this.parent=m.parent,this.id=m.id,this.width=this.height=null,this.pageIndex=m.parent.pageIndex,this.name=m.name,this.div=null,this._uiManager=m.uiManager;const{rotation:p,rawDims:{pageWidth:d,pageHeight:f,pageX:C,pageY:_}}=this.parent.viewport;this.rotation=p,this.pageDimensions=[d,f],this.pageTranslation=[C,_];const[b,i]=this.parentDimensions;this.x=m.x/b,this.y=m.y/i,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,h.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(m){this._uiManager.addCommands(m)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ue(this,x)}setParent(m){m!==null&&(this.pageIndex=m.pageIndex,this.pageDimensions=m.pageDimensions),this.parent=m}focusin(m){ue(this,O)?et(this,O,!1):this.parent.setSelected(this)}focusout(m){var p;if(!this.isAttachedToDOM)return;const d=m.relatedTarget;d!=null&&d.closest(`#${this.id}`)||(m.preventDefault(),(p=this.parent)!==null&&p!==void 0&&p.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(m){const p=this.parent.div.getBoundingClientRect();this.startX=m.clientX-p.x,this.startY=m.clientY-p.y,m.dataTransfer.setData("text/plain",this.id),m.dataTransfer.effectAllowed="move"}setAt(m,p,d,f){const[C,_]=this.parentDimensions;[d,f]=this.screenToPageTranslation(d,f),this.x=(m+d)/C,this.y=(p+f)/_,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(m,p){const[d,f]=this.parentDimensions;[m,p]=this.screenToPageTranslation(m,p),this.x+=m/d,this.y+=p/f,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(m,p){switch(this.parentRotation){case 90:return[p,-m];case 180:return[-m,-p];case 270:return[-p,m];default:return[m,p]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:m}=this._uiManager.viewParameters,[p,d]=this.pageDimensions;return[p*m,d*m]}setDims(m,p){const[d,f]=this.parentDimensions;this.div.style.width=`${100*m/d}%`,this.div.style.height=`${100*p/f}%`}fixDims(){const{style:m}=this.div,{height:p,width:d}=m,f=d.endsWith("%"),C=p.endsWith("%");if(f&&C)return;const[_,b]=this.parentDimensions;f||(m.width=`${100*parseFloat(d)/_}%`),C||(m.height=`${100*parseFloat(p)/b}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ue(this,F)),this.div.addEventListener("focusout",ue(this,B));const[m,p]=this.getInitialTranslation();return this.translate(m,p),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(m){const{isMac:p}=h.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&p){m.preventDefault();return}m.ctrlKey&&!p||m.shiftKey||m.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this),et(this,O,!0)}getRect(m,p){const d=this.parentScale,[f,C]=this.pageDimensions,[_,b]=this.pageTranslation,i=m/d,v=p/d,w=this.x*f,E=this.y*C,I=this.width*f,G=this.height*C;switch(this.rotation){case 0:return[w+i+_,C-E-v-G+b,w+i+I+_,C-E-v+b];case 90:return[w+v+_,C-E+i+b,w+v+G+_,C-E+i+I+b];case 180:return[w-i-I+_,C-E+v+b,w-i+_,C-E+v+G+b];case 270:return[w-v-G+_,C-E-i-I+b,w-v+_,C-E-i+b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(m,p){const[d,f,C,_]=m,b=C-d,i=_-f;switch(this.rotation){case 0:return[d,p-_,b,i];case 90:return[d,p-f,i,b];case 180:return[C,p-f,b,i];case 270:return[C,p-_,i,b];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){et(this,g,!0)}disableEditMode(){et(this,g,!1)}isInEditMode(){return ue(this,g)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var m;(m=this.div)===null||m===void 0||m.addEventListener("focusin",ue(this,F))}serialize(){(0,h.unreachable)("An editor must be serializable")}static deserialize(m,p,d){const f=new this.prototype.constructor({parent:p,id:p.getNextId(),uiManager:d});f.rotation=m.rotation;const[C,_]=f.pageDimensions,[b,i,v,w]=f.getRectInCurrentCoords(m.rect,_);return f.x=b/C,f.y=i/_,f.width=v/C,f.height=w/_,f}remove(){this.div.removeEventListener("focusin",ue(this,F)),this.div.removeEventListener("focusout",ue(this,B)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var m;(m=this.div)===null||m===void 0||m.classList.add("selectedEditor")}unselect(){var m;(m=this.div)===null||m===void 0||m.classList.remove("selectedEditor")}updateParams(m,p){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ue(this,o)}set isEditing(m){et(this,o,m),m?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};F=new WeakMap,B=new WeakMap,O=new WeakMap,o=new WeakMap,g=new WeakMap,x=new WeakMap,kt(y,"_colorManager",new a.ColorManager),kt(y,"_zIndex",1);let T=y;s.AnnotationEditor=T},(u,s,l)=>{var Be,Ze,ut,St,We;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=f,s.opacityToHex=C;var a=l(1),h=l(139);function T(ze,Re,qe){return Re=F(Re),Re in ze?Object.defineProperty(ze,Re,{value:qe,enumerable:!0,configurable:!0,writable:!0}):ze[Re]=qe,ze}function F(ze){var Re=B(ze,"string");return typeof Re=="symbol"?Re:String(Re)}function B(ze,Re){if(typeof ze!="object"||ze===null)return ze;var qe=ze[Symbol.toPrimitive];if(qe!==void 0){var ot=qe.call(ze,Re);if(typeof ot!="object")return ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Re==="string"?String:Number)(ze)}function O(ze,Re,qe){p(ze,Re),Re.set(ze,qe)}function o(ze,Re){var qe=y(ze,Re,"get");return g(ze,qe)}function g(ze,Re){return Re.get?Re.get.call(ze):Re.value}function x(ze,Re,qe){var ot=y(ze,Re,"set");return A(ze,ot,qe),qe}function y(ze,Re,qe){if(!Re.has(ze))throw new TypeError("attempted to "+qe+" private field on non-instance");return Re.get(ze)}function A(ze,Re,qe){if(Re.set)Re.set.call(ze,qe);else{if(!Re.writable)throw new TypeError("attempted to set read only private field");Re.value=qe}}function m(ze,Re){p(ze,Re),Re.add(ze)}function p(ze,Re){if(Re.has(ze))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(ze,Re,qe){if(!Re.has(ze))throw new TypeError("attempted to get private field on non-instance");return qe}function f(ze,Re,qe){for(const ot of qe)Re.addEventListener(ot,ze[ot].bind(ze))}function C(ze){return Math.round(Math.min(255,Math.max(1,255*ze))).toString(16).padStart(2,"0")}class _{constructor(){Ye(this,Be,0)}getId(){return`${a.AnnotationEditorPrefix}${ko(this,Be)._++}`}}Be=new WeakMap;class b{constructor(){Ye(this,Ze,[]);Ye(this,ut,!1);Ye(this,St);Ye(this,We,-1);let Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;et(this,St,Re)}add(Re){let{cmd:qe,undo:ot,mustExec:$e,type:pt=NaN,overwriteIfSameType:Ne=!1,keepUndo:we=!1}=Re;if($e&&qe(),ue(this,ut))return;const Xe={cmd:qe,undo:ot,type:pt};if(ue(this,We)===-1){ue(this,Ze).length>0&&(ue(this,Ze).length=0),et(this,We,0),ue(this,Ze).push(Xe);return}if(Ne&&ue(this,Ze)[ue(this,We)].type===pt){we&&(Xe.undo=ue(this,Ze)[ue(this,We)].undo),ue(this,Ze)[ue(this,We)]=Xe;return}const st=ue(this,We)+1;st===ue(this,St)?ue(this,Ze).splice(0,1):(et(this,We,st),st<ue(this,Ze).length&&ue(this,Ze).splice(st)),ue(this,Ze).push(Xe)}undo(){ue(this,We)!==-1&&(et(this,ut,!0),ue(this,Ze)[ue(this,We)].undo(),et(this,ut,!1),et(this,We,ue(this,We)-1))}redo(){ue(this,We)<ue(this,Ze).length-1&&(et(this,We,ue(this,We)+1),et(this,ut,!0),ue(this,Ze)[ue(this,We)].cmd(),et(this,ut,!1))}hasSomethingToUndo(){return ue(this,We)!==-1}hasSomethingToRedo(){return ue(this,We)<ue(this,Ze).length-1}destroy(){et(this,Ze,null)}}Ze=new WeakMap,ut=new WeakMap,St=new WeakMap,We=new WeakMap,s.CommandManager=b;var i=new WeakSet;class v{constructor(Re){m(this,i),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:qe}=a.FeatureTest.platform;for(const[ot,$e]of Re)for(const pt of ot){const Ne=pt.startsWith("mac+");qe&&Ne?(this.callbacks.set(pt.slice(4),$e),this.allKeys.add(pt.split("+").at(-1))):!qe&&!Ne&&(this.callbacks.set(pt,$e),this.allKeys.add(pt.split("+").at(-1)))}}exec(Re,qe){if(!this.allKeys.has(qe.key))return;const ot=this.callbacks.get(d(this,i,w).call(this,qe));ot&&(ot.bind(Re)(),qe.stopPropagation(),qe.preventDefault())}}s.KeyboardManager=v;function w(ze){ze.altKey&&this.buffer.push("alt"),ze.ctrlKey&&this.buffer.push("ctrl"),ze.metaKey&&this.buffer.push("meta"),ze.shiftKey&&this.buffer.push("shift"),this.buffer.push(ze.key);const Re=this.buffer.join("+");return this.buffer.length=0,Re}const it=class it{get _colors(){const Re=new Map([["CanvasText",null],["Canvas",null]]);return(0,h.getColorValues)(Re),(0,a.shadow)(this,"_colors",Re)}convert(Re){const qe=(0,h.getRGB)(Re);if(!window.matchMedia("(forced-colors: active)").matches)return qe;for(const[ot,$e]of this._colors)if($e.every((pt,Ne)=>pt===qe[Ne]))return it._colorsMapping.get(ot);return qe}getHexCode(Re){const qe=this._colors.get(Re);return qe?a.Util.makeHexColor(...qe):Re}};kt(it,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let E=it;s.ColorManager=E;var I=new WeakMap,G=new WeakMap,K=new WeakMap,he=new WeakMap,Ce=new WeakMap,be=new WeakMap,ve=new WeakMap,Z=new WeakMap,Q=new WeakMap,ee=new WeakMap,fe=new WeakMap,V=new WeakMap,z=new WeakMap,L=new WeakMap,P=new WeakMap,k=new WeakMap,N=new WeakMap,j=new WeakMap,q=new WeakMap,te=new WeakMap,se=new WeakMap,re=new WeakMap,ce=new WeakMap,H=new WeakSet,W=new WeakSet,ne=new WeakSet,$=new WeakSet,R=new WeakSet,U=new WeakSet,X=new WeakSet,J=new WeakSet,le=new WeakSet,ae=new WeakSet,pe=new WeakSet;class oe{constructor(Re,qe,ot){m(this,pe),m(this,ae),m(this,le),m(this,J),m(this,X),m(this,U),m(this,R),m(this,$),m(this,ne),m(this,W),m(this,H),O(this,I,{writable:!0,value:null}),O(this,G,{writable:!0,value:new Map}),O(this,K,{writable:!0,value:new Map}),O(this,he,{writable:!0,value:null}),O(this,Ce,{writable:!0,value:new b}),O(this,be,{writable:!0,value:0}),O(this,ve,{writable:!0,value:null}),O(this,Z,{writable:!0,value:new Set}),O(this,Q,{writable:!0,value:null}),O(this,ee,{writable:!0,value:new _}),O(this,fe,{writable:!0,value:!1}),O(this,V,{writable:!0,value:a.AnnotationEditorType.NONE}),O(this,z,{writable:!0,value:new Set}),O(this,L,{writable:!0,value:this.copy.bind(this)}),O(this,P,{writable:!0,value:this.cut.bind(this)}),O(this,k,{writable:!0,value:this.paste.bind(this)}),O(this,N,{writable:!0,value:this.keydown.bind(this)}),O(this,j,{writable:!0,value:this.onEditingAction.bind(this)}),O(this,q,{writable:!0,value:this.onPageChanging.bind(this)}),O(this,te,{writable:!0,value:this.onScaleChanging.bind(this)}),O(this,se,{writable:!0,value:this.onRotationChanging.bind(this)}),O(this,re,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),O(this,ce,{writable:!0,value:null}),x(this,ce,Re),x(this,Q,qe),o(this,Q)._on("editingaction",o(this,j)),o(this,Q)._on("pagechanging",o(this,q)),o(this,Q)._on("scalechanging",o(this,te)),o(this,Q)._on("rotationchanging",o(this,se)),x(this,he,ot),this.viewParameters={realScale:h.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){d(this,W,Ae).call(this),o(this,Q)._off("editingaction",o(this,j)),o(this,Q)._off("pagechanging",o(this,q)),o(this,Q)._off("scalechanging",o(this,te)),o(this,Q)._off("rotationchanging",o(this,se));for(const Re of o(this,K).values())Re.destroy();o(this,K).clear(),o(this,G).clear(),o(this,Z).clear(),x(this,I,null),o(this,z).clear(),o(this,Ce).destroy()}onPageChanging(Re){let{pageNumber:qe}=Re;x(this,be,qe-1)}focusMainContainer(){o(this,ce).focus()}addShouldRescale(Re){o(this,Z).add(Re)}removeShouldRescale(Re){o(this,Z).delete(Re)}onScaleChanging(Re){let{scale:qe}=Re;this.commitOrRemove(),this.viewParameters.realScale=qe*h.PixelsPerInch.PDF_TO_CSS_UNITS;for(const ot of o(this,Z))ot.onScaleChanging()}onRotationChanging(Re){let{pagesRotation:qe}=Re;this.commitOrRemove(),this.viewParameters.rotation=qe}addToAnnotationStorage(Re){!Re.isEmpty()&&o(this,he)&&!o(this,he).has(Re.id)&&o(this,he).setValue(Re.id,Re)}copy(Re){if(Re.preventDefault(),o(this,I)&&o(this,I).commitOrRemove(),!this.hasSelection)return;const qe=[];for(const ot of o(this,z))ot.isEmpty()||qe.push(ot.serialize());qe.length!==0&&Re.clipboardData.setData("application/pdfjs",JSON.stringify(qe))}cut(Re){this.copy(Re),this.delete()}paste(Re){Re.preventDefault();let qe=Re.clipboardData.getData("application/pdfjs");if(!qe)return;try{qe=JSON.parse(qe)}catch($e){(0,a.warn)(`paste: "${$e.message}".`);return}if(!Array.isArray(qe))return;this.unselectAll();const ot=o(this,K).get(o(this,be));try{const $e=[];for(const we of qe){const Xe=ot.deserialize(we);if(!Xe)return;$e.push(Xe)}const pt=()=>{for(const we of $e)d(this,le,me).call(this,we);d(this,pe,Se).call(this,$e)},Ne=()=>{for(const we of $e)we.remove()};this.addCommands({cmd:pt,undo:Ne,mustExec:!0})}catch($e){(0,a.warn)(`paste: "${$e.message}".`)}}keydown(Re){var qe;(qe=this.getActive())!==null&&qe!==void 0&&qe.shouldGetKeyboardEvents()||oe._keyboardManager.exec(this,Re)}onEditingAction(Re){["undo","redo","delete","selectAll"].includes(Re.name)&&this[Re.name]()}setEditingState(Re){Re?(d(this,H,_e).call(this),d(this,ne,ke).call(this),d(this,R,Fe).call(this,{isEditing:o(this,V)!==a.AnnotationEditorType.NONE,isEmpty:d(this,ae,de).call(this),hasSomethingToUndo:o(this,Ce).hasSomethingToUndo(),hasSomethingToRedo:o(this,Ce).hasSomethingToRedo(),hasSelectedEditor:!1})):(d(this,W,Ae).call(this),d(this,$,Me).call(this),d(this,R,Fe).call(this,{isEditing:!1}))}registerEditorTypes(Re){if(!o(this,ve)){x(this,ve,Re);for(const qe of o(this,ve))d(this,U,Ge).call(this,qe.defaultPropertiesToUpdate)}}getId(){return o(this,ee).getId()}get currentLayer(){return o(this,K).get(o(this,be))}get currentPageIndex(){return o(this,be)}addLayer(Re){o(this,K).set(Re.pageIndex,Re),o(this,fe)?Re.enable():Re.disable()}removeLayer(Re){o(this,K).delete(Re.pageIndex)}updateMode(Re){if(x(this,V,Re),Re===a.AnnotationEditorType.NONE)this.setEditingState(!1),d(this,J,De).call(this);else{this.setEditingState(!0),d(this,X,at).call(this);for(const qe of o(this,K).values())qe.updateMode(Re)}}updateToolbar(Re){Re!==o(this,V)&&o(this,Q).dispatch("switchannotationeditormode",{source:this,mode:Re})}updateParams(Re,qe){if(o(this,ve)){for(const ot of o(this,z))ot.updateParams(Re,qe);for(const ot of o(this,ve))ot.updateDefaultParams(Re,qe)}}getEditors(Re){const qe=[];for(const ot of o(this,G).values())ot.pageIndex===Re&&qe.push(ot);return qe}getEditor(Re){return o(this,G).get(Re)}addEditor(Re){o(this,G).set(Re.id,Re)}removeEditor(Re){var qe;o(this,G).delete(Re.id),this.unselect(Re),(qe=o(this,he))===null||qe===void 0||qe.remove(Re.id)}setActiveEditor(Re){o(this,I)!==Re&&(x(this,I,Re),Re&&d(this,U,Ge).call(this,Re.propertiesToUpdate))}toggleSelected(Re){if(o(this,z).has(Re)){o(this,z).delete(Re),Re.unselect(),d(this,R,Fe).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,z).add(Re),Re.select(),d(this,U,Ge).call(this,Re.propertiesToUpdate),d(this,R,Fe).call(this,{hasSelectedEditor:!0})}setSelected(Re){for(const qe of o(this,z))qe!==Re&&qe.unselect();o(this,z).clear(),o(this,z).add(Re),Re.select(),d(this,U,Ge).call(this,Re.propertiesToUpdate),d(this,R,Fe).call(this,{hasSelectedEditor:!0})}isSelected(Re){return o(this,z).has(Re)}unselect(Re){Re.unselect(),o(this,z).delete(Re),d(this,R,Fe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,z).size!==0}undo(){o(this,Ce).undo(),d(this,R,Fe).call(this,{hasSomethingToUndo:o(this,Ce).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:d(this,ae,de).call(this)})}redo(){o(this,Ce).redo(),d(this,R,Fe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,Ce).hasSomethingToRedo(),isEmpty:d(this,ae,de).call(this)})}addCommands(Re){o(this,Ce).add(Re),d(this,R,Fe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:d(this,ae,de).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Re=[...o(this,z)],qe=()=>{for(const $e of Re)$e.remove()},ot=()=>{for(const $e of Re)d(this,le,me).call(this,$e)};this.addCommands({cmd:qe,undo:ot,mustExec:!0})}commitOrRemove(){var Re;(Re=o(this,I))===null||Re===void 0||Re.commitOrRemove()}selectAll(){for(const Re of o(this,z))Re.commit();d(this,pe,Se).call(this,o(this,G).values())}unselectAll(){if(o(this,I)){o(this,I).commitOrRemove();return}if(o(this,z).size!==0){for(const Re of o(this,z))Re.unselect();o(this,z).clear(),d(this,R,Fe).call(this,{hasSelectedEditor:!1})}}isActive(Re){return o(this,I)===Re}getActive(){return o(this,I)}getMode(){return o(this,V)}}s.AnnotationEditorUIManager=oe;function _e(){o(this,ce).addEventListener("keydown",o(this,N))}function Ae(){o(this,ce).removeEventListener("keydown",o(this,N))}function ke(){document.addEventListener("copy",o(this,L)),document.addEventListener("cut",o(this,P)),document.addEventListener("paste",o(this,k))}function Me(){document.removeEventListener("copy",o(this,L)),document.removeEventListener("cut",o(this,P)),document.removeEventListener("paste",o(this,k))}function Fe(ze){Object.entries(ze).some(qe=>{let[ot,$e]=qe;return o(this,re)[ot]!==$e})&&o(this,Q).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,re),ze)})}function Ge(ze){o(this,Q).dispatch("annotationeditorparamschanged",{source:this,details:ze})}function at(){if(!o(this,fe)){x(this,fe,!0);for(const ze of o(this,K).values())ze.enable()}}function De(){if(this.unselectAll(),o(this,fe)){x(this,fe,!1);for(const ze of o(this,K).values())ze.disable()}}function me(ze){const Re=o(this,K).get(ze.pageIndex);Re?Re.addOrRebuild(ze):this.addEditor(ze)}function de(){if(o(this,G).size===0)return!0;if(o(this,G).size===1)for(const ze of o(this,G).values())return ze.isEmpty();return!1}function Se(ze){o(this,z).clear();for(const Re of ze)Re.isEmpty()||(o(this,z).add(Re),Re.select());d(this,R,Fe).call(this,{hasSelectedEditor:!0})}T(oe,"_keyboardManager",new v([[["ctrl+a","mac+meta+a"],oe.prototype.selectAll],[["ctrl+z","mac+meta+z"],oe.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],oe.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],oe.prototype.delete],[["Escape","mac+Escape"],oe.prototype.unselectAll]]))},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=v,s.getColorValues=K,s.getCurrentTransform=he,s.getCurrentTransformInverse=Ce,s.getFilenameFromUrl=f,s.getPdfFilenameFromUrl=C,s.getRGB=G,s.getXfaPageViewport=I,s.isDataScheme=p,s.isPdfFile=d,s.isValidFetchUrl=b,s.loadScript=i,s.setLayerDimensions=be;var a=l(140),h=l(1);const T="http://www.w3.org/2000/svg",F="pdfjs_internal_id_";s.AnnotationPrefix=F;const ve=class ve{};kt(ve,"CSS",96),kt(ve,"PDF",72),kt(ve,"PDF_TO_CSS_UNITS",ve.CSS/ve.PDF);let B=ve;s.PixelsPerInch=B;class O extends a.BaseCanvasFactory{constructor(){let{ownerDocument:Q=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Q}_createCanvas(Q,ee){const fe=this._document.createElement("canvas");return fe.width=Q,fe.height=ee,fe}}s.DOMCanvasFactory=O;async function o(Z){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(b(Z,document.baseURI)){const ee=await fetch(Z);if(!ee.ok)throw new Error(ee.statusText);return Q?new Uint8Array(await ee.arrayBuffer()):(0,h.stringToBytes)(await ee.text())}return new Promise((ee,fe)=>{const V=new XMLHttpRequest;V.open("GET",Z,!0),Q&&(V.responseType="arraybuffer"),V.onreadystatechange=()=>{if(V.readyState===XMLHttpRequest.DONE){if(V.status===200||V.status===0){let z;if(Q&&V.response?z=new Uint8Array(V.response):!Q&&V.responseText&&(z=(0,h.stringToBytes)(V.responseText)),z){ee(z);return}}fe(new Error(V.statusText))}},V.send(null)})}class g extends a.BaseCMapReaderFactory{_fetchData(Q,ee){return o(Q,this.isCompressed).then(fe=>({cMapData:fe,compressionType:ee}))}}s.DOMCMapReaderFactory=g;class x extends a.BaseStandardFontDataFactory{_fetchData(Q){return o(Q,!0)}}s.DOMStandardFontDataFactory=x;class y extends a.BaseSVGFactory{_createSVG(Q){return document.createElementNS(T,Q)}}s.DOMSVGFactory=y;class A{constructor(Q){let{viewBox:ee,scale:fe,rotation:V,offsetX:z=0,offsetY:L=0,dontFlip:P=!1}=Q;this.viewBox=ee,this.scale=fe,this.rotation=V,this.offsetX=z,this.offsetY=L;const k=(ee[2]+ee[0])/2,N=(ee[3]+ee[1])/2;let j,q,te,se;switch(V%=360,V<0&&(V+=360),V){case 180:j=-1,q=0,te=0,se=1;break;case 90:j=0,q=1,te=1,se=0;break;case 270:j=0,q=-1,te=-1,se=0;break;case 0:j=1,q=0,te=0,se=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}P&&(te=-te,se=-se);let re,ce,H,W;j===0?(re=Math.abs(N-ee[1])*fe+z,ce=Math.abs(k-ee[0])*fe+L,H=(ee[3]-ee[1])*fe,W=(ee[2]-ee[0])*fe):(re=Math.abs(k-ee[0])*fe+z,ce=Math.abs(N-ee[1])*fe+L,H=(ee[2]-ee[0])*fe,W=(ee[3]-ee[1])*fe),this.transform=[j*fe,q*fe,te*fe,se*fe,re-j*fe*k-te*fe*N,ce-q*fe*k-se*fe*N],this.width=H,this.height=W}get rawDims(){const{viewBox:Q}=this;return(0,h.shadow)(this,"rawDims",{pageWidth:Q[2]-Q[0],pageHeight:Q[3]-Q[1],pageX:Q[0],pageY:Q[1]})}clone(){let{scale:Q=this.scale,rotation:ee=this.rotation,offsetX:fe=this.offsetX,offsetY:V=this.offsetY,dontFlip:z=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new A({viewBox:this.viewBox.slice(),scale:Q,rotation:ee,offsetX:fe,offsetY:V,dontFlip:z})}convertToViewportPoint(Q,ee){return h.Util.applyTransform([Q,ee],this.transform)}convertToViewportRectangle(Q){const ee=h.Util.applyTransform([Q[0],Q[1]],this.transform),fe=h.Util.applyTransform([Q[2],Q[3]],this.transform);return[ee[0],ee[1],fe[0],fe[1]]}convertToPdfPoint(Q,ee){return h.Util.applyInverseTransform([Q,ee],this.transform)}}s.PageViewport=A;class m extends h.BaseException{constructor(Q,ee){let fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;super(Q,"RenderingCancelledException"),this.type=ee,this.extraDelay=fe}}s.RenderingCancelledException=m;function p(Z){const Q=Z.length;let ee=0;for(;ee<Q&&Z[ee].trim()==="";)ee++;return Z.substring(ee,ee+5).toLowerCase()==="data:"}function d(Z){return typeof Z=="string"&&/\.pdf$/i.test(Z)}function f(Z){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([Z]=Z.split(/[#?]/,1)),Z.substring(Z.lastIndexOf("/")+1)}function C(Z){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof Z!="string")return Q;if(p(Z))return(0,h.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Q;const ee=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,fe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,V=ee.exec(Z);let z=fe.exec(V[1])||fe.exec(V[2])||fe.exec(V[3]);if(z&&(z=z[0],z.includes("%")))try{z=fe.exec(decodeURIComponent(z))[0]}catch{}return z||Q}class _{constructor(){kt(this,"started",Object.create(null));kt(this,"times",[])}time(Q){Q in this.started&&(0,h.warn)(`Timer is already running for ${Q}`),this.started[Q]=Date.now()}timeEnd(Q){Q in this.started||(0,h.warn)(`Timer has not been started for ${Q}`),this.times.push({name:Q,start:this.started[Q],end:Date.now()}),delete this.started[Q]}toString(){const Q=[];let ee=0;for(const{name:fe}of this.times)ee=Math.max(fe.length,ee);for(const{name:fe,start:V,end:z}of this.times)Q.push(`${fe.padEnd(ee)} ${z-V}ms
`);return Q.join("")}}s.StatTimer=_;function b(Z,Q){try{const{protocol:ee}=Q?new URL(Z,Q):new URL(Z);return ee==="http:"||ee==="https:"}catch{return!1}}function i(Z){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((ee,fe)=>{const V=document.createElement("script");V.src=Z,V.onload=function(z){Q&&V.remove(),ee(z)},V.onerror=function(){fe(new Error(`Cannot load script at: ${V.src}`))},(document.head||document.documentElement).append(V)})}function v(Z){console.log("Deprecated API usage: "+Z)}let w;class E{static toDateObject(Q){if(!Q||typeof Q!="string")return null;w||(w=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ee=w.exec(Q);if(!ee)return null;const fe=parseInt(ee[1],10);let V=parseInt(ee[2],10);V=V>=1&&V<=12?V-1:0;let z=parseInt(ee[3],10);z=z>=1&&z<=31?z:1;let L=parseInt(ee[4],10);L=L>=0&&L<=23?L:0;let P=parseInt(ee[5],10);P=P>=0&&P<=59?P:0;let k=parseInt(ee[6],10);k=k>=0&&k<=59?k:0;const N=ee[7]||"Z";let j=parseInt(ee[8],10);j=j>=0&&j<=23?j:0;let q=parseInt(ee[9],10)||0;return q=q>=0&&q<=59?q:0,N==="-"?(L+=j,P+=q):N==="+"&&(L-=j,P-=q),new Date(Date.UTC(fe,V,z,L,P,k))}}s.PDFDateString=E;function I(Z,Q){let{scale:ee=1,rotation:fe=0}=Q;const{width:V,height:z}=Z.attributes.style,L=[0,0,parseInt(V),parseInt(z)];return new A({viewBox:L,scale:ee,rotation:fe})}function G(Z){if(Z.startsWith("#")){const Q=parseInt(Z.slice(1),16);return[(Q&16711680)>>16,(Q&65280)>>8,Q&255]}return Z.startsWith("rgb(")?Z.slice(4,-1).split(",").map(Q=>parseInt(Q)):Z.startsWith("rgba(")?Z.slice(5,-1).split(",").map(Q=>parseInt(Q)).slice(0,3):((0,h.warn)(`Not a valid color format: "${Z}"`),[0,0,0])}function K(Z){const Q=document.createElement("span");Q.style.visibility="hidden",document.body.append(Q);for(const ee of Z.keys()){Q.style.color=ee;const fe=window.getComputedStyle(Q).color;Z.set(ee,G(fe))}Q.remove()}function he(Z){const{a:Q,b:ee,c:fe,d:V,e:z,f:L}=Z.getTransform();return[Q,ee,fe,V,z,L]}function Ce(Z){const{a:Q,b:ee,c:fe,d:V,e:z,f:L}=Z.getTransform().invertSelf();return[Q,ee,fe,V,z,L]}function be(Z,Q){let ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Q instanceof A){const{pageWidth:V,pageHeight:z}=Q.rawDims,{style:L}=Z,P=`calc(var(--scale-factor) * ${V}px)`,k=`calc(var(--scale-factor) * ${z}px)`;!ee||Q.rotation%180===0?(L.width=P,L.height=k):(L.width=k,L.height=P)}fe&&Z.setAttribute("data-main-rotation",Q.rotation)}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=l(1);class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(o,g){if(o<=0||g<=0)throw new Error("Invalid canvas size");const x=this._createCanvas(o,g);return{canvas:x,context:x.getContext("2d")}}reset(o,g,x){if(!o.canvas)throw new Error("Canvas is not specified");if(g<=0||x<=0)throw new Error("Invalid canvas size");o.canvas.width=g,o.canvas.height=x}destroy(o){if(!o.canvas)throw new Error("Canvas is not specified");o.canvas.width=0,o.canvas.height=0,o.canvas=null,o.context=null}_createCanvas(o,g){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=h;class T{constructor(o){let{baseUrl:g=null,isCompressed:x=!0}=o;this.constructor===T&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=x}async fetch(o){let{name:g}=o;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const x=this.baseUrl+g+(this.isCompressed?".bcmap":""),y=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(x,y).catch(A=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${x}`)})}_fetchData(o,g){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=T;class F{constructor(o){let{baseUrl:g=null}=o;this.constructor===F&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch(o){let{filename:g}=o;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const x=`${this.baseUrl}${g}`;return this._fetchData(x).catch(y=>{throw new Error(`Unable to load font data at: ${x}`)})}_fetchData(o){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=F;class B{constructor(){this.constructor===B&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(o,g){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(o<=0||g<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),x||(y.setAttribute("width",`${o}px`),y.setAttribute("height",`${g}px`)),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${o} ${g}`),y}createElement(o){if(typeof o!="string")throw new Error("Invalid SVG element type");return this._createSVG(o)}_createSVG(o){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=l(1);const h=3285377520,T=4294901760,F=65535;class B{constructor(o){this.h1=o?o&4294967295:h,this.h2=o?o&4294967295:h}update(o){let g,x;if(typeof o=="string"){g=new Uint8Array(o.length*2),x=0;for(let w=0,E=o.length;w<E;w++){const I=o.charCodeAt(w);I<=255?g[x++]=I:(g[x++]=I>>>8,g[x++]=I&255)}}else if((0,a.isArrayBuffer)(o))g=o.slice(),x=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=x>>2,A=x-y*4,m=new Uint32Array(g.buffer,0,y);let p=0,d=0,f=this.h1,C=this.h2;const _=3432918353,b=461845907,i=_&F,v=b&F;for(let w=0;w<y;w++)w&1?(p=m[w],p=p*_&T|p*i&F,p=p<<15|p>>>17,p=p*b&T|p*v&F,f^=p,f=f<<13|f>>>19,f=f*5+3864292196):(d=m[w],d=d*_&T|d*i&F,d=d<<15|d>>>17,d=d*b&T|d*v&F,C^=d,C=C<<13|C>>>19,C=C*5+3864292196);switch(p=0,A){case 3:p^=g[y*4+2]<<16;case 2:p^=g[y*4+1]<<8;case 1:p^=g[y*4],p=p*_&T|p*i&F,p=p<<15|p>>>17,p=p*b&T|p*v&F,y&1?f^=p:C^=p}this.h1=f,this.h2=C}hexdigest(){let o=this.h1,g=this.h2;return o^=g>>>1,o=o*3981806797&T|o*36045&F,g=g*4283543511&T|((g<<16|o>>>16)*2950163797&T)>>>16,o^=g>>>1,o=o*444984403&T|o*60499&F,g=g*3301882366&T|((g<<16|o>>>16)*3120437893&T)>>>16,o^=g>>>1,(o>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=l(1),h=l(3);class T{constructor(O){let{onUnsupportedFeature:o,ownerDocument:g=globalThis.document,styleElement:x=null}=O;this._onUnsupportedFeature=o,this._document=g,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}insertRule(O){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const o=this.styleElement.sheet;o.insertRule(O,o.cssRules.length)}clear(){for(const O of this.nativeFontFaces)this._document.fonts.delete(O);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(O){if(O.attached||O.missingFile)return;if(O.attached=!0,this.isFontLoadingAPISupported){const g=O.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(x){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${g.family}': '${x}'.`),O.disableFontFace=!0,x}}return}const o=O.createFontFaceRule();if(o){if(this.insertRule(o),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const x=this._queueLoadingCallback(g);this._prepareFontLoadEvent(O,x)})}}get isFontLoadingAPISupported(){var O;const o=!!((O=this._document)!==null&&O!==void 0&&O.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",o)}get isSyncFontLoadingSupported(){let O=!1;return(h.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(O=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",O)}_queueLoadingCallback(O){function o(){for((0,a.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;g.length>0&&g[0].done;){const y=g.shift();setTimeout(y.callback,0)}}const{loadingRequests:g}=this,x={done:!1,complete:o,callback:O};return g.push(x),x}get _loadTestFont(){const O=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",O)}_prepareFontLoadEvent(O,o){function g(K,he){return K.charCodeAt(he)<<24|K.charCodeAt(he+1)<<16|K.charCodeAt(he+2)<<8|K.charCodeAt(he+3)&255}function x(K,he,Ce,be){const ve=K.substring(0,he),Z=K.substring(he+Ce);return ve+be+Z}let y,A;const m=this._document.createElement("canvas");m.width=1,m.height=1;const p=m.getContext("2d");let d=0;function f(K,he){if(++d>30){(0,a.warn)("Load test font never loaded."),he();return}if(p.font="30px "+K,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){he();return}setTimeout(f.bind(null,K,he))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let _=this._loadTestFont;_=x(_,976,C.length,C);const i=16,v=1482184792;let w=g(_,i);for(y=0,A=C.length-3;y<A;y+=4)w=w-v+g(C,y)|0;y<C.length&&(w=w-v+g(C+"XXX",y)|0),_=x(_,i,4,(0,a.string32)(w));const E=`url(data:font/opentype;base64,${btoa(_)});`,I=`@font-face {font-family:"${C}";src:${E}}`;this.insertRule(I);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const K of[O.loadedName,C]){const he=this._document.createElement("span");he.textContent="Hi",he.style.fontFamily=K,G.append(he)}this._document.body.append(G),f(C,()=>{G.remove(),o.complete()})}}s.FontLoader=T;class F{constructor(O,o){let{isEvalSupported:g=!0,disableFontFace:x=!1,ignoreErrors:y=!1,onUnsupportedFeature:A,fontRegistry:m=null}=o;this.compiledGlyphs=Object.create(null);for(const p in O)this[p]=O[p];this.isEvalSupported=g!==!1,this.disableFontFace=x===!0,this.ignoreErrors=y===!0,this._onUnsupportedFeature=A,this.fontRegistry=m}createNativeFontFace(){var O;if(!this.data||this.disableFontFace)return null;let o;if(!this.cssFontInfo)o=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),o=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(O=this.fontRegistry)===null||O===void 0||O.registerFont(this),o}createFontFaceRule(){var O;if(!this.data||this.disableFontFace)return null;const o=(0,a.bytesToString)(this.data),g=`url(data:${this.mimetype};base64,${btoa(o)});`;let x;if(!this.cssFontInfo)x=`@font-face {font-family:"${this.loadedName}";src:${g}}`;else{let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),x=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${g}}`}return(O=this.fontRegistry)===null||O===void 0||O.registerFont(this,g),x}getPathGenerator(O,o){if(this.compiledGlyphs[o]!==void 0)return this.compiledGlyphs[o];let g;try{g=O.get(this.loadedName+"_path_"+o)}catch(x){if(!this.ignoreErrors)throw x;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[o]=function(y,A){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const x=[];for(const y of g){const A=y.args!==void 0?y.args.join(","):"";x.push("c.",y.cmd,"(",A,`);
`)}return this.compiledGlyphs[o]=new Function("c","size",x.join(""))}return this.compiledGlyphs[o]=function(x,y){for(const A of g)A.cmd==="scale"&&(A.args=[y,-y]),x[A.cmd].apply(x,A.args)}}}s.FontFaceObject=F},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=l(1),h=l(139),T=l(144),F=l(145);function B(P,k){O(P,k),k.add(P)}function O(P,k){if(k.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(P,k,N){if(!k.has(P))throw new TypeError("attempted to get private field on non-instance");return N}const g=16,x=100,y=4096,A=15,m=10,p=1e3,d=16;function f(P,k){if(P._removeMirroring)throw new Error("Context is already forwarding operations.");P.__originalSave=P.save,P.__originalRestore=P.restore,P.__originalRotate=P.rotate,P.__originalScale=P.scale,P.__originalTranslate=P.translate,P.__originalTransform=P.transform,P.__originalSetTransform=P.setTransform,P.__originalResetTransform=P.resetTransform,P.__originalClip=P.clip,P.__originalMoveTo=P.moveTo,P.__originalLineTo=P.lineTo,P.__originalBezierCurveTo=P.bezierCurveTo,P.__originalRect=P.rect,P.__originalClosePath=P.closePath,P.__originalBeginPath=P.beginPath,P._removeMirroring=()=>{P.save=P.__originalSave,P.restore=P.__originalRestore,P.rotate=P.__originalRotate,P.scale=P.__originalScale,P.translate=P.__originalTranslate,P.transform=P.__originalTransform,P.setTransform=P.__originalSetTransform,P.resetTransform=P.__originalResetTransform,P.clip=P.__originalClip,P.moveTo=P.__originalMoveTo,P.lineTo=P.__originalLineTo,P.bezierCurveTo=P.__originalBezierCurveTo,P.rect=P.__originalRect,P.closePath=P.__originalClosePath,P.beginPath=P.__originalBeginPath,delete P._removeMirroring},P.save=function(){k.save(),this.__originalSave()},P.restore=function(){k.restore(),this.__originalRestore()},P.translate=function(j,q){k.translate(j,q),this.__originalTranslate(j,q)},P.scale=function(j,q){k.scale(j,q),this.__originalScale(j,q)},P.transform=function(j,q,te,se,re,ce){k.transform(j,q,te,se,re,ce),this.__originalTransform(j,q,te,se,re,ce)},P.setTransform=function(j,q,te,se,re,ce){k.setTransform(j,q,te,se,re,ce),this.__originalSetTransform(j,q,te,se,re,ce)},P.resetTransform=function(){k.resetTransform(),this.__originalResetTransform()},P.rotate=function(j){k.rotate(j),this.__originalRotate(j)},P.clip=function(j){k.clip(j),this.__originalClip(j)},P.moveTo=function(N,j){k.moveTo(N,j),this.__originalMoveTo(N,j)},P.lineTo=function(N,j){k.lineTo(N,j),this.__originalLineTo(N,j)},P.bezierCurveTo=function(N,j,q,te,se,re){k.bezierCurveTo(N,j,q,te,se,re),this.__originalBezierCurveTo(N,j,q,te,se,re)},P.rect=function(N,j,q,te){k.rect(N,j,q,te),this.__originalRect(N,j,q,te)},P.closePath=function(){k.closePath(),this.__originalClosePath()},P.beginPath=function(){k.beginPath(),this.__originalBeginPath()}}class C{constructor(k){this.canvasFactory=k,this.cache=Object.create(null)}getCanvas(k,N,j){let q;return this.cache[k]!==void 0?(q=this.cache[k],this.canvasFactory.reset(q,N,j)):(q=this.canvasFactory.create(N,j),this.cache[k]=q),q}delete(k){delete this.cache[k]}clear(){for(const k in this.cache){const N=this.cache[k];this.canvasFactory.destroy(N),delete this.cache[k]}}}function _(P,k,N,j,q,te,se,re,ce,H){const[W,ne,$,R,U,X]=(0,h.getCurrentTransform)(P);if(ne===0&&$===0){const ae=se*W+U,pe=Math.round(ae),oe=re*R+X,_e=Math.round(oe),Ae=(se+ce)*W+U,ke=Math.abs(Math.round(Ae)-pe)||1,Me=(re+H)*R+X,Fe=Math.abs(Math.round(Me)-_e)||1;return P.setTransform(Math.sign(W),0,0,Math.sign(R),pe,_e),P.drawImage(k,N,j,q,te,0,0,ke,Fe),P.setTransform(W,ne,$,R,U,X),[ke,Fe]}if(W===0&&R===0){const ae=re*$+U,pe=Math.round(ae),oe=se*ne+X,_e=Math.round(oe),Ae=(re+H)*$+U,ke=Math.abs(Math.round(Ae)-pe)||1,Me=(se+ce)*ne+X,Fe=Math.abs(Math.round(Me)-_e)||1;return P.setTransform(0,Math.sign(ne),Math.sign($),0,pe,_e),P.drawImage(k,N,j,q,te,0,0,Fe,ke),P.setTransform(W,ne,$,R,U,X),[Fe,ke]}P.drawImage(k,N,j,q,te,se,re,ce,H);const J=Math.hypot(W,ne),le=Math.hypot($,R);return[J*ce,le*H]}function b(P){const{width:k,height:N}=P;if(k>p||N>p)return null;const j=1e3,q=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),te=k+1;let se=new Uint8Array(te*(N+1)),re,ce,H;const W=k+7&-8;let ne=new Uint8Array(W*N),$=0;for(const le of P.data){let ae=128;for(;ae>0;)ne[$++]=le&ae?0:255,ae>>=1}let R=0;for($=0,ne[$]!==0&&(se[0]=1,++R),ce=1;ce<k;ce++)ne[$]!==ne[$+1]&&(se[ce]=ne[$]?2:1,++R),$++;for(ne[$]!==0&&(se[ce]=2,++R),re=1;re<N;re++){$=re*W,H=re*te,ne[$-W]!==ne[$]&&(se[H]=ne[$]?1:8,++R);let le=(ne[$]?4:0)+(ne[$-W]?8:0);for(ce=1;ce<k;ce++)le=(le>>2)+(ne[$+1]?4:0)+(ne[$-W+1]?8:0),q[le]&&(se[H+ce]=q[le],++R),$++;if(ne[$-W]!==ne[$]&&(se[H+ce]=ne[$]?2:4,++R),R>j)return null}for($=W*(N-1),H=re*te,ne[$]!==0&&(se[H]=8,++R),ce=1;ce<k;ce++)ne[$]!==ne[$+1]&&(se[H+ce]=ne[$]?4:8,++R),$++;if(ne[$]!==0&&(se[H+ce]=4,++R),R>j)return null;const U=new Int32Array([0,te,-1,0,-te,0,0,0,1]),X=new Path2D;for(re=0;R&&re<=N;re++){let le=re*te;const ae=le+k;for(;le<ae&&!se[le];)le++;if(le===ae)continue;X.moveTo(le%te,re);const pe=le;let oe=se[le];do{const _e=U[oe];do le+=_e;while(!se[le]);const Ae=se[le];Ae!==5&&Ae!==10?(oe=Ae,se[le]=0):(oe=Ae&51*oe>>4,se[le]&=oe>>2|oe<<2),X.lineTo(le%te,le/te|0),se[le]||--R}while(pe!==le);--re}return ne=null,se=null,function(le){le.save(),le.scale(1/k,-1/N),le.translate(0,-N),le.fill(X),le.beginPath(),le.restore()}}class i{constructor(k,N){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,k,N])}clone(){const k=Object.create(this);return k.clipBox=this.clipBox.slice(),k}setCurrentPoint(k,N){this.x=k,this.y=N}updatePathMinMax(k,N,j){[N,j]=a.Util.applyTransform([N,j],k),this.minX=Math.min(this.minX,N),this.minY=Math.min(this.minY,j),this.maxX=Math.max(this.maxX,N),this.maxY=Math.max(this.maxY,j)}updateRectMinMax(k,N){const j=a.Util.applyTransform(N,k),q=a.Util.applyTransform(N.slice(2),k);this.minX=Math.min(this.minX,j[0],q[0]),this.minY=Math.min(this.minY,j[1],q[1]),this.maxX=Math.max(this.maxX,j[0],q[0]),this.maxY=Math.max(this.maxY,j[1],q[1])}updateScalingPathMinMax(k,N){a.Util.scaleMinMax(k,N),this.minX=Math.min(this.minX,N[0]),this.maxX=Math.max(this.maxX,N[1]),this.minY=Math.min(this.minY,N[2]),this.maxY=Math.max(this.maxY,N[3])}updateCurvePathMinMax(k,N,j,q,te,se,re,ce,H,W){const ne=a.Util.bezierBoundingBox(N,j,q,te,se,re,ce,H);if(W){W[0]=Math.min(W[0],ne[0],ne[2]),W[1]=Math.max(W[1],ne[0],ne[2]),W[2]=Math.min(W[2],ne[1],ne[3]),W[3]=Math.max(W[3],ne[1],ne[3]);return}this.updateRectMinMax(k,ne)}getPathBoundingBox(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.PathType.FILL,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const j=[this.minX,this.minY,this.maxX,this.maxY];if(k===T.PathType.STROKE){N||(0,a.unreachable)("Stroke bounding box must include transform.");const q=a.Util.singularValueDecompose2dScale(N),te=q[0]*this.lineWidth/2,se=q[1]*this.lineWidth/2;j[0]-=te,j[1]-=se,j[2]+=te,j[3]+=se}return j}updateClipFromPath(){const k=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(k||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(k){this.clipBox=k,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.PathType.FILL,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a.Util.intersect(this.clipBox,this.getPathBoundingBox(k,N))}}function v(P,k){let N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&k instanceof ImageData){P.putImageData(k,0,0);return}const j=k.height,q=k.width,te=j%d,se=(j-te)/d,re=te===0?se:se+1,ce=P.createImageData(q,d);let H=0,W;const ne=k.data,$=ce.data;let R,U,X,J,le,ae,pe,oe;if(N)switch(N.length){case 1:le=N[0],ae=N[0],pe=N[0],oe=N[0];break;case 4:le=N[0],ae=N[1],pe=N[2],oe=N[3];break}if(k.kind===a.ImageKind.GRAYSCALE_1BPP){const _e=ne.byteLength,Ae=new Uint32Array($.buffer,0,$.byteLength>>2),ke=Ae.length,Me=q+7>>3;let Fe=4294967295,Ge=a.FeatureTest.isLittleEndian?4278190080:255;for(oe&&oe[0]===255&&oe[255]===0&&([Fe,Ge]=[Ge,Fe]),R=0;R<re;R++){for(X=R<se?d:te,W=0,U=0;U<X;U++){const at=_e-H;let De=0;const me=at>Me?q:at*8-7,de=me&-8;let Se=0,Be=0;for(;De<de;De+=8)Be=ne[H++],Ae[W++]=Be&128?Fe:Ge,Ae[W++]=Be&64?Fe:Ge,Ae[W++]=Be&32?Fe:Ge,Ae[W++]=Be&16?Fe:Ge,Ae[W++]=Be&8?Fe:Ge,Ae[W++]=Be&4?Fe:Ge,Ae[W++]=Be&2?Fe:Ge,Ae[W++]=Be&1?Fe:Ge;for(;De<me;De++)Se===0&&(Be=ne[H++],Se=128),Ae[W++]=Be&Se?Fe:Ge,Se>>=1}for(;W<ke;)Ae[W++]=0;P.putImageData(ce,0,R*d)}}else if(k.kind===a.ImageKind.RGBA_32BPP){const _e=!!(le||ae||pe);for(U=0,J=q*d*4,R=0;R<se;R++){if($.set(ne.subarray(H,H+J)),H+=J,_e)for(let Ae=0;Ae<J;Ae+=4)le&&($[Ae+0]=le[$[Ae+0]]),ae&&($[Ae+1]=ae[$[Ae+1]]),pe&&($[Ae+2]=pe[$[Ae+2]]);P.putImageData(ce,0,U),U+=d}if(R<re){if(J=q*te*4,$.set(ne.subarray(H,H+J)),_e)for(let Ae=0;Ae<J;Ae+=4)le&&($[Ae+0]=le[$[Ae+0]]),ae&&($[Ae+1]=ae[$[Ae+1]]),pe&&($[Ae+2]=pe[$[Ae+2]]);P.putImageData(ce,0,U)}}else if(k.kind===a.ImageKind.RGB_24BPP){const _e=!!(le||ae||pe);for(X=d,J=q*X,R=0;R<re;R++){for(R>=se&&(X=te,J=q*X),W=0,U=J;U--;)$[W++]=ne[H++],$[W++]=ne[H++],$[W++]=ne[H++],$[W++]=255;if(_e)for(let Ae=0;Ae<W;Ae+=4)le&&($[Ae+0]=le[$[Ae+0]]),ae&&($[Ae+1]=ae[$[Ae+1]]),pe&&($[Ae+2]=pe[$[Ae+2]]);P.putImageData(ce,0,R*d)}}else throw new Error(`bad image kind: ${k.kind}`)}function w(P,k){if(k.bitmap){P.drawImage(k.bitmap,0,0);return}const N=k.height,j=k.width,q=N%d,te=(N-q)/d,se=q===0?te:te+1,re=P.createImageData(j,d);let ce=0;const H=k.data,W=re.data;for(let ne=0;ne<se;ne++){const $=ne<te?d:q;({srcPos:ce}=(0,F.applyMaskImageData)({src:H,srcPos:ce,dest:W,width:j,height:$})),P.putImageData(re,0,ne*d)}}function E(P,k){const N=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const j of N)P[j]!==void 0&&(k[j]=P[j]);P.setLineDash!==void 0&&(k.setLineDash(P.getLineDash()),k.lineDashOffset=P.lineDashOffset)}function I(P,k){P.strokeStyle=P.fillStyle=k||"#000000",P.fillRule="nonzero",P.globalAlpha=1,P.lineWidth=1,P.lineCap="butt",P.lineJoin="miter",P.miterLimit=10,P.globalCompositeOperation="source-over",P.font="10px sans-serif",P.setLineDash!==void 0&&(P.setLineDash([]),P.lineDashOffset=0)}function G(P,k,N,j){const q=P.length;for(let te=3;te<q;te+=4){const se=P[te];if(se===0)P[te-3]=k,P[te-2]=N,P[te-1]=j;else if(se<255){const re=255-se;P[te-3]=P[te-3]*se+k*re>>8,P[te-2]=P[te-2]*se+N*re>>8,P[te-1]=P[te-1]*se+j*re>>8}}}function K(P,k,N){const j=P.length,q=1/255;for(let te=3;te<j;te+=4){const se=N?N[P[te]]:P[te];k[te]=k[te]*se*q|0}}function he(P,k,N){const j=P.length;for(let q=3;q<j;q+=4){const te=P[q-3]*77+P[q-2]*152+P[q-1]*28;k[q]=N?k[q]*N[te>>8]>>8:k[q]*te>>16}}function Ce(P,k,N,j,q,te,se,re,ce,H,W){const ne=!!te,$=ne?te[0]:0,R=ne?te[1]:0,U=ne?te[2]:0;let X;q==="Luminosity"?X=he:X=K;const le=Math.min(j,Math.ceil(1048576/N));for(let ae=0;ae<j;ae+=le){const pe=Math.min(le,j-ae),oe=P.getImageData(re-H,ae+(ce-W),N,pe),_e=k.getImageData(re,ae+ce,N,pe);ne&&G(oe.data,$,R,U),X(oe.data,_e.data,se),k.putImageData(_e,re,ae+ce)}}function be(P,k,N,j){const q=j[0],te=j[1],se=j[2]-q,re=j[3]-te;se===0||re===0||(Ce(k.context,N,se,re,k.subtype,k.backdrop,k.transferMap,q,te,k.offsetX,k.offsetY),P.save(),P.globalAlpha=1,P.globalCompositeOperation="source-over",P.setTransform(1,0,0,1,0,0),P.drawImage(N.canvas,0,0),P.restore())}function ve(P,k){const N=a.Util.singularValueDecompose2dScale(P);N[0]=Math.fround(N[0]),N[1]=Math.fround(N[1]);const j=Math.fround((globalThis.devicePixelRatio||1)*h.PixelsPerInch.PDF_TO_CSS_UNITS);return k!==void 0?k:N[0]<=j||N[1]<=j}const Z=["butt","round","square"],Q=["miter","round","bevel"],ee={},fe={};var V=new WeakSet;class z{constructor(k,N,j,q,te,se,re){let{optionalContentConfig:ce,markedContentStack:H=null}=te;B(this,V),this.ctx=k,this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=N,this.objs=j,this.canvasFactory=q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=H||[],this.optionalContentConfig=ce,this.cachedCanvases=new C(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=se,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(re==null?void 0:re.background)||null,this.foregroundColor=(re==null?void 0:re.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(k){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof k=="string"?k.startsWith("g_")?this.commonObjs.get(k):this.objs.get(k):N}beginDrawing(k){let{transform:N,viewport:j,transparency:q=!1,background:te=null}=k;const se=this.ctx.canvas.width,re=this.ctx.canvas.height,ce=te||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const H=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const W=this.backgroundColor=this.ctx.fillStyle;let ne=!0,$=ce;if(this.ctx.fillStyle=ce,$=this.ctx.fillStyle,ne=typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($),H==="#000000"&&W==="#ffffff"||H===W||!ne)this.foregroundColor=this.backgroundColor=null;else{const[R,U,X]=(0,h.getRGB)($),J=ae=>(ae/=255,ae<=.03928?ae/12.92:((ae+.055)/1.055)**2.4),le=Math.round(.2126*J(R)+.7152*J(U)+.0722*J(X));this.selectColor=(ae,pe,oe)=>{const _e=.2126*J(ae)+.7152*J(pe)+.0722*J(oe);return Math.round(_e)===le?W:H}}}if(this.ctx.fillStyle=this.backgroundColor||ce,this.ctx.fillRect(0,0,se,re),this.ctx.restore(),q){const H=this.cachedCanvases.getCanvas("transparent",se,re);this.compositeCtx=this.ctx,this.transparentCanvas=H.canvas,this.ctx=H.context,this.ctx.save(),this.ctx.transform(...(0,h.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),I(this.ctx,this.foregroundColor),N&&(this.ctx.transform(...N),this.outputScaleX=N[0],this.outputScaleY=N[0]),this.ctx.transform(...j.transform),this.viewportScale=j.scale,this.baseTransform=(0,h.getCurrentTransform)(this.ctx)}executeOperatorList(k,N,j,q){const te=k.argsArray,se=k.fnArray;let re=N||0;const ce=te.length;if(ce===re)return re;const H=ce-re>m&&typeof j=="function",W=H?Date.now()+A:0;let ne=0;const $=this.commonObjs,R=this.objs;let U;for(;;){if(q!==void 0&&re===q.nextBreakPoint)return q.breakIt(re,j),re;if(U=se[re],U!==a.OPS.dependency)this[U].apply(this,te[re]);else for(const X of te[re]){const J=X.startsWith("g_")?$:R;if(!J.has(X))return J.get(X,j),re}if(re++,re===ce)return re;if(H&&++ne>m){if(Date.now()>W)return j(),re;ne=0}}}endDrawing(){o(this,V,L).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const k of this._cachedBitmapsMap.values()){for(const N of k.values())typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement&&(N.width=N.height=0);k.clear()}this._cachedBitmapsMap.clear()}_scaleImage(k,N){const j=k.width,q=k.height;let te=Math.max(Math.hypot(N[0],N[1]),1),se=Math.max(Math.hypot(N[2],N[3]),1),re=j,ce=q,H="prescale1",W,ne;for(;te>2&&re>1||se>2&&ce>1;){let $=re,R=ce;te>2&&re>1&&($=Math.ceil(re/2),te/=re/$),se>2&&ce>1&&(R=Math.ceil(ce/2),se/=ce/R),W=this.cachedCanvases.getCanvas(H,$,R),ne=W.context,ne.clearRect(0,0,$,R),ne.drawImage(k,0,0,re,ce,0,0,$,R),k=W.canvas,re=$,ce=R,H=H==="prescale1"?"prescale2":"prescale1"}return{img:k,paintWidth:re,paintHeight:ce}}_createMaskCanvas(k){const N=this.ctx,{width:j,height:q}=k,te=this.current.fillColor,se=this.current.patternFill,re=(0,h.getCurrentTransform)(N);let ce,H,W,ne;if((k.bitmap||k.data)&&k.count>1){const ke=k.bitmap||k.data.buffer;H=JSON.stringify(se?re:[re.slice(0,4),te]),ce=this._cachedBitmapsMap.get(ke),ce||(ce=new Map,this._cachedBitmapsMap.set(ke,ce));const Me=ce.get(H);if(Me&&!se){const Fe=Math.round(Math.min(re[0],re[2])+re[4]),Ge=Math.round(Math.min(re[1],re[3])+re[5]);return{canvas:Me,offsetX:Fe,offsetY:Ge}}W=Me}W||(ne=this.cachedCanvases.getCanvas("maskCanvas",j,q),w(ne.context,k));let $=a.Util.transform(re,[1/j,0,0,-1/q,0,0]);$=a.Util.transform($,[1,0,0,1,0,-q]);const R=a.Util.applyTransform([0,0],$),U=a.Util.applyTransform([j,q],$),X=a.Util.normalizeRect([R[0],R[1],U[0],U[1]]),J=Math.round(X[2]-X[0])||1,le=Math.round(X[3]-X[1])||1,ae=this.cachedCanvases.getCanvas("fillCanvas",J,le),pe=ae.context,oe=Math.min(R[0],U[0]),_e=Math.min(R[1],U[1]);pe.translate(-oe,-_e),pe.transform(...$),W||(W=this._scaleImage(ne.canvas,(0,h.getCurrentTransformInverse)(pe)),W=W.img,ce&&se&&ce.set(H,W)),pe.imageSmoothingEnabled=ve((0,h.getCurrentTransform)(pe),k.interpolate),_(pe,W,0,0,W.width,W.height,0,0,j,q),pe.globalCompositeOperation="source-in";const Ae=a.Util.transform((0,h.getCurrentTransformInverse)(pe),[1,0,0,1,-oe,-_e]);return pe.fillStyle=se?te.getPattern(N,this,Ae,T.PathType.FILL):te,pe.fillRect(0,0,j,q),ce&&!se&&(this.cachedCanvases.delete("fillCanvas"),ce.set(H,ae.canvas)),{canvas:ae.canvas,offsetX:Math.round(oe),offsetY:Math.round(_e)}}setLineWidth(k){k!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=k,this.ctx.lineWidth=k}setLineCap(k){this.ctx.lineCap=Z[k]}setLineJoin(k){this.ctx.lineJoin=Q[k]}setMiterLimit(k){this.ctx.miterLimit=k}setDash(k,N){const j=this.ctx;j.setLineDash!==void 0&&(j.setLineDash(k),j.lineDashOffset=N)}setRenderingIntent(k){}setFlatness(k){}setGState(k){for(const[N,j]of k)switch(N){case"LW":this.setLineWidth(j);break;case"LC":this.setLineCap(j);break;case"LJ":this.setLineJoin(j);break;case"ML":this.setMiterLimit(j);break;case"D":this.setDash(j[0],j[1]);break;case"RI":this.setRenderingIntent(j);break;case"FL":this.setFlatness(j);break;case"Font":this.setFont(j[0],j[1]);break;case"CA":this.current.strokeAlpha=j;break;case"ca":this.current.fillAlpha=j,this.ctx.globalAlpha=j;break;case"BM":this.ctx.globalCompositeOperation=j;break;case"SMask":this.current.activeSMask=j?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=j}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const k=this.inSMaskMode;this.current.activeSMask&&!k?this.beginSMaskMode():!this.current.activeSMask&&k&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const k=this.ctx.canvas.width,N=this.ctx.canvas.height,j="smaskGroupAt"+this.groupLevel,q=this.cachedCanvases.getCanvas(j,k,N);this.suspendedCtx=this.ctx,this.ctx=q.context;const te=this.ctx;te.setTransform(...(0,h.getCurrentTransform)(this.suspendedCtx)),E(this.suspendedCtx,te),f(te,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),E(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(k){if(!this.current.activeSMask)return;k?(k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k[2]=Math.ceil(k[2]),k[3]=Math.ceil(k[3])):k=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const N=this.current.activeSMask,j=this.suspendedCtx;be(j,N,this.ctx,k),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(E(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const k=this.current;this.stateStack.push(k),this.current=k.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),E(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(k,N,j,q,te,se){this.ctx.transform(k,N,j,q,te,se),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(k,N,j){const q=this.ctx,te=this.current;let se=te.x,re=te.y,ce,H;const W=(0,h.getCurrentTransform)(q),ne=W[0]===0&&W[3]===0||W[1]===0&&W[2]===0,$=ne?j.slice(0):null;for(let R=0,U=0,X=k.length;R<X;R++)switch(k[R]|0){case a.OPS.rectangle:se=N[U++],re=N[U++];const J=N[U++],le=N[U++],ae=se+J,pe=re+le;q.moveTo(se,re),J===0||le===0?q.lineTo(ae,pe):(q.lineTo(ae,re),q.lineTo(ae,pe),q.lineTo(se,pe)),ne||te.updateRectMinMax(W,[se,re,ae,pe]),q.closePath();break;case a.OPS.moveTo:se=N[U++],re=N[U++],q.moveTo(se,re),ne||te.updatePathMinMax(W,se,re);break;case a.OPS.lineTo:se=N[U++],re=N[U++],q.lineTo(se,re),ne||te.updatePathMinMax(W,se,re);break;case a.OPS.curveTo:ce=se,H=re,se=N[U+4],re=N[U+5],q.bezierCurveTo(N[U],N[U+1],N[U+2],N[U+3],se,re),te.updateCurvePathMinMax(W,ce,H,N[U],N[U+1],N[U+2],N[U+3],se,re,$),U+=6;break;case a.OPS.curveTo2:ce=se,H=re,q.bezierCurveTo(se,re,N[U],N[U+1],N[U+2],N[U+3]),te.updateCurvePathMinMax(W,ce,H,se,re,N[U],N[U+1],N[U+2],N[U+3],$),se=N[U+2],re=N[U+3],U+=4;break;case a.OPS.curveTo3:ce=se,H=re,se=N[U+2],re=N[U+3],q.bezierCurveTo(N[U],N[U+1],se,re,se,re),te.updateCurvePathMinMax(W,ce,H,N[U],N[U+1],se,re,se,re,$),U+=4;break;case a.OPS.closePath:q.closePath();break}ne&&te.updateScalingPathMinMax(W,$),te.setCurrentPoint(se,re)}closePath(){this.ctx.closePath()}stroke(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const N=this.ctx,j=this.current.strokeColor;N.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof j=="object"&&j!==null&&j!==void 0&&j.getPattern?(N.save(),N.strokeStyle=j.getPattern(N,this,(0,h.getCurrentTransformInverse)(N),T.PathType.STROKE),this.rescaleAndStroke(!1),N.restore()):this.rescaleAndStroke(!0)),k&&this.consumePath(this.current.getClippedPathBoundingBox()),N.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const N=this.ctx,j=this.current.fillColor,q=this.current.patternFill;let te=!1;q&&(N.save(),N.fillStyle=j.getPattern(N,this,(0,h.getCurrentTransformInverse)(N),T.PathType.FILL),te=!0);const se=this.current.getClippedPathBoundingBox();this.contentVisible&&se!==null&&(this.pendingEOFill?(N.fill("evenodd"),this.pendingEOFill=!1):N.fill()),te&&N.restore(),k&&this.consumePath(se)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ee}eoClip(){this.pendingClip=fe}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const k=this.pendingTextPaths,N=this.ctx;if(k===void 0){N.beginPath();return}N.save(),N.beginPath();for(const j of k)N.setTransform(...j.transform),N.translate(j.x,j.y),j.addToPath(N,j.fontSize);N.restore(),N.clip(),N.beginPath(),delete this.pendingTextPaths}setCharSpacing(k){this.current.charSpacing=k}setWordSpacing(k){this.current.wordSpacing=k}setHScale(k){this.current.textHScale=k/100}setLeading(k){this.current.leading=-k}setFont(k,N){const j=this.commonObjs.get(k),q=this.current;if(!j)throw new Error(`Can't find font for ${k}`);if(q.fontMatrix=j.fontMatrix||a.FONT_IDENTITY_MATRIX,(q.fontMatrix[0]===0||q.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+k),N<0?(N=-N,q.fontDirection=-1):q.fontDirection=1,this.current.font=j,this.current.fontSize=N,j.isType3Font)return;const te=j.loadedName||"sans-serif";let se="normal";j.black?se="900":j.bold&&(se="bold");const re=j.italic?"italic":"normal",ce=`"${te}", ${j.fallbackName}`;let H=N;N<g?H=g:N>x&&(H=x),this.current.fontSizeScale=N/H,this.ctx.font=`${re} ${se} ${H}px ${ce}`}setTextRenderingMode(k){this.current.textRenderingMode=k}setTextRise(k){this.current.textRise=k}moveText(k,N){this.current.x=this.current.lineX+=k,this.current.y=this.current.lineY+=N}setLeadingMoveText(k,N){this.setLeading(-N),this.moveText(k,N)}setTextMatrix(k,N,j,q,te,se){this.current.textMatrix=[k,N,j,q,te,se],this.current.textMatrixScale=Math.hypot(k,N),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(k,N,j,q){const te=this.ctx,se=this.current,re=se.font,ce=se.textRenderingMode,H=se.fontSize/se.fontSizeScale,W=ce&a.TextRenderingMode.FILL_STROKE_MASK,ne=!!(ce&a.TextRenderingMode.ADD_TO_PATH_FLAG),$=se.patternFill&&!re.missingFile;let R;(re.disableFontFace||ne||$)&&(R=re.getPathGenerator(this.commonObjs,k)),re.disableFontFace||$?(te.save(),te.translate(N,j),te.beginPath(),R(te,H),q&&te.setTransform(...q),(W===a.TextRenderingMode.FILL||W===a.TextRenderingMode.FILL_STROKE)&&te.fill(),(W===a.TextRenderingMode.STROKE||W===a.TextRenderingMode.FILL_STROKE)&&te.stroke(),te.restore()):((W===a.TextRenderingMode.FILL||W===a.TextRenderingMode.FILL_STROKE)&&te.fillText(k,N,j),(W===a.TextRenderingMode.STROKE||W===a.TextRenderingMode.FILL_STROKE)&&te.strokeText(k,N,j)),ne&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,h.getCurrentTransform)(te),x:N,y:j,fontSize:H,addToPath:R})}get isFontSubpixelAAEnabled(){const{context:k}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);k.scale(1.5,1),k.fillText("I",0,10);const N=k.getImageData(0,0,10,10).data;let j=!1;for(let q=3;q<N.length;q+=4)if(N[q]>0&&N[q]<255){j=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",j)}showText(k){const N=this.current,j=N.font;if(j.isType3Font)return this.showType3Text(k);const q=N.fontSize;if(q===0)return;const te=this.ctx,se=N.fontSizeScale,re=N.charSpacing,ce=N.wordSpacing,H=N.fontDirection,W=N.textHScale*H,ne=k.length,$=j.vertical,R=$?1:-1,U=j.defaultVMetrics,X=q*N.fontMatrix[0],J=N.textRenderingMode===a.TextRenderingMode.FILL&&!j.disableFontFace&&!N.patternFill;te.save(),te.transform(...N.textMatrix),te.translate(N.x,N.y+N.textRise),H>0?te.scale(W,-1):te.scale(W,1);let le;if(N.patternFill){te.save();const Ae=N.fillColor.getPattern(te,this,(0,h.getCurrentTransformInverse)(te),T.PathType.FILL);le=(0,h.getCurrentTransform)(te),te.restore(),te.fillStyle=Ae}let ae=N.lineWidth;const pe=N.textMatrixScale;if(pe===0||ae===0){const Ae=N.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(Ae===a.TextRenderingMode.STROKE||Ae===a.TextRenderingMode.FILL_STROKE)&&(ae=this.getSinglePixelWidth())}else ae/=pe;if(se!==1&&(te.scale(se,se),ae/=se),te.lineWidth=ae,j.isInvalidPDFjsFont){const Ae=[];let ke=0;for(const Me of k)Ae.push(Me.unicode),ke+=Me.width;te.fillText(Ae.join(""),0,0),N.x+=ke*X*W,te.restore(),this.compose();return}let oe=0,_e;for(_e=0;_e<ne;++_e){const Ae=k[_e];if(typeof Ae=="number"){oe+=R*Ae*q/1e3;continue}let ke=!1;const Me=(Ae.isSpace?ce:0)+re,Fe=Ae.fontChar,Ge=Ae.accent;let at,De,me=Ae.width;if($){const Se=Ae.vmetric||U,Be=-(Ae.vmetric?Se[1]:me*.5)*X,Ze=Se[2]*X;me=Se?-Se[0]:me,at=Be/se,De=(oe+Ze)/se}else at=oe/se,De=0;if(j.remeasure&&me>0){const Se=te.measureText(Fe).width*1e3/q*se;if(me<Se&&this.isFontSubpixelAAEnabled){const Be=me/Se;ke=!0,te.save(),te.scale(Be,1),at/=Be}else me!==Se&&(at+=(me-Se)/2e3*q/se)}if(this.contentVisible&&(Ae.isInFont||j.missingFile)){if(J&&!Ge)te.fillText(Fe,at,De);else if(this.paintChar(Fe,at,De,le),Ge){const Se=at+q*Ge.offset.x/se,Be=De-q*Ge.offset.y/se;this.paintChar(Ge.fontChar,Se,Be,le)}}let de;$?de=me*X-Me*H:de=me*X+Me*H,oe+=de,ke&&te.restore()}$?N.y-=oe:N.x+=oe*W,te.restore(),this.compose()}showType3Text(k){const N=this.ctx,j=this.current,q=j.font,te=j.fontSize,se=j.fontDirection,re=q.vertical?1:-1,ce=j.charSpacing,H=j.wordSpacing,W=j.textHScale*se,ne=j.fontMatrix||a.FONT_IDENTITY_MATRIX,$=k.length,R=j.textRenderingMode===a.TextRenderingMode.INVISIBLE;let U,X,J,le;if(!(R||te===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,N.save(),N.transform(...j.textMatrix),N.translate(j.x,j.y),N.scale(W,se),U=0;U<$;++U){if(X=k[U],typeof X=="number"){le=re*X*te/1e3,this.ctx.translate(le,0),j.x+=le*W;continue}const ae=(X.isSpace?H:0)+ce,pe=q.charProcOperatorList[X.operatorListId];if(!pe){(0,a.warn)(`Type3 character "${X.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=X,this.save(),N.scale(te,te),N.transform(...ne),this.executeOperatorList(pe),this.restore()),J=a.Util.applyTransform([X.width,0],ne)[0]*te+ae,N.translate(J,0),j.x+=J*W}N.restore(),this.processingType3=null}}setCharWidth(k,N){}setCharWidthAndBounds(k,N,j,q,te,se){this.ctx.rect(j,q,te-j,se-q),this.ctx.clip(),this.endPath()}getColorN_Pattern(k){let N;if(k[0]==="TilingPattern"){const j=k[1],q=this.baseTransform||(0,h.getCurrentTransform)(this.ctx),te={createCanvasGraphics:se=>new z(se,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};N=new T.TilingPattern(k,j,this.ctx,te,q)}else N=this._getPattern(k[1],k[2]);return N}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(k,N,j){var q;const te=((q=this.selectColor)===null||q===void 0?void 0:q.call(this,k,N,j))||a.Util.makeHexColor(k,N,j);this.ctx.strokeStyle=te,this.current.strokeColor=te}setFillRGBColor(k,N,j){var q;const te=((q=this.selectColor)===null||q===void 0?void 0:q.call(this,k,N,j))||a.Util.makeHexColor(k,N,j);this.ctx.fillStyle=te,this.current.fillColor=te,this.current.patternFill=!1}_getPattern(k){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,j;return this.cachedPatterns.has(k)?j=this.cachedPatterns.get(k):(j=(0,T.getShadingPattern)(this.objs.get(k)),this.cachedPatterns.set(k,j)),N&&(j.matrix=N),j}shadingFill(k){if(!this.contentVisible)return;const N=this.ctx;this.save();const j=this._getPattern(k);N.fillStyle=j.getPattern(N,this,(0,h.getCurrentTransformInverse)(N),T.PathType.SHADING);const q=(0,h.getCurrentTransformInverse)(N);if(q){const te=N.canvas,se=te.width,re=te.height,ce=a.Util.applyTransform([0,0],q),H=a.Util.applyTransform([0,re],q),W=a.Util.applyTransform([se,0],q),ne=a.Util.applyTransform([se,re],q),$=Math.min(ce[0],H[0],W[0],ne[0]),R=Math.min(ce[1],H[1],W[1],ne[1]),U=Math.max(ce[0],H[0],W[0],ne[0]),X=Math.max(ce[1],H[1],W[1],ne[1]);this.ctx.fillRect($,R,U-$,X-R)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(k,N){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(k)&&k.length===6&&this.transform(...k),this.baseTransform=(0,h.getCurrentTransform)(this.ctx),N)){const j=N[2]-N[0],q=N[3]-N[1];this.ctx.rect(N[0],N[1],j,q),this.current.updateRectMinMax((0,h.getCurrentTransform)(this.ctx),N),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(k){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const N=this.ctx;k.isolated||(0,a.info)("TODO: Support non-isolated groups."),k.knockout&&(0,a.warn)("Knockout groups not supported.");const j=(0,h.getCurrentTransform)(N);if(k.matrix&&N.transform(...k.matrix),!k.bbox)throw new Error("Bounding box is required.");let q=a.Util.getAxialAlignedBoundingBox(k.bbox,(0,h.getCurrentTransform)(N));const te=[0,0,N.canvas.width,N.canvas.height];q=a.Util.intersect(q,te)||[0,0,0,0];const se=Math.floor(q[0]),re=Math.floor(q[1]);let ce=Math.max(Math.ceil(q[2])-se,1),H=Math.max(Math.ceil(q[3])-re,1),W=1,ne=1;ce>y&&(W=ce/y,ce=y),H>y&&(ne=H/y,H=y),this.current.startNewPathAndClipBox([0,0,ce,H]);let $="groupAt"+this.groupLevel;k.smask&&($+="_smask_"+this.smaskCounter++%2);const R=this.cachedCanvases.getCanvas($,ce,H),U=R.context;U.scale(1/W,1/ne),U.translate(-se,-re),U.transform(...j),k.smask?this.smaskStack.push({canvas:R.canvas,context:U,offsetX:se,offsetY:re,scaleX:W,scaleY:ne,subtype:k.smask.subtype,backdrop:k.smask.backdrop,transferMap:k.smask.transferMap||null,startTransformInverse:null}):(N.setTransform(1,0,0,1,0,0),N.translate(se,re),N.scale(W,ne),N.save()),E(N,U),this.ctx=U,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(N),this.groupLevel++}endGroup(k){if(!this.contentVisible)return;this.groupLevel--;const N=this.ctx,j=this.groupStack.pop();if(this.ctx=j,this.ctx.imageSmoothingEnabled=!1,k.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const q=(0,h.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...q);const te=a.Util.getAxialAlignedBoundingBox([0,0,N.canvas.width,N.canvas.height],q);this.ctx.drawImage(N.canvas,0,0),this.ctx.restore(),this.compose(te)}}beginAnnotation(k,N,j,q,te){if(o(this,V,L).call(this),I(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(N)&&N.length===4){const se=N[2]-N[0],re=N[3]-N[1];if(te&&this.annotationCanvasMap){j=j.slice(),j[4]-=N[0],j[5]-=N[1],N=N.slice(),N[0]=N[1]=0,N[2]=se,N[3]=re;const[ce,H]=a.Util.singularValueDecompose2dScale((0,h.getCurrentTransform)(this.ctx)),{viewportScale:W}=this,ne=Math.ceil(se*this.outputScaleX*W),$=Math.ceil(re*this.outputScaleY*W);this.annotationCanvas=this.canvasFactory.create(ne,$);const{canvas:R,context:U}=this.annotationCanvas;this.annotationCanvasMap.set(k,R),this.annotationCanvas.savedCtx=this.ctx,this.ctx=U,this.ctx.setTransform(ce,0,0,-H,0,re*H),I(this.ctx,this.foregroundColor)}else I(this.ctx,this.foregroundColor),this.ctx.rect(N[0],N[1],se,re),this.ctx.clip(),this.endPath()}this.current=new i(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...j),this.transform(...q)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(k){if(!this.contentVisible)return;const N=k.count;k=this.getObject(k.data,k),k.count=N;const j=this.ctx,q=this.processingType3;if(q&&(q.compiled===void 0&&(q.compiled=b(k)),q.compiled)){q.compiled(j);return}const te=this._createMaskCanvas(k),se=te.canvas;j.save(),j.setTransform(1,0,0,1,0,0),j.drawImage(se,te.offsetX,te.offsetY),j.restore(),this.compose()}paintImageMaskXObjectRepeat(k,N){let j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,te=arguments.length>4?arguments[4]:void 0,se=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;k=this.getObject(k.data,k);const re=this.ctx;re.save();const ce=(0,h.getCurrentTransform)(re);re.transform(N,j,q,te,0,0);const H=this._createMaskCanvas(k);re.setTransform(1,0,0,1,H.offsetX-ce[4],H.offsetY-ce[5]);for(let W=0,ne=se.length;W<ne;W+=2){const $=a.Util.transform(ce,[N,j,q,te,se[W],se[W+1]]),[R,U]=a.Util.applyTransform([0,0],$);re.drawImage(H.canvas,R,U)}re.restore(),this.compose()}paintImageMaskXObjectGroup(k){if(!this.contentVisible)return;const N=this.ctx,j=this.current.fillColor,q=this.current.patternFill;for(const te of k){const{data:se,width:re,height:ce,transform:H}=te,W=this.cachedCanvases.getCanvas("maskCanvas",re,ce),ne=W.context;ne.save();const $=this.getObject(se,te);w(ne,$),ne.globalCompositeOperation="source-in",ne.fillStyle=q?j.getPattern(ne,this,(0,h.getCurrentTransformInverse)(N),T.PathType.FILL):j,ne.fillRect(0,0,re,ce),ne.restore(),N.save(),N.transform(...H),N.scale(1,-1),_(N,W.canvas,0,0,re,ce,0,-1,1,1),N.restore()}this.compose()}paintImageXObject(k){if(!this.contentVisible)return;const N=this.getObject(k);if(!N){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(N)}paintImageXObjectRepeat(k,N,j,q){if(!this.contentVisible)return;const te=this.getObject(k);if(!te){(0,a.warn)("Dependent image isn't ready yet");return}const se=te.width,re=te.height,ce=[];for(let H=0,W=q.length;H<W;H+=2)ce.push({transform:[N,0,0,j,q[H],q[H+1]],x:0,y:0,w:se,h:re});this.paintInlineImageXObjectGroup(te,ce)}paintInlineImageXObject(k){if(!this.contentVisible)return;const N=k.width,j=k.height,q=this.ctx;this.save(),q.scale(1/N,-1/j);let te;if(typeof HTMLElement=="function"&&k instanceof HTMLElement||!k.data)te=k;else{const re=this.cachedCanvases.getCanvas("inlineImage",N,j),ce=re.context;v(ce,k,this.current.transferMaps),te=re.canvas}const se=this._scaleImage(te,(0,h.getCurrentTransformInverse)(q));q.imageSmoothingEnabled=ve((0,h.getCurrentTransform)(q),k.interpolate),_(q,se.img,0,0,se.paintWidth,se.paintHeight,0,-j,N,j),this.compose(),this.restore()}paintInlineImageXObjectGroup(k,N){if(!this.contentVisible)return;const j=this.ctx,q=k.width,te=k.height,se=this.cachedCanvases.getCanvas("inlineImage",q,te),re=se.context;v(re,k,this.current.transferMaps);for(const ce of N)j.save(),j.transform(...ce.transform),j.scale(1,-1),_(j,se.canvas,ce.x,ce.y,ce.w,ce.h,0,-1,1,1),j.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(k){}markPointProps(k,N){}beginMarkedContent(k){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(k,N){k==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(N)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(k){const N=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(k);const j=this.ctx;this.pendingClip&&(N||(this.pendingClip===fe?j.clip("evenodd"):j.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),j.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const k=(0,h.getCurrentTransform)(this.ctx);if(k[1]===0&&k[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(k[0]),Math.abs(k[3]));else{const N=Math.abs(k[0]*k[3]-k[2]*k[1]),j=Math.hypot(k[0],k[2]),q=Math.hypot(k[1],k[3]);this._cachedGetSinglePixelWidth=Math.max(j,q)/N}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:k}=this.current,N=(0,h.getCurrentTransform)(this.ctx);let j,q;if(N[1]===0&&N[2]===0){const te=Math.abs(N[0]),se=Math.abs(N[3]);if(k===0)j=1/te,q=1/se;else{const re=te*k,ce=se*k;j=re<1?1/re:1,q=ce<1?1/ce:1}}else{const te=Math.abs(N[0]*N[3]-N[2]*N[1]),se=Math.hypot(N[0],N[1]),re=Math.hypot(N[2],N[3]);if(k===0)j=re/te,q=se/te;else{const ce=k*te;j=re>ce?re/ce:1,q=se>ce?se/ce:1}}this._cachedScaleForStroking=[j,q]}return this._cachedScaleForStroking}rescaleAndStroke(k){const{ctx:N}=this,{lineWidth:j}=this.current,[q,te]=this.getScaleForStroking();if(N.lineWidth=j||1,q===1&&te===1){N.stroke();return}let se,re,ce;k&&(se=(0,h.getCurrentTransform)(N),re=N.getLineDash().slice(),ce=N.lineDashOffset),N.scale(q,te);const H=Math.max(q,te);N.setLineDash(N.getLineDash().map(W=>W/H)),N.lineDashOffset/=H,N.stroke(),k&&(N.setTransform(...se),N.setLineDash(re),N.lineDashOffset=ce)}isContentVisible(){for(let k=this.markedContentStack.length-1;k>=0;k--)if(!this.markedContentStack[k].visible)return!1;return!0}}s.CanvasGraphics=z;function L(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const P in a.OPS)z.prototype[P]!==void 0&&(z.prototype[a.OPS[P]]=z.prototype[P])},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=A;var a=l(1),h=l(139);const T={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=T;function F(d,f){if(!f)return;const C=f[2]-f[0],_=f[3]-f[1],b=new Path2D;b.rect(f[0],f[1],C,_),d.clip(b)}class B{constructor(){this.constructor===B&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class O extends B{constructor(f){super(),this._type=f[1],this._bbox=f[2],this._colorStops=f[3],this._p0=f[4],this._p1=f[5],this._r0=f[6],this._r1=f[7],this.matrix=null}_createGradient(f){let C;this._type==="axial"?C=f.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(C=f.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)C.addColorStop(_[0],_[1]);return C}getPattern(f,C,_,b){let i;if(b===T.STROKE||b===T.FILL){const v=C.current.getClippedPathBoundingBox(b,(0,h.getCurrentTransform)(f))||[0,0,0,0],w=Math.ceil(v[2]-v[0])||1,E=Math.ceil(v[3]-v[1])||1,I=C.cachedCanvases.getCanvas("pattern",w,E,!0),G=I.context;G.clearRect(0,0,G.canvas.width,G.canvas.height),G.beginPath(),G.rect(0,0,G.canvas.width,G.canvas.height),G.translate(-v[0],-v[1]),_=a.Util.transform(_,[1,0,0,1,v[0],v[1]]),G.transform(...C.baseTransform),this.matrix&&G.transform(...this.matrix),F(G,this._bbox),G.fillStyle=this._createGradient(G),G.fill(),i=f.createPattern(I.canvas,"no-repeat");const K=new DOMMatrix(_);i.setTransform(K)}else F(f,this._bbox),i=this._createGradient(f);return i}}function o(d,f,C,_,b,i,v,w){const E=f.coords,I=f.colors,G=d.data,K=d.width*4;let he;E[C+1]>E[_+1]&&(he=C,C=_,_=he,he=i,i=v,v=he),E[_+1]>E[b+1]&&(he=_,_=b,b=he,he=v,v=w,w=he),E[C+1]>E[_+1]&&(he=C,C=_,_=he,he=i,i=v,v=he);const Ce=(E[C]+f.offsetX)*f.scaleX,be=(E[C+1]+f.offsetY)*f.scaleY,ve=(E[_]+f.offsetX)*f.scaleX,Z=(E[_+1]+f.offsetY)*f.scaleY,Q=(E[b]+f.offsetX)*f.scaleX,ee=(E[b+1]+f.offsetY)*f.scaleY;if(be>=ee)return;const fe=I[i],V=I[i+1],z=I[i+2],L=I[v],P=I[v+1],k=I[v+2],N=I[w],j=I[w+1],q=I[w+2],te=Math.round(be),se=Math.round(ee);let re,ce,H,W,ne,$,R,U;for(let X=te;X<=se;X++){if(X<Z){let oe;X<be?oe=0:oe=(be-X)/(be-Z),re=Ce-(Ce-ve)*oe,ce=fe-(fe-L)*oe,H=V-(V-P)*oe,W=z-(z-k)*oe}else{let oe;X>ee?oe=1:Z===ee?oe=0:oe=(Z-X)/(Z-ee),re=ve-(ve-Q)*oe,ce=L-(L-N)*oe,H=P-(P-j)*oe,W=k-(k-q)*oe}let J;X<be?J=0:X>ee?J=1:J=(be-X)/(be-ee),ne=Ce-(Ce-Q)*J,$=fe-(fe-N)*J,R=V-(V-j)*J,U=z-(z-q)*J;const le=Math.round(Math.min(re,ne)),ae=Math.round(Math.max(re,ne));let pe=K*X+le*4;for(let oe=le;oe<=ae;oe++)J=(re-oe)/(re-ne),J<0?J=0:J>1&&(J=1),G[pe++]=ce-(ce-$)*J|0,G[pe++]=H-(H-R)*J|0,G[pe++]=W-(W-U)*J|0,G[pe++]=255}}function g(d,f,C){const _=f.coords,b=f.colors;let i,v;switch(f.type){case"lattice":const w=f.verticesPerRow,E=Math.floor(_.length/w)-1,I=w-1;for(i=0;i<E;i++){let G=i*w;for(let K=0;K<I;K++,G++)o(d,C,_[G],_[G+1],_[G+w],b[G],b[G+1],b[G+w]),o(d,C,_[G+w+1],_[G+1],_[G+w],b[G+w+1],b[G+1],b[G+w])}break;case"triangles":for(i=0,v=_.length;i<v;i+=3)o(d,C,_[i],_[i+1],_[i+2],b[i],b[i+1],b[i+2]);break;default:throw new Error("illegal figure")}}class x extends B{constructor(f){super(),this._coords=f[2],this._colors=f[3],this._figures=f[4],this._bounds=f[5],this._bbox=f[7],this._background=f[8],this.matrix=null}_createMeshCanvas(f,C,_){const w=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),I=Math.ceil(this._bounds[2])-w,G=Math.ceil(this._bounds[3])-E,K=Math.min(Math.ceil(Math.abs(I*f[0]*1.1)),3e3),he=Math.min(Math.ceil(Math.abs(G*f[1]*1.1)),3e3),Ce=I/K,be=G/he,ve={coords:this._coords,colors:this._colors,offsetX:-w,offsetY:-E,scaleX:1/Ce,scaleY:1/be},Z=K+2*2,Q=he+2*2,ee=_.getCanvas("mesh",Z,Q,!1),fe=ee.context,V=fe.createImageData(K,he);if(C){const L=V.data;for(let P=0,k=L.length;P<k;P+=4)L[P]=C[0],L[P+1]=C[1],L[P+2]=C[2],L[P+3]=255}for(const L of this._figures)g(V,L,ve);return fe.putImageData(V,2,2),{canvas:ee.canvas,offsetX:w-2*Ce,offsetY:E-2*be,scaleX:Ce,scaleY:be}}getPattern(f,C,_,b){F(f,this._bbox);let i;if(b===T.SHADING)i=a.Util.singularValueDecompose2dScale((0,h.getCurrentTransform)(f));else if(i=a.Util.singularValueDecompose2dScale(C.baseTransform),this.matrix){const w=a.Util.singularValueDecompose2dScale(this.matrix);i=[i[0]*w[0],i[1]*w[1]]}const v=this._createMeshCanvas(i,b===T.SHADING?null:this._background,C.cachedCanvases);return b!==T.SHADING&&(f.setTransform(...C.baseTransform),this.matrix&&f.transform(...this.matrix)),f.translate(v.offsetX,v.offsetY),f.scale(v.scaleX,v.scaleY),f.createPattern(v.canvas,"no-repeat")}}class y extends B{getPattern(){return"hotpink"}}function A(d){switch(d[0]){case"RadialAxial":return new O(d);case"Mesh":return new x(d);case"Dummy":return new y}throw new Error(`Unknown IR type: ${d[0]}`)}const m={COLORED:1,UNCOLORED:2};class p{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(f,C,_,b,i){this.operatorList=f[2],this.matrix=f[3]||[1,0,0,1,0,0],this.bbox=f[4],this.xstep=f[5],this.ystep=f[6],this.paintType=f[7],this.tilingType=f[8],this.color=C,this.ctx=_,this.canvasGraphicsFactory=b,this.baseTransform=i}createPatternCanvas(f){const C=this.operatorList,_=this.bbox,b=this.xstep,i=this.ystep,v=this.paintType,w=this.tilingType,E=this.color,I=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+w);const G=_[0],K=_[1],he=_[2],Ce=_[3],be=a.Util.singularValueDecompose2dScale(this.matrix),ve=a.Util.singularValueDecompose2dScale(this.baseTransform),Z=[be[0]*ve[0],be[1]*ve[1]],Q=this.getSizeAndScale(b,this.ctx.canvas.width,Z[0]),ee=this.getSizeAndScale(i,this.ctx.canvas.height,Z[1]),fe=f.cachedCanvases.getCanvas("pattern",Q.size,ee.size,!0),V=fe.context,z=I.createCanvasGraphics(V);z.groupLevel=f.groupLevel,this.setFillAndStrokeStyleToContext(z,v,E);let L=G,P=K,k=he,N=Ce;return G<0&&(L=0,k+=Math.abs(G)),K<0&&(P=0,N+=Math.abs(K)),V.translate(-(Q.scale*L),-(ee.scale*P)),z.transform(Q.scale,0,0,ee.scale,0,0),V.save(),this.clipBbox(z,L,P,k,N),z.baseTransform=(0,h.getCurrentTransform)(z.ctx),z.executeOperatorList(C),z.endDrawing(),{canvas:fe.canvas,scaleX:Q.scale,scaleY:ee.scale,offsetX:L,offsetY:P}}getSizeAndScale(f,C,_){f=Math.abs(f);const b=Math.max(p.MAX_PATTERN_SIZE,C);let i=Math.ceil(f*_);return i>=b?i=b:_=i/f,{scale:_,size:i}}clipBbox(f,C,_,b,i){const v=b-C,w=i-_;f.ctx.rect(C,_,v,w),f.current.updateRectMinMax((0,h.getCurrentTransform)(f.ctx),[C,_,b,i]),f.clip(),f.endPath()}setFillAndStrokeStyleToContext(f,C,_){const b=f.ctx,i=f.current;switch(C){case m.COLORED:const v=this.ctx;b.fillStyle=v.fillStyle,b.strokeStyle=v.strokeStyle,i.fillColor=v.fillStyle,i.strokeColor=v.strokeStyle;break;case m.UNCOLORED:const w=a.Util.makeHexColor(_[0],_[1],_[2]);b.fillStyle=w,b.strokeStyle=w,i.fillColor=w,i.strokeColor=w;break;default:throw new a.FormatError(`Unsupported paint type: ${C}`)}}getPattern(f,C,_,b){let i=_;b!==T.SHADING&&(i=a.Util.transform(i,C.baseTransform),this.matrix&&(i=a.Util.transform(i,this.matrix)));const v=this.createPatternCanvas(C);let w=new DOMMatrix(i);w=w.translate(v.offsetX,v.offsetY),w=w.scale(1/v.scaleX,1/v.scaleY);const E=f.createPattern(v.canvas,"repeat");return E.setTransform(w),E}}s.TilingPattern=p},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=h;var a=l(1);function h(T){let{src:F,srcPos:B=0,dest:O,destPos:o=0,width:g,height:x,inverseDecode:y=!1}=T;const A=a.FeatureTest.isLittleEndian?4278190080:255,[m,p]=y?[0,A]:[A,0],d=g>>3,f=g&7,C=F.length;O=new Uint32Array(O.buffer);for(let _=0;_<x;_++){for(const i=B+d;B<i;B++){const v=B<C?F[B]:255;O[o++]=v&128?p:m,O[o++]=v&64?p:m,O[o++]=v&32?p:m,O[o++]=v&16?p:m,O[o++]=v&8?p:m,O[o++]=v&4?p:m,O[o++]=v&2?p:m,O[o++]=v&1?p:m}if(f===0)continue;const b=B<C?F[B++]:255;for(let i=0;i<f;i++)O[o++]=b&1<<7-i?p:m}return{srcPos:B,destPos:o}}},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const l=Object.create(null);s.GlobalWorkerOptions=l,l.workerPort=null,l.workerSrc=""},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=l(1);const h={DATA:1,ERROR:2},T={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function F(O){switch(O instanceof Error||typeof O=="object"&&O!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new a.AbortException(O.message);case"MissingPDFException":return new a.MissingPDFException(O.message);case"PasswordException":return new a.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new a.UnknownErrorException(O.message,O.details);default:return new a.UnknownErrorException(O.message,O.toString())}}class B{constructor(o,g,x){this.sourceName=o,this.targetName=g,this.comObj=x,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const A=y.data;if(A.targetName!==this.sourceName)return;if(A.stream){this._processStreamMessage(A);return}if(A.callback){const p=A.callbackId,d=this.callbackCapabilities[p];if(!d)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],A.callback===h.DATA)d.resolve(A.data);else if(A.callback===h.ERROR)d.reject(F(A.reason));else throw new Error("Unexpected callback case");return}const m=this.actionHandler[A.action];if(!m)throw new Error(`Unknown action from worker: ${A.action}`);if(A.callbackId){const p=this.sourceName,d=A.sourceName;new Promise(function(f){f(m(A.data))}).then(function(f){x.postMessage({sourceName:p,targetName:d,callback:h.DATA,callbackId:A.callbackId,data:f})},function(f){x.postMessage({sourceName:p,targetName:d,callback:h.ERROR,callbackId:A.callbackId,reason:F(f)})});return}if(A.streamId){this._createStreamSink(A);return}m(A.data)},x.addEventListener("message",this._onComObjOnMessage)}on(o,g){const x=this.actionHandler;if(x[o])throw new Error(`There is already an actionName called "${o}"`);x[o]=g}send(o,g,x){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,data:g},x)}sendWithPromise(o,g,x){const y=this.callbackId++,A=(0,a.createPromiseCapability)();this.callbackCapabilities[y]=A;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,callbackId:y,data:g},x)}catch(m){A.reject(m)}return A.promise}sendWithStream(o,g,x,y){const A=this.streamId++,m=this.sourceName,p=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const C=(0,a.createPromiseCapability)();return this.streamControllers[A]={controller:f,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:m,targetName:p,action:o,streamId:A,data:g,desiredSize:f.desiredSize},y),C.promise},pull:f=>{const C=(0,a.createPromiseCapability)();return this.streamControllers[A].pullCall=C,d.postMessage({sourceName:m,targetName:p,stream:T.PULL,streamId:A,desiredSize:f.desiredSize}),C.promise},cancel:f=>{(0,a.assert)(f instanceof Error,"cancel must have a valid reason");const C=(0,a.createPromiseCapability)();return this.streamControllers[A].cancelCall=C,this.streamControllers[A].isClosed=!0,d.postMessage({sourceName:m,targetName:p,stream:T.CANCEL,streamId:A,reason:F(f)}),C.promise}},x)}_createStreamSink(o){const g=o.streamId,x=this.sourceName,y=o.sourceName,A=this.comObj,m=this,p=this.actionHandler[o.action],d={enqueue(f){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,_=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=C,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),A.postMessage({sourceName:x,targetName:y,stream:T.ENQUEUE,streamId:g,chunk:f},_)},close(){this.isCancelled||(this.isCancelled=!0,A.postMessage({sourceName:x,targetName:y,stream:T.CLOSE,streamId:g}),delete m.streamSinks[g])},error(f){(0,a.assert)(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,A.postMessage({sourceName:x,targetName:y,stream:T.ERROR,streamId:g,reason:F(f)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:o.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[g]=d,new Promise(function(f){f(p(o.data,d))}).then(function(){A.postMessage({sourceName:x,targetName:y,stream:T.START_COMPLETE,streamId:g,success:!0})},function(f){A.postMessage({sourceName:x,targetName:y,stream:T.START_COMPLETE,streamId:g,reason:F(f)})})}_processStreamMessage(o){const g=o.streamId,x=this.sourceName,y=o.sourceName,A=this.comObj,m=this.streamControllers[g],p=this.streamSinks[g];switch(o.stream){case T.START_COMPLETE:o.success?m.startCall.resolve():m.startCall.reject(F(o.reason));break;case T.PULL_COMPLETE:o.success?m.pullCall.resolve():m.pullCall.reject(F(o.reason));break;case T.PULL:if(!p){A.postMessage({sourceName:x,targetName:y,stream:T.PULL_COMPLETE,streamId:g,success:!0});break}p.desiredSize<=0&&o.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=o.desiredSize,new Promise(function(d){d(p.onPull&&p.onPull())}).then(function(){A.postMessage({sourceName:x,targetName:y,stream:T.PULL_COMPLETE,streamId:g,success:!0})},function(d){A.postMessage({sourceName:x,targetName:y,stream:T.PULL_COMPLETE,streamId:g,reason:F(d)})});break;case T.ENQUEUE:if((0,a.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(o.chunk);break;case T.CLOSE:if((0,a.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,g);break;case T.ERROR:(0,a.assert)(m,"error should have stream controller"),m.controller.error(F(o.reason)),this._deleteStreamController(m,g);break;case T.CANCEL_COMPLETE:o.success?m.cancelCall.resolve():m.cancelCall.reject(F(o.reason)),this._deleteStreamController(m,g);break;case T.CANCEL:if(!p)break;new Promise(function(d){d(p.onCancel&&p.onCancel(F(o.reason)))}).then(function(){A.postMessage({sourceName:x,targetName:y,stream:T.CANCEL_COMPLETE,streamId:g,success:!0})},function(d){A.postMessage({sourceName:x,targetName:y,stream:T.CANCEL_COMPLETE,streamId:g,reason:F(d)})}),p.sinkCapability.reject(F(o.reason)),p.isCancelled=!0,delete this.streamSinks[g];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(o,g){await Promise.allSettled([o.startCall&&o.startCall.promise,o.pullCall&&o.pullCall.promise,o.cancelCall&&o.cancelCall.promise]),delete this.streamControllers[g]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=B},(u,s,l)=>{var T,F;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=l(1);class h{constructor(O){Ye(this,T);Ye(this,F);let{parsedData:o,rawData:g}=O;et(this,T,o),et(this,F,g)}getRaw(){return ue(this,F)}get(O){return ue(this,T).get(O)??null}getAll(){return(0,a.objectFromMap)(ue(this,T))}has(O){return ue(this,T).has(O)}}T=new WeakMap,F=new WeakMap,s.Metadata=h},(u,s,l)=>{var w;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=l(1),h=l(141);function T(E,I){B(E,I),I.add(E)}function F(E,I,G){B(E,I),I.set(E,G)}function B(E,I){if(I.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(E,I,G){if(!I.has(E))throw new TypeError("attempted to get private field on non-instance");return G}function o(E,I){var G=y(E,I,"get");return g(E,G)}function g(E,I){return I.get?I.get.call(E):I.value}function x(E,I,G){var K=y(E,I,"set");return A(E,K,G),G}function y(E,I,G){if(!I.has(E))throw new TypeError("attempted to "+G+" private field on non-instance");return I.get(E)}function A(E,I,G){if(I.set)I.set.call(E,G);else{if(!I.writable)throw new TypeError("attempted to set read only private field");I.value=G}}const m=Symbol("INTERNAL");class p{constructor(I,G){Ye(this,w,!0);this.name=I,this.intent=G}get visible(){return ue(this,w)}_setVisible(I,G){I!==m&&(0,a.unreachable)("Internal method `_setVisible` called."),et(this,w,G)}}w=new WeakMap;var d=new WeakMap,f=new WeakMap,C=new WeakMap,_=new WeakMap,b=new WeakSet;class i{constructor(I){if(T(this,b),F(this,d,{writable:!0,value:null}),F(this,f,{writable:!0,value:new Map}),F(this,C,{writable:!0,value:null}),F(this,_,{writable:!0,value:null}),this.name=null,this.creator=null,I!==null){this.name=I.name,this.creator=I.creator,x(this,_,I.order);for(const G of I.groups)o(this,f).set(G.id,new p(G.name,G.intent));if(I.baseState==="OFF")for(const G of o(this,f).values())G._setVisible(m,!1);for(const G of I.on)o(this,f).get(G)._setVisible(m,!0);for(const G of I.off)o(this,f).get(G)._setVisible(m,!1);x(this,C,this.getHash())}}isVisible(I){if(o(this,f).size===0)return!0;if(!I)return(0,a.warn)("Optional content group not defined."),!0;if(I.type==="OCG")return o(this,f).has(I.id)?o(this,f).get(I.id).visible:((0,a.warn)(`Optional content group not found: ${I.id}`),!0);if(I.type==="OCMD"){if(I.expression)return O(this,b,v).call(this,I.expression);if(!I.policy||I.policy==="AnyOn"){for(const G of I.ids){if(!o(this,f).has(G))return(0,a.warn)(`Optional content group not found: ${G}`),!0;if(o(this,f).get(G).visible)return!0}return!1}else if(I.policy==="AllOn"){for(const G of I.ids){if(!o(this,f).has(G))return(0,a.warn)(`Optional content group not found: ${G}`),!0;if(!o(this,f).get(G).visible)return!1}return!0}else if(I.policy==="AnyOff"){for(const G of I.ids){if(!o(this,f).has(G))return(0,a.warn)(`Optional content group not found: ${G}`),!0;if(!o(this,f).get(G).visible)return!0}return!1}else if(I.policy==="AllOff"){for(const G of I.ids){if(!o(this,f).has(G))return(0,a.warn)(`Optional content group not found: ${G}`),!0;if(o(this,f).get(G).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${I.policy}.`),!0}return(0,a.warn)(`Unknown group type ${I.type}.`),!0}setVisibility(I){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!o(this,f).has(I)){(0,a.warn)(`Optional content group not found: ${I}`);return}o(this,f).get(I)._setVisible(m,!!G),x(this,d,null)}get hasInitialVisibility(){return this.getHash()===o(this,C)}getOrder(){return o(this,f).size?o(this,_)?o(this,_).slice():[...o(this,f).keys()]:null}getGroups(){return o(this,f).size>0?(0,a.objectFromMap)(o(this,f)):null}getGroup(I){return o(this,f).get(I)||null}getHash(){if(o(this,d)!==null)return o(this,d);const I=new h.MurmurHash3_64;for(const[G,K]of o(this,f))I.update(`${G}:${K.visible}`);return x(this,d,I.hexdigest())}}s.OptionalContentConfig=i;function v(E){const I=E.length;if(I<2)return!0;const G=E[0];for(let K=1;K<I;K++){const he=E[K];let Ce;if(Array.isArray(he))Ce=O(this,b,v).call(this,he);else if(o(this,f).has(he))Ce=o(this,f).get(he).visible;else return(0,a.warn)(`Optional content group not found: ${he}`),!0;switch(G){case"And":if(!Ce)return!1;break;case"Or":if(Ce)return!0;break;case"Not":return!Ce;default:return!0}}return G==="And"}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=l(1),h=l(139);class T{constructor(o,g){let{length:x,initialData:y,progressiveDone:A=!1,contentDispositionFilename:m=null,disableRange:p=!1,disableStream:d=!1}=o;if((0,a.assert)(g,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=A,this._contentDispositionFilename=m,(y==null?void 0:y.length)>0){const f=y instanceof Uint8Array&&y.byteLength===y.buffer.byteLength?y.buffer:new Uint8Array(y).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=g,this._isStreamingSupported=!d,this._isRangeSupported=!p,this._contentLength=x,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((f,C)=>{this._onReceiveData({begin:f,chunk:C})}),this._pdfDataRangeTransport.addProgressListener((f,C)=>{this._onProgress({loaded:f,total:C})}),this._pdfDataRangeTransport.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(o){let{begin:g,chunk:x}=o;const y=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;if(g===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(y):this._queuedChunks.push(y);else{const A=this._rangeReaders.some(function(m){return m._begin!==g?!1:(m._enqueue(y),!0)});(0,a.assert)(A,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var o;return((o=this._fullRequestReader)===null||o===void 0?void 0:o._loaded)??0}_onProgress(o){if(o.total===void 0){var g,x;(g=this._rangeReaders[0])===null||g===void 0||(x=g.onProgress)===null||x===void 0||x.call(g,{loaded:o.loaded})}else{var y,A;(y=this._fullRequestReader)===null||y===void 0||(A=y.onProgress)===null||A===void 0||A.call(y,{loaded:o.loaded,total:o.total})}}_onProgressiveDone(){var o;(o=this._fullRequestReader)===null||o===void 0||o.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(o){const g=this._rangeReaders.indexOf(o);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const o=this._queuedChunks;return this._queuedChunks=null,new F(this,o,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(o,g){if(g<=this._progressiveDataLength)return null;const x=new B(this,o,g);return this._pdfDataRangeTransport.requestDataRange(o,g),this._rangeReaders.push(x),x}cancelAllRequests(o){var g;(g=this._fullRequestReader)===null||g===void 0||g.cancel(o);for(const x of this._rangeReaders.slice(0))x.cancel(o);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=T;class F{constructor(o,g){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=o,this._done=x||!1,this._filename=(0,h.isPdfFile)(y)?y:null,this._queuedChunks=g||[],this._loaded=0;for(const A of this._queuedChunks)this._loaded+=A.byteLength;this._requests=[],this._headersReady=Promise.resolve(),o._fullRequestReader=this,this.onProgress=null}_enqueue(o){this._done||(this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunks.push(o),this._loaded+=o.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const o=(0,a.createPromiseCapability)();return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class B{constructor(o,g,x){this._stream=o,this._begin=g,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(o){if(!this._done){if(this._requests.length===0)this._queuedChunk=o;else{this._requests.shift().resolve({value:o,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const o=(0,a.createPromiseCapability)();return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class l{static textContent(h){const T=[],F={items:T,styles:Object.create(null)};function B(O){var o;if(!O)return;let g=null;const x=O.name;if(x==="#text")g=O.value;else if(l.shouldBuildText(x))O!=null&&(o=O.attributes)!==null&&o!==void 0&&o.textContent?g=O.attributes.textContent:O.value&&(g=O.value);else return;if(g!==null&&T.push({str:g}),!!O.children)for(const y of O.children)B(y)}return B(h),F}static shouldBuildText(h){return!(h==="textarea"||h==="input"||h==="option"||h==="select")}}s.XfaText=l},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=l(140);const h=function(O){return new Promise((o,g)=>{require$$5.readFile(O,(y,A)=>{if(y||!A){g(new Error(y));return}o(new Uint8Array(A))})})};class T extends a.BaseCanvasFactory{_createCanvas(o,g){return require$$5.createCanvas(o,g)}}s.NodeCanvasFactory=T;class F extends a.BaseCMapReaderFactory{_fetchData(o,g){return h(o).then(x=>({cMapData:x,compressionType:g}))}}s.NodeCMapReaderFactory=F;class B extends a.BaseStandardFontDataFactory{_fetchData(o){return h(o)}}s.NodeStandardFontDataFactory=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=l(1),h=l(154);const T=require$$5,F=require$$5,B=require$$5,O=require$$5,o=/^file:\/\/\/[a-zA-Z]:\//;function g(_){const b=O.parse(_);return b.protocol==="file:"||b.host?b:/^[a-z]:[/\\]/i.test(_)?O.parse(`file:///${_}`):(b.host||(b.protocol="file:"),b)}class x{constructor(b){this.source=b,this.url=g(b.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)===null||b===void 0?void 0:b._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new p(this),this._fullRequestReader}getRangeReader(b,i){if(i<=this._progressiveDataLength)return null;const v=this.isFsUrl?new C(this,b,i):new d(this,b,i);return this._rangeRequestReaders.push(v),v}cancelAllRequests(b){var i;(i=this._fullRequestReader)===null||i===void 0||i.cancel(b);for(const v of this._rangeRequestReaders.slice(0))v.cancel(b)}}s.PDFNodeStream=x;class y{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=b.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=i.length,(b=this.onProgress)===null||b===void 0||b.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(i).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const i=b.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var b;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const i=this._readableStream.read();return i===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=i.length,(b=this.onProgress)===null||b===void 0||b.call(this,{loaded:this._loaded}),{value:new Uint8Array(i).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(_,b){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:b}}class p extends y{constructor(b){super(b);const i=v=>{if(v.statusCode===404){const G=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=G,this._headersCapability.reject(G);return}this._headersCapability.resolve(),this._setReadableStream(v);const w=G=>this._readableStream.headers[G.toLowerCase()],{allowRangeRequests:E,suggestedLength:I}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=I||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(w)};this._request=null,this._url.protocol==="http:"?this._request=F.request(m(this._url,b.httpHeaders),i):this._request=B.request(m(this._url,b.httpHeaders),i),this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class d extends A{constructor(b,i,v){super(b),this._httpHeaders={};for(const E in b.httpHeaders){const I=b.httpHeaders[E];I!==void 0&&(this._httpHeaders[E]=I)}this._httpHeaders.Range=`bytes=${i}-${v-1}`;const w=E=>{if(E.statusCode===404){const I=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I;return}this._setReadableStream(E)};this._request=null,this._url.protocol==="http:"?this._request=F.request(m(this._url,this._httpHeaders),w):this._request=B.request(m(this._url,this._httpHeaders),w),this._request.on("error",E=>{this._storedError=E}),this._request.end()}}class f extends y{constructor(b){super(b);let i=decodeURIComponent(this._url.path);o.test(this._url.href)&&(i=i.replace(/^\//,"")),T.lstat(i,(v,w)=>{if(v){v.code==="ENOENT"&&(v=new a.MissingPDFException(`Missing PDF "${i}".`)),this._storedError=v,this._headersCapability.reject(v);return}this._contentLength=w.size,this._setReadableStream(T.createReadStream(i)),this._headersCapability.resolve()})}}class C extends A{constructor(b,i,v){super(b);let w=decodeURIComponent(this._url.path);o.test(this._url.href)&&(w=w.replace(/^\//,"")),this._setReadableStream(T.createReadStream(w,{start:i,end:v-1}))}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=O,s.extractFilenameFromHeader=B,s.validateRangeRequestCapabilities=F,s.validateResponseStatus=o;var a=l(1),h=l(155),T=l(139);function F(g){let{getResponseHeader:x,isHttp:y,rangeChunkSize:A,disableRange:m}=g;const p={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(x("Content-Length"),10);return!Number.isInteger(d)||(p.suggestedLength=d,d<=2*A)||m||!y||x("Accept-Ranges")!=="bytes"||(x("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function B(g){const x=g("Content-Disposition");if(x){let y=(0,h.getFilenameFromContentDispositionHeader)(x);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,T.isPdfFile)(y))return y}return null}function O(g,x){return g===404||g===0&&x.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+x+'".'):new a.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${x}".`,g)}function o(g){return g===200||g===206}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=h;var a=l(1);function h(T){let F=!0,B=O("filename\\*","i").exec(T);if(B){B=B[1];let p=y(B);return p=unescape(p),p=A(p),p=m(p),g(p)}if(B=x(T),B){const p=m(B);return g(p)}if(B=O("filename","i").exec(T),B){B=B[1];let p=y(B);return p=m(p),g(p)}function O(p,d){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function o(p,d){if(p){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(p,{fatal:!0}),C=(0,a.stringToBytes)(d);d=f.decode(C),F=!1}catch{}}return d}function g(p){return F&&/[\x80-\xff]/.test(p)&&(p=o("utf-8",p),F&&(p=o("iso-8859-1",p))),p}function x(p){const d=[];let f;const C=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=C.exec(p))!==null;){let[,b,i,v]=f;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[i,v]}const _=[];for(let b=0;b<d.length&&b in d;++b){let[i,v]=d[b];v=y(v),i&&(v=unescape(v),b===0&&(v=A(v))),_.push(v)}return _.join("")}function y(p){if(p.startsWith('"')){const d=p.slice(1).split('\\"');for(let f=0;f<d.length;++f){const C=d[f].indexOf('"');C!==-1&&(d[f]=d[f].slice(0,C),d.length=f+1),d[f]=d[f].replace(/\\(.)/g,"$1")}p=d.join('"')}return p}function A(p){const d=p.indexOf("'");if(d===-1)return p;const f=p.slice(0,d),_=p.slice(d+1).replace(/^[^']*'/,"");return o(f,_)}function m(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,C,_){if(C==="q"||C==="Q")return _=_.replace(/_/g," "),_=_.replace(/=([0-9a-fA-F]{2})/g,function(b,i){return String.fromCharCode(parseInt(i,16))}),o(f,_);try{_=atob(_)}catch{}return o(f,_)})}return""}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=l(1),h=l(154);const T=200,F=206;function B(y){const A=y.response;return typeof A!="string"?A:(0,a.stringToBytes)(A).buffer}class O{constructor(A){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(A,m,p){const d={begin:A,end:m};for(const f in p)d[f]=p[f];return this.request(d)}requestFull(A){return this.request(A)}request(A){const m=this.getXhr(),p=this.currXhrId++,d=this.pendingRequests[p]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const f in this.httpHeaders){const C=this.httpHeaders[f];C!==void 0&&m.setRequestHeader(f,C)}return this.isHttp&&"begin"in A&&"end"in A?(m.setRequestHeader("Range",`bytes=${A.begin}-${A.end-1}`),d.expectedStatus=F):d.expectedStatus=T,m.responseType="arraybuffer",A.onError&&(m.onerror=function(f){A.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,p),m.onprogress=this.onProgress.bind(this,p),d.onHeadersReceived=A.onHeadersReceived,d.onDone=A.onDone,d.onError=A.onError,d.onProgress=A.onProgress,m.send(null),p}onProgress(A,m){var p;const d=this.pendingRequests[A];d&&((p=d.onProgress)===null||p===void 0||p.call(d,m))}onStateChange(A,m){const p=this.pendingRequests[A];if(!p)return;const d=p.xhr;if(d.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),d.readyState!==4||!(A in this.pendingRequests))return;if(delete this.pendingRequests[A],d.status===0&&this.isHttp){var f;(f=p.onError)===null||f===void 0||f.call(p,d.status);return}const C=d.status||T;if(!(C===T&&p.expectedStatus===F)&&C!==p.expectedStatus){var b;(b=p.onError)===null||b===void 0||b.call(p,d.status);return}const i=B(d);if(C===F){const w=d.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(w);p.onDone({begin:parseInt(E[1],10),chunk:i})}else if(i)p.onDone({begin:0,chunk:i});else{var v;(v=p.onError)===null||v===void 0||v.call(p,d.status)}}getRequestXhr(A){return this.pendingRequests[A].xhr}isPendingRequest(A){return A in this.pendingRequests}abortRequest(A){const m=this.pendingRequests[A].xhr;delete this.pendingRequests[A],m.abort()}}class o{constructor(A){this._source=A,this._manager=new O(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(A){const m=this._rangeRequestReaders.indexOf(A);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(A,m){const p=new x(this._manager,A,m);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(A){var m;(m=this._fullRequestReader)===null||m===void 0||m.cancel(A);for(const p of this._rangeRequestReaders.slice(0))p.cancel(A)}}s.PDFNetworkStream=o;class g{constructor(A,m){this._manager=A;const p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=A.requestFull(p),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const A=this._fullRequestId,m=this._manager.getRequestXhr(A),p=C=>m.getResponseHeader(C),{allowRangeRequests:d,suggestedLength:f}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=f||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(A),this._headersReceivedCapability.resolve()}_onDone(A){if(A&&(this._requests.length>0?this._requests.shift().resolve({value:A.chunk,done:!1}):this._cachedChunks.push(A.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(A){this._storedError=(0,h.createResponseStatusError)(A,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(A){var m;(m=this.onProgress)===null||m===void 0||m.call(this,{loaded:A.loaded,total:A.lengthComputable?A.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=(0,a.createPromiseCapability)();return this._requests.push(A),A.promise}cancel(A){this._done=!0,this._headersReceivedCapability.reject(A);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(A,m,p){this._manager=A;const d={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(m,p,d),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var A;(A=this.onClosed)===null||A===void 0||A.call(this,this)}_onDone(A){const m=A.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(A){this._storedError=(0,h.createResponseStatusError)(A,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(A){if(!this.isStreamingSupported){var m;(m=this.onProgress)===null||m===void 0||m.call(this,{loaded:A.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const A=(0,a.createPromiseCapability)();return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=l(1),h=l(154);function T(x,y,A){return{method:"GET",headers:x,signal:A.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function F(x){const y=new Headers;for(const A in x){const m=x[A];m!==void 0&&y.append(A,m)}return y}function B(x){return x instanceof Uint8Array?x.buffer:x instanceof ArrayBuffer?x:((0,a.warn)(`getArrayBuffer - unexpected data format: ${x}`),new Uint8Array(x).buffer)}class O{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y;return((y=this._fullRequestReader)===null||y===void 0?void 0:y._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(y,A){if(A<=this._progressiveDataLength)return null;const m=new g(this,y,A);return this._rangeRequestReaders.push(m),m}cancelAllRequests(y){var A;(A=this._fullRequestReader)===null||A===void 0||A.cancel(y);for(const m of this._rangeRequestReaders.slice(0))m.cancel(y)}}s.PDFFetchStream=O;class o{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const A=y.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=F(this._stream.httpHeaders);const m=A.url;fetch(m,T(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,h.validateResponseStatus)(p.status))throw(0,h.createResponseStatusError)(p.status,m);this._reader=p.body.getReader(),this._headersCapability.resolve();const d=_=>p.headers.get(_),{allowRangeRequests:f,suggestedLength:C}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=f,this._contentLength=C||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var y;await this._headersCapability.promise;const{value:A,done:m}=await this._reader.read();return m?{value:A,done:m}:(this._loaded+=A.byteLength,(y=this.onProgress)===null||y===void 0||y.call(this,{loaded:this._loaded,total:this._contentLength}),{value:B(A),done:!1})}cancel(y){var A;(A=this._reader)===null||A===void 0||A.cancel(y),this._abortController.abort()}}class g{constructor(y,A,m){this._stream=y,this._reader=null,this._loaded=0;const p=y.source;this._withCredentials=p.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=F(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${m-1}`);const d=p.url;fetch(d,T(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,h.validateResponseStatus)(f.status))throw(0,h.createResponseStatusError)(f.status,d);this._readCapability.resolve(),this._reader=f.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var y;await this._readCapability.promise;const{value:A,done:m}=await this._reader.read();return m?{value:A,done:m}:(this._loaded+=A.byteLength,(y=this.onProgress)===null||y===void 0||y.call(this,{loaded:this._loaded}),{value:B(A),done:!1})}cancel(y){var A;(A=this._reader)===null||A===void 0||A.cancel(y),this._abortController.abort()}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=p,s.updateTextLayer=d;var a=l(1),h=l(139);const T=1e5,F=30,B=.8,O=new Map;function o(f,C){let _;if(C&&a.FeatureTest.isOffscreenCanvasSupported)_=new OffscreenCanvas(f,f).getContext("2d",{alpha:!1});else{const b=document.createElement("canvas");b.width=b.height=f,_=b.getContext("2d",{alpha:!1})}return _}function g(f,C){const _=O.get(f);if(_)return _;const b=o(F,C);b.font=`${F}px ${f}`;const i=b.measureText("");let v=i.fontBoundingBoxAscent,w=Math.abs(i.fontBoundingBoxDescent);if(v){const I=v/(v+w);return O.set(f,I),b.canvas.width=b.canvas.height=0,I}b.strokeStyle="red",b.clearRect(0,0,F,F),b.strokeText("g",0,0);let E=b.getImageData(0,0,F,F).data;w=0;for(let I=E.length-1-3;I>=0;I-=4)if(E[I]>0){w=Math.ceil(I/4/F);break}b.clearRect(0,0,F,F),b.strokeText("A",0,F),E=b.getImageData(0,0,F,F).data,v=0;for(let I=0,G=E.length;I<G;I+=4)if(E[I]>0){v=F-Math.floor(I/4/F);break}if(b.canvas.width=b.canvas.height=0,v){const I=v/(v+w);return O.set(f,I),I}return O.set(f,B),B}function x(f,C,_){const b=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};f._textDivs.push(b);const v=a.Util.transform(f._transform,C.transform);let w=Math.atan2(v[1],v[0]);const E=_[C.fontName];E.vertical&&(w+=Math.PI/2);const I=Math.hypot(v[2],v[3]),G=I*g(E.fontFamily,f._isOffscreenCanvasSupported);let K,he;w===0?(K=v[4],he=v[5]-G):(K=v[4]+G*Math.sin(w),he=v[5]-G*Math.cos(w));const Ce="calc(var(--scale-factor)*",be=b.style;f._container===f._rootContainer?(be.left=`${(100*K/f._pageWidth).toFixed(2)}%`,be.top=`${(100*he/f._pageHeight).toFixed(2)}%`):(be.left=`${Ce}${K.toFixed(2)}px)`,be.top=`${Ce}${he.toFixed(2)}px)`),be.fontSize=`${Ce}${I.toFixed(2)}px)`,be.fontFamily=E.fontFamily,i.fontSize=I,b.setAttribute("role","presentation"),b.textContent=C.str,b.dir=C.dir,f._fontInspectorEnabled&&(b.dataset.fontName=C.fontName),w!==0&&(i.angle=w*(180/Math.PI));let ve=!1;if(C.str.length>1)ve=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const Z=Math.abs(C.transform[0]),Q=Math.abs(C.transform[3]);Z!==Q&&Math.max(Z,Q)/Math.min(Z,Q)>1.5&&(ve=!0)}ve&&(i.canvasWidth=E.vertical?C.height:C.width),f._textDivProperties.set(b,i),f._isReadableStream&&f._layoutText(b)}function y(f){const{div:C,scale:_,properties:b,ctx:i,prevFontSize:v,prevFontFamily:w}=f,{style:E}=C;let I="";if(b.canvasWidth!==0&&b.hasText){const{fontFamily:G}=E,{canvasWidth:K,fontSize:he}=b;(v!==he||w!==G)&&(i.font=`${he*_}px ${G}`,f.prevFontSize=he,f.prevFontFamily=G);const{width:Ce}=i.measureText(C.textContent);Ce>0&&(I=`scaleX(${K*_/Ce})`)}b.angle!==0&&(I=`rotate(${b.angle}deg) ${I}`),I.length>0&&(E.transform=I)}function A(f){if(f._canceled)return;const C=f._textDivs,_=f._capability;if(C.length>T){_.resolve();return}if(!f._isReadableStream)for(const i of C)f._layoutText(i);_.resolve()}class m{constructor(C){var _;let{textContentSource:b,container:i,viewport:v,textDivs:w,textDivProperties:E,textContentItemsStr:I,isOffscreenCanvasSupported:G}=C;this._textContentSource=b,this._isReadableStream=b instanceof ReadableStream,this._container=this._rootContainer=i,this._textDivs=w||[],this._textContentItemsStr=I||[],this._isOffscreenCanvasSupported=G,this._fontInspectorEnabled=!!((_=globalThis.FontInspector)!==null&&_!==void 0&&_.enabled),this._reader=null,this._textDivProperties=E||new WeakMap,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:v.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,G)};const{pageWidth:K,pageHeight:he,pageX:Ce,pageY:be}=v.rawDims;this._transform=[1,0,0,-1,-Ce,be+he],this._pageWidth=K,this._pageHeight=he,(0,h.setLayerDimensions)(i,v),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(C,_){for(const b of C){if(b.str===void 0){if(b.type==="beginMarkedContentProps"||b.type==="beginMarkedContent"){const i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b.id!==null&&this._container.setAttribute("id",`${b.id}`),i.append(this._container)}else b.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b.str),x(this,b,_)}}_layoutText(C){const _=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,y(this._layoutTextParams),_.hasText&&this._container.append(C),_.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(){const C=(0,a.createPromiseCapability)();let _=Object.create(null);if(this._isReadableStream){const b=()=>{this._reader.read().then(i=>{let{value:v,done:w}=i;if(w){C.resolve();return}Object.assign(_,v.styles),this._processItems(v.items,_),b()},C.reject)};this._reader=this._textContentSource.getReader(),b()}else if(this._textContentSource){const{items:b,styles:i}=this._textContentSource;this._processItems(b,i),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{_=null,A(this)},this._capability.reject)}}s.TextLayerRenderTask=m;function p(f){!f.textContentSource&&(f.textContent||f.textContentStream)&&((0,h.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),f.textContentSource=f.textContent||f.textContentStream);const C=new m(f);return C._render(),C}function d(f){let{container:C,viewport:_,textDivs:b,textDivProperties:i,isOffscreenCanvasSupported:v,mustRotate:w=!0,mustRescale:E=!0}=f;if(w&&(0,h.setLayerDimensions)(C,{rotation:_.rotation}),E){const I=o(0,v),K={prevFontSize:null,prevFontFamily:null,div:null,scale:_.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:I};for(const he of b)K.properties=i.get(he),K.div=he,y(K)}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=l(1),h=l(138),T=l(160),F=l(161),B=l(139);function O(z,L){A(z,L),L.add(z)}function o(z,L,P){return L=g(L),L in z?Object.defineProperty(z,L,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[L]=P,z}function g(z){var L=x(z,"string");return typeof L=="symbol"?L:String(L)}function x(z,L){if(typeof z!="object"||z===null)return z;var P=z[Symbol.toPrimitive];if(P!==void 0){var k=P.call(z,L);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(z)}function y(z,L,P){A(z,L),L.set(z,P)}function A(z,L){if(L.has(z))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m(z,L,P){if(!L.has(z))throw new TypeError("attempted to get private field on non-instance");return P}function p(z,L){var P=C(z,L,"get");return d(z,P)}function d(z,L){return L.get?L.get.call(z):L.value}function f(z,L,P){var k=C(z,L,"set");return _(z,k,P),P}function C(z,L,P){if(!L.has(z))throw new TypeError("attempted to "+P+" private field on non-instance");return L.get(z)}function _(z,L,P){if(L.set)L.set.call(z,P);else{if(!L.writable)throw new TypeError("attempted to set read only private field");L.value=P}}var b=new WeakMap,i=new WeakMap,v=new WeakMap,w=new WeakMap,E=new WeakMap,I=new WeakMap,G=new WeakMap,K=new WeakMap,he=new WeakSet,Ce=new WeakSet,be=new WeakSet,ve=new WeakSet;class Z{constructor(L){O(this,ve),O(this,be),O(this,Ce),O(this,he),y(this,b,{writable:!0,value:void 0}),y(this,i,{writable:!0,value:!1}),y(this,v,{writable:!0,value:this.pointerup.bind(this)}),y(this,w,{writable:!0,value:this.pointerdown.bind(this)}),y(this,E,{writable:!0,value:new Map}),y(this,I,{writable:!0,value:!1}),y(this,G,{writable:!0,value:!1}),y(this,K,{writable:!0,value:void 0}),Z._initialized||(Z._initialized=!0,T.FreeTextEditor.initialize(L.l10n),F.InkEditor.initialize(L.l10n)),L.uiManager.registerEditorTypes([T.FreeTextEditor,F.InkEditor]),f(this,K,L.uiManager),this.pageIndex=L.pageIndex,this.div=L.div,f(this,b,L.accessibilityManager),p(this,K).addLayer(this)}get isEmpty(){return p(this,E).size===0}updateToolbar(L){p(this,K).updateToolbar(L)}updateMode(){let L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p(this,K).getMode();m(this,ve,V).call(this),L===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),p(this,K).unselectAll(),L!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",L===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",L===a.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(L){if(!L&&p(this,K).getMode()!==a.AnnotationEditorType.INK)return;if(!L){for(const k of p(this,E).values())if(k.isEmpty()){k.setInBackground();return}}m(this,be,fe).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(L){p(this,K).setEditingState(L)}addCommands(L){p(this,K).addCommands(L)}enable(){this.div.style.pointerEvents="auto";for(const L of p(this,E).values())L.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const L of p(this,E).values())L.disableEditing();m(this,ve,V).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(L){p(this,K).getActive()!==L&&p(this,K).setActiveEditor(L)}enableClick(){this.div.addEventListener("pointerdown",p(this,w)),this.div.addEventListener("pointerup",p(this,v))}disableClick(){this.div.removeEventListener("pointerdown",p(this,w)),this.div.removeEventListener("pointerup",p(this,v))}attach(L){p(this,E).set(L.id,L)}detach(L){var P;p(this,E).delete(L.id),(P=p(this,b))===null||P===void 0||P.removePointerInTextLayer(L.contentDiv)}remove(L){p(this,K).removeEditor(L),this.detach(L),L.div.style.display="none",setTimeout(()=>{L.div.style.display="",L.div.remove(),L.isAttachedToDOM=!1,document.activeElement===document.body&&p(this,K).focusMainContainer()},0),p(this,G)||this.addInkEditorIfNeeded(!1)}add(L){if(m(this,he,Q).call(this,L),p(this,K).addEditor(L),this.attach(L),!L.isAttachedToDOM){const P=L.render();this.div.append(P),L.isAttachedToDOM=!0}this.moveEditorInDOM(L),L.onceAdded(),p(this,K).addToAnnotationStorage(L)}moveEditorInDOM(L){var P;(P=p(this,b))===null||P===void 0||P.moveElementInDOM(this.div,L.div,L.contentDiv,!0)}addOrRebuild(L){L.needsToBeRebuilt()?L.rebuild():this.add(L)}addANewEditor(L){const P=()=>{this.addOrRebuild(L)},k=()=>{L.remove()};this.addCommands({cmd:P,undo:k,mustExec:!0})}addUndoableEditor(L){const P=()=>{this.addOrRebuild(L)},k=()=>{L.remove()};this.addCommands({cmd:P,undo:k,mustExec:!1})}getNextId(){return p(this,K).getId()}deserialize(L){switch(L.annotationType){case a.AnnotationEditorType.FREETEXT:return T.FreeTextEditor.deserialize(L,this,p(this,K));case a.AnnotationEditorType.INK:return F.InkEditor.deserialize(L,this,p(this,K))}return null}setSelected(L){p(this,K).setSelected(L)}toggleSelected(L){p(this,K).toggleSelected(L)}isSelected(L){return p(this,K).isSelected(L)}unselect(L){p(this,K).unselect(L)}pointerup(L){const{isMac:P}=a.FeatureTest.platform;if(!(L.button!==0||L.ctrlKey&&P)&&L.target===this.div&&p(this,I)){if(f(this,I,!1),!p(this,i)){f(this,i,!0);return}m(this,be,fe).call(this,L)}}pointerdown(L){const{isMac:P}=a.FeatureTest.platform;if(L.button!==0||L.ctrlKey&&P||L.target!==this.div)return;f(this,I,!0);const k=p(this,K).getActive();f(this,i,!k||k.isEmpty())}drop(L){const P=L.dataTransfer.getData("text/plain"),k=p(this,K).getEditor(P);if(!k)return;L.preventDefault(),L.dataTransfer.dropEffect="move",m(this,he,Q).call(this,k);const N=this.div.getBoundingClientRect(),j=L.clientX-N.x,q=L.clientY-N.y;k.translate(j-k.startX,q-k.startY),this.moveEditorInDOM(k),k.div.focus()}dragover(L){L.preventDefault()}destroy(){var L;((L=p(this,K).getActive())===null||L===void 0?void 0:L.parent)===this&&p(this,K).setActiveEditor(null);for(const k of p(this,E).values()){var P;(P=p(this,b))===null||P===void 0||P.removePointerInTextLayer(k.contentDiv),k.setParent(null),k.isAttachedToDOM=!1,k.div.remove()}this.div=null,p(this,E).clear(),p(this,K).removeLayer(this)}render(L){let{viewport:P}=L;this.viewport=P,(0,B.setLayerDimensions)(this.div,P),(0,h.bindEvents)(this,this.div,["dragover","drop"]);for(const k of p(this,K).getEditors(this.pageIndex))this.add(k);this.updateMode()}update(L){let{viewport:P}=L;p(this,K).commitOrRemove(),this.viewport=P,(0,B.setLayerDimensions)(this.div,{rotation:P.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:L,pageHeight:P}=this.viewport.rawDims;return[L,P]}}s.AnnotationEditorLayer=Z;function Q(z){var L;z.parent!==this&&(this.attach(z),(L=z.parent)===null||L===void 0||L.detach(z),z.setParent(this),z.div&&z.isAttachedToDOM&&(z.div.remove(),this.div.append(z.div)))}function ee(z){switch(p(this,K).getMode()){case a.AnnotationEditorType.FREETEXT:return new T.FreeTextEditor(z);case a.AnnotationEditorType.INK:return new F.InkEditor(z)}return null}function fe(z){const L=this.getNextId(),P=m(this,Ce,ee).call(this,{parent:this,id:L,x:z.offsetX,y:z.offsetY,uiManager:p(this,K)});return P&&this.add(P),P}function V(){f(this,G,!0);for(const z of p(this,E).values())z.isEmpty()&&z.remove();f(this,G,!1)}o(Z,"_initialized",!1)},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=l(1),h=l(138),T=l(137);function F(V,z){x(V,z),z.add(V)}function B(V,z,L){return z=O(z),z in V?Object.defineProperty(V,z,{value:L,enumerable:!0,configurable:!0,writable:!0}):V[z]=L,V}function O(V){var z=o(V,"string");return typeof z=="symbol"?z:String(z)}function o(V,z){if(typeof V!="object"||V===null)return V;var L=V[Symbol.toPrimitive];if(L!==void 0){var P=L.call(V,z);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(V)}function g(V,z,L){x(V,z),z.set(V,L)}function x(V,z){if(z.has(V))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y(V,z){var L=d(V,z,"get");return A(V,L)}function A(V,z){return z.get?z.get.call(V):z.value}function m(V,z,L){if(!z.has(V))throw new TypeError("attempted to get private field on non-instance");return L}function p(V,z,L){var P=d(V,z,"set");return f(V,P,L),L}function d(V,z,L){if(!z.has(V))throw new TypeError("attempted to "+L+" private field on non-instance");return z.get(V)}function f(V,z,L){if(z.set)z.set.call(V,L);else{if(!z.writable)throw new TypeError("attempted to set read only private field");z.value=L}}var C=new WeakMap,_=new WeakMap,b=new WeakMap,i=new WeakMap,v=new WeakMap,w=new WeakMap,E=new WeakMap,I=new WeakMap,G=new WeakMap,K=new WeakSet,he=new WeakSet,Ce=new WeakSet,be=new WeakSet;class ve extends T.AnnotationEditor{constructor(z){super({...z,name:"freeTextEditor"}),F(this,be),F(this,Ce),F(this,he),F(this,K),g(this,C,{writable:!0,value:this.editorDivBlur.bind(this)}),g(this,_,{writable:!0,value:this.editorDivFocus.bind(this)}),g(this,b,{writable:!0,value:this.editorDivInput.bind(this)}),g(this,i,{writable:!0,value:this.editorDivKeydown.bind(this)}),g(this,v,{writable:!0,value:void 0}),g(this,w,{writable:!0,value:""}),g(this,E,{writable:!0,value:`${this.id}-editor`}),g(this,I,{writable:!0,value:!1}),g(this,G,{writable:!0,value:void 0}),p(this,v,z.color||ve._defaultColor||T.AnnotationEditor._defaultLineColor),p(this,G,z.fontSize||ve._defaultFontSize)}static initialize(z){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(P=>[P,z.get(P)]));const L=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(L.getPropertyValue("--freetext-padding"))}static updateDefaultParams(z,L){switch(z){case a.AnnotationEditorParamsType.FREETEXT_SIZE:ve._defaultFontSize=L;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:ve._defaultColor=L;break}}updateParams(z,L){switch(z){case a.AnnotationEditorParamsType.FREETEXT_SIZE:m(this,K,Z).call(this,L);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:m(this,he,Q).call(this,L);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ve._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ve._defaultColor||T.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,y(this,G)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,y(this,v)]]}getInitialTranslation(){const z=this.parentScale;return[-ve._internalPadding*z,-(ve._internalPadding+y(this,G))*z]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",y(this,i)),this.editorDiv.addEventListener("focus",y(this,_)),this.editorDiv.addEventListener("blur",y(this,C)),this.editorDiv.addEventListener("input",y(this,b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,E)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",y(this,i)),this.editorDiv.removeEventListener("focus",y(this,_)),this.editorDiv.removeEventListener("blur",y(this,C)),this.editorDiv.removeEventListener("input",y(this,b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(z){super.focusin(z),z.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),y(this,I)||(p(this,I,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),p(this,w,m(this,Ce,ee).call(this).trimEnd()),m(this,be,fe).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(z){this.enableEditMode(),this.editorDiv.focus()}keydown(z){z.target===this.div&&z.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(z){ve._keyboardManager.exec(this,z)}editorDivFocus(z){this.isEditing=!0}editorDivBlur(z){this.isEditing=!1}editorDivInput(z){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let z,L;this.width&&(z=this.x,L=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,E)),this.enableEditing(),ve._l10nPromise.get("editor_free_text2_aria_label").then(k=>{var N;return(N=this.editorDiv)===null||N===void 0?void 0:N.setAttribute("aria-label",k)}),ve._l10nPromise.get("free_text2_default_content").then(k=>{var N;return(N=this.editorDiv)===null||N===void 0?void 0:N.setAttribute("default-content",k)}),this.editorDiv.contentEditable=!0;const{style:P}=this.editorDiv;if(P.fontSize=`calc(${y(this,G)}px * var(--scale-factor))`,P.color=y(this,v),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,h.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[k,N]=this.parentDimensions;this.setAt(z*k,L*N,this.width*k,this.height*N);for(const j of y(this,w).split(`
`)){const q=document.createElement("div");q.append(j?document.createTextNode(j):document.createElement("br")),this.editorDiv.append(q)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(z,L,P){const k=super.deserialize(z,L,P);return p(k,G,z.fontSize),p(k,v,a.Util.makeHexColor(...z.color)),p(k,w,z.value),k}serialize(){if(this.isEmpty())return null;const z=ve._internalPadding*this.parentScale,L=this.getRect(z,z),P=T.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,v));return{annotationType:a.AnnotationEditorType.FREETEXT,color:P,fontSize:y(this,G),value:y(this,w),pageIndex:this.pageIndex,rect:L,rotation:this.rotation}}}s.FreeTextEditor=ve;function Z(V){const z=P=>{this.editorDiv.style.fontSize=`calc(${P}px * var(--scale-factor))`,this.translate(0,-(P-y(this,G))*this.parentScale),p(this,G,P),m(this,be,fe).call(this)},L=y(this,G);this.addCommands({cmd:()=>{z(V)},undo:()=>{z(L)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Q(V){const z=y(this,v);this.addCommands({cmd:()=>{p(this,v,this.editorDiv.style.color=V)},undo:()=>{p(this,v,this.editorDiv.style.color=z)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ee(){const V=this.editorDiv.getElementsByTagName("div");if(V.length===0)return this.editorDiv.innerText;const z=[];for(const L of V)z.push(L.innerText.replace(/\r\n?|\n/,""));return z.join(`
`)}function fe(){const[V,z]=this.parentDimensions;let L;if(this.isAttachedToDOM)L=this.div.getBoundingClientRect();else{const{currentLayer:P,div:k}=this,N=k.style.display;k.style.display="hidden",P.div.append(this.div),L=k.getBoundingClientRect(),k.remove(),k.style.display=N}this.width=L.width/V,this.height=L.height/z}B(ve,"_freeTextDefaultContent",""),B(ve,"_l10nPromise",void 0),B(ve,"_internalPadding",0),B(ve,"_defaultColor",null),B(ve,"_defaultFontSize",10),B(ve,"_keyboardManager",new h.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ve.prototype.commitOrRemove]])),B(ve,"_type","freetext")},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return T.fitCurve}});var a=l(1),h=l(137),T=l(162),F=l(138);function B(Ne,we){y(Ne,we),we.add(Ne)}function O(Ne,we,Xe){return we=o(we),we in Ne?Object.defineProperty(Ne,we,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Ne[we]=Xe,Ne}function o(Ne){var we=g(Ne,"string");return typeof we=="symbol"?we:String(we)}function g(Ne,we){if(typeof Ne!="object"||Ne===null)return Ne;var Xe=Ne[Symbol.toPrimitive];if(Xe!==void 0){var st=Xe.call(Ne,we);if(typeof st!="object")return st;throw new TypeError("@@toPrimitive must return a primitive value.")}return(we==="string"?String:Number)(Ne)}function x(Ne,we,Xe){y(Ne,we),we.set(Ne,Xe)}function y(Ne,we){if(we.has(Ne))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A(Ne,we,Xe){return m(Ne,we),Xe}function m(Ne,we){if(Ne!==we)throw new TypeError("Private static access of wrong provenance")}function p(Ne,we,Xe){var st=C(Ne,we,"set");return d(Ne,st,Xe),Xe}function d(Ne,we,Xe){if(we.set)we.set.call(Ne,Xe);else{if(!we.writable)throw new TypeError("attempted to set read only private field");we.value=Xe}}function f(Ne,we){var Xe=C(Ne,we,"get");return _(Ne,Xe)}function C(Ne,we,Xe){if(!we.has(Ne))throw new TypeError("attempted to "+Xe+" private field on non-instance");return we.get(Ne)}function _(Ne,we){return we.get?we.get.call(Ne):we.value}function b(Ne,we,Xe){if(!we.has(Ne))throw new TypeError("attempted to get private field on non-instance");return Xe}const i=16,v=100;var w=new WeakMap,E=new WeakMap,I=new WeakMap,G=new WeakMap,K=new WeakMap,he=new WeakMap,Ce=new WeakMap,be=new WeakMap,ve=new WeakMap,Z=new WeakMap,Q=new WeakMap,ee=new WeakMap,fe=new WeakMap,V=new WeakMap,z=new WeakSet,L=new WeakSet,P=new WeakSet,k=new WeakSet,N=new WeakSet,j=new WeakSet,q=new WeakSet,te=new WeakSet,se=new WeakSet,re=new WeakSet,ce=new WeakSet,H=new WeakSet,W=new WeakSet,ne=new WeakSet,$=new WeakSet,R=new WeakSet,U=new WeakSet,X=new WeakSet,J=new WeakSet,le=new WeakSet,ae=new WeakSet,pe=new WeakSet;class oe extends h.AnnotationEditor{constructor(we){super({...we,name:"inkEditor"}),B(this,pe),B(this,ae),B(this,le),B(this,J),B(this,X),B(this,U),B(this,R),B(this,$),B(this,ne),B(this,W),B(this,H),B(this,ce),B(this,re),B(this,se),B(this,te),B(this,q),B(this,j),B(this,N),B(this,k),B(this,P),B(this,L),B(this,z),x(this,w,{writable:!0,value:0}),x(this,E,{writable:!0,value:0}),x(this,I,{writable:!0,value:0}),x(this,G,{writable:!0,value:this.canvasPointermove.bind(this)}),x(this,K,{writable:!0,value:this.canvasPointerleave.bind(this)}),x(this,he,{writable:!0,value:this.canvasPointerup.bind(this)}),x(this,Ce,{writable:!0,value:this.canvasPointerdown.bind(this)}),x(this,be,{writable:!0,value:!1}),x(this,ve,{writable:!0,value:!1}),x(this,Z,{writable:!0,value:null}),x(this,Q,{writable:!0,value:null}),x(this,ee,{writable:!0,value:0}),x(this,fe,{writable:!0,value:0}),x(this,V,{writable:!0,value:null}),this.color=we.color||null,this.thickness=we.thickness||null,this.opacity=we.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(we){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Xe=>[Xe,we.get(Xe)]))}static updateDefaultParams(we,Xe){switch(we){case a.AnnotationEditorParamsType.INK_THICKNESS:oe._defaultThickness=Xe;break;case a.AnnotationEditorParamsType.INK_COLOR:oe._defaultColor=Xe;break;case a.AnnotationEditorParamsType.INK_OPACITY:oe._defaultOpacity=Xe/100;break}}updateParams(we,Xe){switch(we){case a.AnnotationEditorParamsType.INK_THICKNESS:b(this,z,_e).call(this,Xe);break;case a.AnnotationEditorParamsType.INK_COLOR:b(this,L,Ae).call(this,Xe);break;case a.AnnotationEditorParamsType.INK_OPACITY:b(this,P,ke).call(this,Xe);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,oe._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,oe._defaultColor||h.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(oe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||oe._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||oe._defaultColor||h.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??oe._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(b(this,ce,Se).call(this),b(this,H,Be).call(this)),this.isAttachedToDOM||(this.parent.add(this),b(this,W,Ze).call(this)),b(this,ae,$e).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,f(this,Q).disconnect(),p(this,Q,null),super.remove())}setParent(we){!this.parent&&we?this._uiManager.removeShouldRescale(this):this.parent&&we===null&&this._uiManager.addShouldRescale(this),super.setParent(we)}onScaleChanging(){const[we,Xe]=this.parentDimensions,st=this.width*we,tt=this.height*Xe;this.setDimensions(st,tt)}enableEditMode(){f(this,be)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",f(this,Ce)),this.canvas.addEventListener("pointerup",f(this,he)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",f(this,Ce)),this.canvas.removeEventListener("pointerup",f(this,he)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){f(this,be)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),p(this,be,!0),this.div.classList.add("disabled"),b(this,ae,$e).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(we){super.focusin(we),this.enableEditMode()}canvasPointerdown(we){we.button!==0||!this.isInEditMode()||f(this,be)||(this.setInForeground(),we.type!=="mouse"&&this.div.focus(),we.stopPropagation(),this.canvas.addEventListener("pointerleave",f(this,K)),this.canvas.addEventListener("pointermove",f(this,G)),b(this,j,Ge).call(this,we.offsetX,we.offsetY))}canvasPointermove(we){we.stopPropagation(),b(this,q,at).call(this,we.offsetX,we.offsetY)}canvasPointerup(we){we.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(we.stopPropagation(),b(this,re,de).call(this,we),this.setInBackground())}canvasPointerleave(we){b(this,re,de).call(this,we),this.setInBackground()}render(){if(this.div)return this.div;let we,Xe;this.width&&(we=this.x,Xe=this.y),super.render(),oe._l10nPromise.get("editor_ink2_aria_label").then(_t=>{var Tt;return(Tt=this.div)===null||Tt===void 0?void 0:Tt.setAttribute("aria-label",_t)});const[st,tt,lt,ct]=b(this,k,Me).call(this);if(this.setAt(st,tt,0,0),this.setDims(lt,ct),b(this,ce,Se).call(this),this.width){const[_t,Tt]=this.parentDimensions;this.setAt(we*_t,Xe*Tt,this.width*_t,this.height*Tt),p(this,ve,!0),b(this,W,Ze).call(this),this.setDims(this.width*_t,this.height*Tt),b(this,se,me).call(this),b(this,pe,pt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return b(this,H,Be).call(this),this.div}setDimensions(we,Xe){const st=Math.round(we),tt=Math.round(Xe);if(f(this,ee)===st&&f(this,fe)===tt)return;p(this,ee,st),p(this,fe,tt),this.canvas.style.visibility="hidden",f(this,w)&&Math.abs(f(this,w)-we/Xe)>.01&&(Xe=Math.ceil(we/f(this,w)),this.setDims(we,Xe));const[lt,ct]=this.parentDimensions;this.width=we/lt,this.height=Xe/ct,f(this,be)&&b(this,ne,ut).call(this,we,Xe),b(this,W,Ze).call(this),b(this,se,me).call(this),this.canvas.style.visibility="visible"}static deserialize(we,Xe,st){const tt=super.deserialize(we,Xe,st);tt.thickness=we.thickness,tt.color=a.Util.makeHexColor(...we.color),tt.opacity=we.opacity;const[lt,ct]=tt.pageDimensions,_t=tt.width*lt,Tt=tt.height*ct,It=tt.parentScale,Yt=we.thickness/2;p(tt,w,_t/Tt),p(tt,be,!0),p(tt,ee,Math.round(_t)),p(tt,fe,Math.round(Tt));for(const{bezier:Mt}of we.paths){const Zt=[];tt.paths.push(Zt);let en=It*(Mt[0]-Yt),fn=It*(Tt-Mt[1]-Yt);for(let Pt=2,Er=Mt.length;Pt<Er;Pt+=6){const Vr=It*(Mt[Pt]-Yt),on=It*(Tt-Mt[Pt+1]-Yt),rn=It*(Mt[Pt+2]-Yt),Bn=It*(Tt-Mt[Pt+3]-Yt),lr=It*(Mt[Pt+4]-Yt),Jn=It*(Tt-Mt[Pt+5]-Yt);Zt.push([[en,fn],[Vr,on],[rn,Bn],[lr,Jn]]),en=lr,fn=Jn}const Gt=A(this,oe,We).call(this,Zt);tt.bezierPath2D.push(Gt)}const Nt=b(tt,J,qe).call(tt);return p(tt,I,Math.max(i,Nt[2]-Nt[0])),p(tt,E,Math.max(i,Nt[3]-Nt[1])),b(tt,ne,ut).call(tt,_t,Tt),tt}serialize(){if(this.isEmpty())return null;const we=this.getRect(0,0),Xe=this.rotation%180===0?we[3]-we[1]:we[2]-we[0],st=h.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:st,thickness:this.thickness,opacity:this.opacity,paths:b(this,R,it).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Xe),pageIndex:this.pageIndex,rect:we,rotation:this.rotation}}}s.InkEditor=oe;function _e(Ne){const we=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ne,b(this,ae,$e).call(this)},undo:()=>{this.thickness=we,b(this,ae,$e).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Ae(Ne){const we=this.color;this.addCommands({cmd:()=>{this.color=Ne,b(this,se,me).call(this)},undo:()=>{this.color=we,b(this,se,me).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ke(Ne){Ne/=100;const we=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ne,b(this,se,me).call(this)},undo:()=>{this.opacity=we,b(this,se,me).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Me(){const{parentRotation:Ne,parentDimensions:[we,Xe]}=this;switch(Ne){case 90:return[0,Xe,Xe,we];case 180:return[we,Xe,we,Xe];case 270:return[we,0,Xe,we];default:return[0,0,we,Xe]}}function Fe(){const{ctx:Ne,color:we,opacity:Xe,thickness:st,parentScale:tt,scaleFactor:lt}=this;Ne.lineWidth=st*tt/lt,Ne.lineCap="round",Ne.lineJoin="round",Ne.miterLimit=10,Ne.strokeStyle=`${we}${(0,F.opacityToHex)(Xe)}`}function Ge(Ne,we){this.isEditing=!0,f(this,ve)||(p(this,ve,!0),b(this,W,Ze).call(this),this.thickness||(this.thickness=oe._defaultThickness),this.color||(this.color=oe._defaultColor||h.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=oe._defaultOpacity)),this.currentPath.push([Ne,we]),p(this,Z,null),b(this,N,Fe).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ne,we),p(this,V,()=>{f(this,V)&&(f(this,Z)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):b(this,se,me).call(this),this.ctx.lineTo(...f(this,Z)),p(this,Z,null),this.ctx.stroke()),window.requestAnimationFrame(f(this,V)))}),window.requestAnimationFrame(f(this,V))}function at(Ne,we){const[Xe,st]=this.currentPath.at(-1);Ne===Xe&&we===st||(this.currentPath.push([Ne,we]),p(this,Z,[Ne,we]))}function De(Ne,we){this.ctx.closePath(),p(this,V,null),Ne=Math.min(Math.max(Ne,0),this.canvas.width),we=Math.min(Math.max(we,0),this.canvas.height);const[Xe,st]=this.currentPath.at(-1);(Ne!==Xe||we!==st)&&this.currentPath.push([Ne,we]);let tt;if(this.currentPath.length!==1)tt=(0,T.fitCurve)(this.currentPath,30,null);else{const Tt=[Ne,we];tt=[[Tt,Tt.slice(),Tt.slice(),Tt]]}const lt=A(oe,oe,We).call(oe,tt);this.currentPath.length=0;const ct=()=>{this.paths.push(tt),this.bezierPath2D.push(lt),this.rebuild()},_t=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(b(this,ce,Se).call(this),b(this,H,Be).call(this)),b(this,ae,$e).call(this))};this.addCommands({cmd:ct,undo:_t,mustExec:!0})}function me(){if(this.isEmpty()){b(this,$,St).call(this);return}b(this,N,Fe).call(this);const{canvas:Ne,ctx:we}=this;we.setTransform(1,0,0,1,0,0),we.clearRect(0,0,Ne.width,Ne.height),b(this,$,St).call(this);for(const Xe of this.bezierPath2D)we.stroke(Xe)}function de(Ne){b(this,te,De).call(this,Ne.offsetX,Ne.offsetY),this.canvas.removeEventListener("pointerleave",f(this,K)),this.canvas.removeEventListener("pointermove",f(this,G)),this.addToAnnotationStorage()}function Se(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",oe._l10nPromise.get("editor_ink_canvas_aria_label").then(Ne=>{var we;return(we=this.canvas)===null||we===void 0?void 0:we.setAttribute("aria-label",Ne)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Be(){let Ne=null;p(this,Q,new ResizeObserver(we=>{const Xe=we[0].contentRect;Xe.width&&Xe.height&&(Ne!==null&&clearTimeout(Ne),Ne=setTimeout(()=>{this.fixDims(),Ne=null},v),this.setDimensions(Xe.width,Xe.height))})),f(this,Q).observe(this.div)}function Ze(){if(!f(this,ve))return;const[Ne,we]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ne),this.canvas.height=Math.ceil(this.height*we),b(this,$,St).call(this)}function ut(Ne,we){const Xe=b(this,le,ot).call(this),st=(Ne-Xe)/f(this,I),tt=(we-Xe)/f(this,E);this.scaleFactor=Math.min(st,tt)}function St(){const Ne=b(this,le,ot).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ne,this.translationY*this.scaleFactor+Ne)}function We(Ne){const we=new Path2D;for(let Xe=0,st=Ne.length;Xe<st;Xe++){const[tt,lt,ct,_t]=Ne[Xe];Xe===0&&we.moveTo(...tt),we.bezierCurveTo(lt[0],lt[1],ct[0],ct[1],_t[0],_t[1])}return we}function it(Ne,we,Xe,st){const lt=[],ct=this.thickness/2;let _t,Tt;for(const It of this.paths){_t=[],Tt=[];for(let Yt=0,Nt=It.length;Yt<Nt;Yt++){const[Mt,Zt,en,fn]=It[Yt],Gt=Ne*(Mt[0]+we)+ct,Pt=st-Ne*(Mt[1]+Xe)-ct,Er=Ne*(Zt[0]+we)+ct,Vr=st-Ne*(Zt[1]+Xe)-ct,on=Ne*(en[0]+we)+ct,rn=st-Ne*(en[1]+Xe)-ct,Bn=Ne*(fn[0]+we)+ct,lr=st-Ne*(fn[1]+Xe)-ct;Yt===0&&(_t.push(Gt,Pt),Tt.push(Gt,Pt)),_t.push(Er,Vr,on,rn,Bn,lr),b(this,U,ze).call(this,Gt,Pt,Er,Vr,on,rn,Bn,lr,4,Tt)}lt.push({bezier:_t,points:Tt})}return lt}function ze(Ne,we,Xe,st,tt,lt,ct,_t,Tt,It){if(b(this,X,Re).call(this,Ne,we,Xe,st,tt,lt,ct,_t)){It.push(ct,_t);return}for(let Yt=1;Yt<Tt-1;Yt++){const Nt=Yt/Tt,Mt=1-Nt;let Zt=Nt*Ne+Mt*Xe,en=Nt*we+Mt*st,fn=Nt*Xe+Mt*tt,Gt=Nt*st+Mt*lt;const Pt=Nt*tt+Mt*ct,Er=Nt*lt+Mt*_t;Zt=Nt*Zt+Mt*fn,en=Nt*en+Mt*Gt,fn=Nt*fn+Mt*Pt,Gt=Nt*Gt+Mt*Er,Zt=Nt*Zt+Mt*fn,en=Nt*en+Mt*Gt,It.push(Zt,en)}It.push(ct,_t)}function Re(Ne,we,Xe,st,tt,lt,ct,_t){const It=(3*Xe-2*Ne-ct)**2,Yt=(3*st-2*we-_t)**2,Nt=(3*tt-Ne-2*ct)**2,Mt=(3*lt-we-2*_t)**2;return Math.max(It,Nt)+Math.max(Yt,Mt)<=10}function qe(){let Ne=1/0,we=-1/0,Xe=1/0,st=-1/0;for(const tt of this.paths)for(const[lt,ct,_t,Tt]of tt){const It=a.Util.bezierBoundingBox(...lt,...ct,..._t,...Tt);Ne=Math.min(Ne,It[0]),Xe=Math.min(Xe,It[1]),we=Math.max(we,It[2]),st=Math.max(st,It[3])}return[Ne,Xe,we,st]}function ot(){return f(this,be)?Math.ceil(this.thickness*this.parentScale):0}function $e(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!f(this,be)){b(this,se,me).call(this);return}const we=b(this,J,qe).call(this),Xe=b(this,le,ot).call(this);p(this,I,Math.max(i,we[2]-we[0])),p(this,E,Math.max(i,we[3]-we[1]));const st=Math.ceil(Xe+f(this,I)*this.scaleFactor),tt=Math.ceil(Xe+f(this,E)*this.scaleFactor),[lt,ct]=this.parentDimensions;this.width=st/lt,this.height=tt/ct,p(this,w,st/tt),b(this,pe,pt).call(this);const _t=this.translationX,Tt=this.translationY;this.translationX=-we[0],this.translationY=-we[1],b(this,W,Ze).call(this),b(this,se,me).call(this),p(this,ee,st),p(this,fe,tt),this.setDims(st,tt);const It=Ne?Xe/this.scaleFactor/2:0;this.translate(_t-this.translationX-It,Tt-this.translationY-It)}function pt(){const{style:Ne}=this.div;f(this,w)>=1?(Ne.minHeight=`${i}px`,Ne.minWidth=`${Math.round(f(this,w)*i)}px`):(Ne.minWidth=`${i}px`,Ne.minHeight=`${Math.round(i/f(this,w))}px`)}O(oe,"_defaultColor",null),O(oe,"_defaultOpacity",1),O(oe,"_defaultThickness",1),O(oe,"_l10nPromise",void 0),O(oe,"_type","ink")},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const a=l(163);s.fitCurve=a},u=>{function s(m,p,d){if(!Array.isArray(m))throw new TypeError("First argument should be an array");if(m.forEach(b=>{if(!Array.isArray(b)||b.some(i=>typeof i!="number")||b.length!==m[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),m=m.filter((b,i)=>i===0||!b.every((v,w)=>v===m[i-1][w])),m.length<2)return[];const f=m.length,C=x(m[1],m[0]),_=x(m[f-2],m[f-1]);return l(m,C,_,p,d)}function l(m,p,d,f,C){var b,i,v,w,E,I,G,K,he,Ce,be,ve,Z;if(m.length===2)return ve=y.vectorLen(y.subtract(m[0],m[1]))/3,b=[m[0],y.addArrays(m[0],y.mulItems(p,ve)),y.addArrays(m[1],y.mulItems(d,ve)),m[1]],[b];if(i=B(m),[b,w,I]=a(m,i,i,p,d,C),w===0||w<f)return[b];if(w<f*f)for(v=i,E=w,G=I,Z=0;Z<20;Z++){if(v=T(b,m,v),[b,w,I]=a(m,i,v,p,d,C),w<f)return[b];if(I===G){let Q=w/E;if(Q>.9999&&Q<1.0001)break}E=w,G=I}return be=[],K=y.subtract(m[I-1],m[I+1]),K.every(Q=>Q===0)&&(K=y.subtract(m[I-1],m[I]),[K[0],K[1]]=[-K[1],K[0]]),he=y.normalize(K),Ce=y.mulItems(he,-1),be=be.concat(l(m.slice(0,I+1),p,he,f,C)),be=be.concat(l(m.slice(I),Ce,d,f,C)),be}function a(m,p,d,f,C,_){var b,i,v;return b=h(m,d,f,C),[i,v]=O(m,b,p),_&&_({bez:b,points:m,params:p,maxErr:i,maxPoint:v}),[b,i,v]}function h(m,p,d,f){var C,_,b,i,v,w,E,I,G,K,he,Ce,be,ve,Z,Q,ee,fe=m[0],V=m[m.length-1];for(C=[fe,null,null,V],_=y.zeros_Xx2x2(p.length),be=0,ve=p.length;be<ve;be++)Q=p[be],ee=1-Q,b=_[be],b[0]=y.mulItems(d,3*Q*(ee*ee)),b[1]=y.mulItems(f,3*ee*(Q*Q));for(i=[[0,0],[0,0]],v=[0,0],be=0,ve=m.length;be<ve;be++)Q=p[be],b=_[be],i[0][0]+=y.dot(b[0],b[0]),i[0][1]+=y.dot(b[0],b[1]),i[1][0]+=y.dot(b[0],b[1]),i[1][1]+=y.dot(b[1],b[1]),Z=y.subtract(m[be],A.q([fe,fe,V,V],Q)),v[0]+=y.dot(b[0],Z),v[1]+=y.dot(b[1],Z);return w=i[0][0]*i[1][1]-i[1][0]*i[0][1],E=i[0][0]*v[1]-i[1][0]*v[0],I=v[0]*i[1][1]-v[1]*i[0][1],G=w===0?0:I/w,K=w===0?0:E/w,Ce=y.vectorLen(y.subtract(fe,V)),he=1e-6*Ce,G<he||K<he?(C[1]=y.addArrays(fe,y.mulItems(d,Ce/3)),C[2]=y.addArrays(V,y.mulItems(f,Ce/3))):(C[1]=y.addArrays(fe,y.mulItems(d,G)),C[2]=y.addArrays(V,y.mulItems(f,K))),C}function T(m,p,d){return d.map((f,C)=>F(m,p[C],f))}function F(m,p,d){var f=y.subtract(A.q(m,d),p),C=A.qprime(m,d),_=y.mulMatrix(f,C),b=y.sum(y.squareItems(C))+2*y.mulMatrix(f,A.qprimeprime(m,d));return b===0?d:d-_/b}function B(m){var p=[],d,f,C;return m.forEach((_,b)=>{d=b?f+y.vectorLen(y.subtract(_,C)):0,p.push(d),f=d,C=_}),p=p.map(_=>_/f),p}function O(m,p,d){var f,C,_,b,i,v,w,E;C=0,_=Math.floor(m.length/2);const I=o(p,10);for(i=0,v=m.length;i<v;i++)w=m[i],E=g(p,d[i],I,10),b=y.subtract(A.q(p,E),w),f=b[0]*b[0]+b[1]*b[1],f>C&&(C=f,_=i);return[C,_]}var o=function(m,p){for(var d,f=[0],C=m[0],_=0,b=1;b<=p;b++)d=A.q(m,b/p),_+=y.vectorLen(y.subtract(d,C)),f.push(_),C=d;return f=f.map(i=>i/_),f};function g(m,p,d,f){if(p<0)return 0;if(p>1)return 1;for(var C,_,b,i,v,w=1;w<=f;w++)if(p<=d[w]){i=(w-1)/f,b=w/f,_=d[w-1],C=d[w],v=(p-_)/(C-_)*(b-i)+i;break}return v}function x(m,p){return y.normalize(y.subtract(m,p))}class y{static zeros_Xx2x2(p){for(var d=[];p--;)d.push([0,0]);return d}static mulItems(p,d){return p.map(f=>f*d)}static mulMatrix(p,d){return p.reduce((f,C,_)=>f+C*d[_],0)}static subtract(p,d){return p.map((f,C)=>f-d[C])}static addArrays(p,d){return p.map((f,C)=>f+d[C])}static addItems(p,d){return p.map(f=>f+d)}static sum(p){return p.reduce((d,f)=>d+f)}static dot(p,d){return y.mulMatrix(p,d)}static vectorLen(p){return Math.hypot(...p)}static divItems(p,d){return p.map(f=>f/d)}static squareItems(p){return p.map(d=>d*d)}static normalize(p){return this.divItems(p,this.vectorLen(p))}}class A{static q(p,d){var f=1-d,C=y.mulItems(p[0],f*f*f),_=y.mulItems(p[1],3*f*f*d),b=y.mulItems(p[2],3*f*d*d),i=y.mulItems(p[3],d*d*d);return y.addArrays(y.addArrays(C,_),y.addArrays(b,i))}static qprime(p,d){var f=1-d,C=y.mulItems(y.subtract(p[1],p[0]),3*f*f),_=y.mulItems(y.subtract(p[2],p[1]),6*f*d),b=y.mulItems(y.subtract(p[3],p[2]),3*d*d);return y.addArrays(y.addArrays(C,_),b)}static qprimeprime(p,d){return y.addArrays(y.mulItems(y.addArrays(y.subtract(p[2],y.mulItems(p[1],2)),p[0]),6*(1-d)),y.mulItems(y.addArrays(y.subtract(p[3],y.mulItems(p[2],2)),p[1]),6*d))}}u.exports=s,u.exports.fitCubic=l,u.exports.createTangent=x},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var a=l(1),h=l(139),T=l(136),F=l(165),B=l(166);function O($,R,U){return o($,R),U}function o($,R){if($!==R)throw new TypeError("Private static access of wrong provenance")}function g($,R){x($,R),R.add($)}function x($,R){if(R.has($))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y($,R,U){if(!R.has($))throw new TypeError("attempted to get private field on non-instance");return U}const A=1e3,m=9,p=new WeakSet;function d($){return{width:$[2]-$[0],height:$[3]-$[1]}}class f{static create(R){switch(R.data.annotationType){case a.AnnotationType.LINK:return new i(R);case a.AnnotationType.TEXT:return new E(R);case a.AnnotationType.WIDGET:switch(R.data.fieldType){case"Tx":return new G(R);case"Btn":return R.data.radioButton?new he(R):R.data.checkBox?new K(R):new Ce(R);case"Ch":return new be(R)}return new I(R);case a.AnnotationType.POPUP:return new ve(R);case a.AnnotationType.FREETEXT:return new Q(R);case a.AnnotationType.LINE:return new ee(R);case a.AnnotationType.SQUARE:return new fe(R);case a.AnnotationType.CIRCLE:return new V(R);case a.AnnotationType.POLYLINE:return new z(R);case a.AnnotationType.CARET:return new P(R);case a.AnnotationType.INK:return new k(R);case a.AnnotationType.POLYGON:return new L(R);case a.AnnotationType.HIGHLIGHT:return new N(R);case a.AnnotationType.UNDERLINE:return new j(R);case a.AnnotationType.SQUIGGLY:return new q(R);case a.AnnotationType.STRIKEOUT:return new te(R);case a.AnnotationType.STAMP:return new se(R);case a.AnnotationType.FILEATTACHMENT:return new re(R);default:return new C(R)}}}class C{constructor(R){let{isRenderable:U=!1,ignoreBorder:X=!1,createQuadrilaterals:J=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=U,this.data=R.data,this.layer=R.layer,this.page=R.page,this.viewport=R.viewport,this.linkService=R.linkService,this.downloadManager=R.downloadManager,this.imageResourcesPath=R.imageResourcesPath,this.renderForms=R.renderForms,this.svgFactory=R.svgFactory,this.annotationStorage=R.annotationStorage,this.enableScripting=R.enableScripting,this.hasJSActions=R.hasJSActions,this._fieldObjects=R.fieldObjects,U&&(this.container=this._createContainer(X)),J&&(this.quadrilaterals=this._createQuadrilaterals(X))}_createContainer(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{data:U,page:X,viewport:J}=this,le=document.createElement("section");le.setAttribute("data-annotation-id",U.id);const{pageWidth:ae,pageHeight:pe,pageX:oe,pageY:_e}=J.rawDims,{width:Ae,height:ke}=d(U.rect),Me=a.Util.normalizeRect([U.rect[0],X.view[3]-U.rect[1]+X.view[1],U.rect[2],X.view[3]-U.rect[3]+X.view[1]]);if(!R&&U.borderStyle.width>0){le.style.borderWidth=`${U.borderStyle.width}px`;const Ge=U.borderStyle.horizontalCornerRadius,at=U.borderStyle.verticalCornerRadius;if(Ge>0||at>0){const me=`calc(${Ge}px * var(--scale-factor)) / calc(${at}px * var(--scale-factor))`;le.style.borderRadius=me}else if(this instanceof he){const me=`calc(${Ae}px * var(--scale-factor)) / calc(${ke}px * var(--scale-factor))`;le.style.borderRadius=me}switch(U.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:le.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:le.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:le.style.borderBottomStyle="solid";break}const De=U.borderColor||null;De?le.style.borderColor=a.Util.makeHexColor(De[0]|0,De[1]|0,De[2]|0):le.style.borderWidth=0}le.style.left=`${100*(Me[0]-oe)/ae}%`,le.style.top=`${100*(Me[1]-_e)/pe}%`;const{rotation:Fe}=U;return U.hasOwnCanvas||Fe===0?(le.style.width=`${100*Ae/ae}%`,le.style.height=`${100*ke/pe}%`):this.setRotation(Fe,le),le}setRotation(R){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const{pageWidth:X,pageHeight:J}=this.viewport.rawDims,{width:le,height:ae}=d(this.data.rect);let pe,oe;R%180===0?(pe=100*le/X,oe=100*ae/J):(pe=100*ae/X,oe=100*le/J),U.style.width=`${pe}%`,U.style.height=`${oe}%`,U.setAttribute("data-main-rotation",(360-R)%360)}get _commonActions(){const R=(U,X,J)=>{const le=J.detail[U];J.target.style[X]=F.ColorConverters[`${le[0]}_HTML`](le.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:U=>{const X=U.detail.display%2===1;this.container.style.visibility=X?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:X,print:U.detail.display===0||U.detail.display===3})},print:U=>{this.annotationStorage.setValue(this.data.id,{print:U.detail.print})},hidden:U=>{this.container.style.visibility=U.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:U.detail.hidden})},focus:U=>{setTimeout(()=>U.target.focus({preventScroll:!1}),0)},userName:U=>{U.target.title=U.detail.userName},readonly:U=>{U.detail.readonly?U.target.setAttribute("readonly",""):U.target.removeAttribute("readonly")},required:U=>{this._setRequired(U.target,U.detail.required)},bgColor:U=>{R("bgColor","backgroundColor",U)},fillColor:U=>{R("fillColor","backgroundColor",U)},fgColor:U=>{R("fgColor","color",U)},textColor:U=>{R("textColor","color",U)},borderColor:U=>{R("borderColor","borderColor",U)},strokeColor:U=>{R("strokeColor","borderColor",U)},rotation:U=>{const X=U.detail.rotation;this.setRotation(X),this.annotationStorage.setValue(this.data.id,{rotation:X})}})}_dispatchEventFromSandbox(R,U){const X=this._commonActions;for(const J of Object.keys(U.detail)){const le=R[J]||X[J];le==null||le(U)}}_setDefaultPropertiesFromJS(R){if(!this.enableScripting)return;const U=this.annotationStorage.getRawValue(this.data.id);if(!U)return;const X=this._commonActions;for(const[J,le]of Object.entries(U)){const ae=X[J];if(ae){const pe={detail:{[J]:le},target:R};ae(pe),delete U[J]}}}_createQuadrilaterals(){let R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const U=[],X=this.data.rect;for(const J of this.data.quadPoints)this.data.rect=[J[2].x,J[2].y,J[1].x,J[1].y],U.push(this._createContainer(R));return this.data.rect=X,U}_createPopup(R,U){let X=this.container;this.quadrilaterals&&(R=R||this.quadrilaterals,X=this.quadrilaterals[0]),R||(R=document.createElement("div"),R.className="popupTriggerArea",X.append(R));const le=new Z({container:X,trigger:R,color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,hideWrapper:!0}).render();le.style.left="100%",X.append(le)}_renderQuadrilaterals(R){for(const U of this.quadrilaterals)U.className=R;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(R){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const X=[];if(this._fieldObjects){const J=this._fieldObjects[R];if(J)for(const{page:le,id:ae,exportValues:pe}of J){if(le===-1||ae===U)continue;const oe=typeof pe=="string"?pe:null,_e=document.querySelector(`[data-element-id="${ae}"]`);if(_e&&!p.has(_e)){(0,a.warn)(`_getElementsByName - element not allowed: ${ae}`);continue}X.push({id:ae,exportValue:oe,domElement:_e})}return X}for(const J of document.getElementsByName(R)){const{exportValue:le}=J,ae=J.getAttribute("data-element-id");ae!==U&&p.has(J)&&X.push({id:ae,exportValue:le,domElement:J})}return X}}var _=new WeakSet,b=new WeakSet;class i extends C{constructor(R){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(R,{isRenderable:!0,ignoreBorder:!!(U!=null&&U.ignoreBorder),createQuadrilaterals:!0}),g(this,b),g(this,_),this.isTooltipOnly=R.data.isTooltipOnly}render(){const{data:R,linkService:U}=this,X=document.createElement("a");X.setAttribute("data-element-id",R.id);let J=!1;return R.url?(U.addLinkAttributes(X,R.url,R.newWindow),J=!0):R.action?(this._bindNamedAction(X,R.action),J=!0):R.attachment?(this._bindAttachment(X,R.attachment),J=!0):R.setOCGState?(y(this,b,w).call(this,X,R.setOCGState),J=!0):R.dest?(this._bindLink(X,R.dest),J=!0):(R.actions&&(R.actions.Action||R.actions["Mouse Up"]||R.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(X,R),J=!0),R.resetForm?(this._bindResetFormAction(X,R.resetForm),J=!0):this.isTooltipOnly&&!J&&(this._bindLink(X,""),J=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((le,ae)=>{const pe=ae===0?X:X.cloneNode();return le.append(pe),le}):(this.container.className="linkAnnotation",J&&this.container.append(X),this.container)}_bindLink(R,U){R.href=this.linkService.getDestinationHash(U),R.onclick=()=>(U&&this.linkService.goToDestination(U),!1),(U||U==="")&&y(this,_,v).call(this)}_bindNamedAction(R,U){R.href=this.linkService.getAnchorUrl(""),R.onclick=()=>(this.linkService.executeNamedAction(U),!1),y(this,_,v).call(this)}_bindAttachment(R,U){R.href=this.linkService.getAnchorUrl(""),R.onclick=()=>{var X;return(X=this.downloadManager)===null||X===void 0||X.openOrDownloadData(this.container,U.content,U.filename),!1},y(this,_,v).call(this)}_bindJSAction(R,U){R.href=this.linkService.getAnchorUrl("");const X=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const J of Object.keys(U.actions)){const le=X.get(J);le&&(R[le]=()=>{var ae;return(ae=this.linkService.eventBus)===null||ae===void 0||ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U.id,name:J}}),!1})}R.onclick||(R.onclick=()=>!1),y(this,_,v).call(this)}_bindResetFormAction(R,U){const X=R.onclick;if(X||(R.href=this.linkService.getAnchorUrl("")),y(this,_,v).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),X||(R.onclick=()=>!1);return}R.onclick=()=>{X==null||X();const{fields:J,refs:le,include:ae}=U,pe=[];if(J.length!==0||le.length!==0){const ke=new Set(le);for(const Me of J){const Fe=this._fieldObjects[Me]||[];for(const{id:Ge}of Fe)ke.add(Ge)}for(const Me of Object.values(this._fieldObjects))for(const Fe of Me)ke.has(Fe.id)===ae&&pe.push(Fe)}else for(const ke of Object.values(this._fieldObjects))pe.push(...ke);const oe=this.annotationStorage,_e=[];for(const ke of pe){const{id:Me}=ke;switch(_e.push(Me),ke.type){case"text":{const Ge=ke.defaultValue||"";oe.setValue(Me,{value:Ge});break}case"checkbox":case"radiobutton":{const Ge=ke.defaultValue===ke.exportValues;oe.setValue(Me,{value:Ge});break}case"combobox":case"listbox":{const Ge=ke.defaultValue||"";oe.setValue(Me,{value:Ge});break}default:continue}const Fe=document.querySelector(`[data-element-id="${Me}"]`);if(Fe){if(!p.has(Fe)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${Me}`);continue}}else continue;Fe.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var Ae;(Ae=this.linkService.eventBus)===null||Ae===void 0||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_e,name:"ResetForm"}})}return!1}}}function v(){this.container.setAttribute("data-internal-link","")}function w($,R){$.href=this.linkService.getAnchorUrl(""),$.onclick=()=>(this.linkService.executeSetOCGState(R),!1),y(this,_,v).call(this)}class E extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le})}render(){this.container.className="textAnnotation";const R=document.createElement("img");return R.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",R.alt="[{{type}} Annotation]",R.dataset.l10nId="text_annotation_type",R.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(R,this.data),this.container.append(R),this.container}}class I extends C{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(R){const{isWin:U,isMac:X}=a.FeatureTest.platform;return U&&R.ctrlKey||X&&R.metaKey}_setEventListener(R,U,X,J){U.includes("mouse")?R.addEventListener(U,le=>{var ae;(ae=this.linkService.eventBus)===null||ae===void 0||ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:X,value:J(le),shift:le.shiftKey,modifier:this._getKeyModifier(le)}})}):R.addEventListener(U,le=>{var ae;(ae=this.linkService.eventBus)===null||ae===void 0||ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:X,value:J(le)}})})}_setEventListeners(R,U,X){for(const[le,ae]of U){var J;(ae==="Action"||(J=this.data.actions)!==null&&J!==void 0&&J[ae])&&this._setEventListener(R,le,ae,X)}}_setBackgroundColor(R){const U=this.data.backgroundColor||null;R.style.backgroundColor=U===null?"transparent":a.Util.makeHexColor(U[0],U[1],U[2])}_setTextStyle(R){const U=["left","center","right"],{fontColor:X}=this.data.defaultAppearanceData,J=this.data.defaultAppearanceData.fontSize||m,le=R.style;let ae;const pe=2,oe=_e=>Math.round(10*_e)/10;if(this.data.multiLine){const _e=Math.abs(this.data.rect[3]-this.data.rect[1]-pe),Ae=Math.round(_e/(a.LINE_FACTOR*J))||1,ke=_e/Ae;ae=Math.min(J,oe(ke/a.LINE_FACTOR))}else{const _e=Math.abs(this.data.rect[3]-this.data.rect[1]-pe);ae=Math.min(J,oe(_e/a.LINE_FACTOR))}le.fontSize=`calc(${ae}px * var(--scale-factor))`,le.color=a.Util.makeHexColor(X[0],X[1],X[2]),this.data.textAlignment!==null&&(le.textAlign=U[this.data.textAlignment])}_setRequired(R,U){U?R.setAttribute("required",!0):R.removeAttribute("required"),R.setAttribute("aria-required",U)}}class G extends I{constructor(R){const U=R.renderForms||!R.data.hasAppearance&&!!R.data.fieldValue;super(R,{isRenderable:U})}setPropertyOnSiblings(R,U,X,J){const le=this.annotationStorage;for(const ae of this._getElementsByName(R.name,R.id))ae.domElement&&(ae.domElement[U]=X),le.setValue(ae.id,{[J]:X})}render(){const R=this.annotationStorage,U=this.data.id;this.container.className="textWidgetAnnotation";let X=null;if(this.renderForms){const le=R.getValue(U,{value:this.data.fieldValue});let ae=le.formattedValue||le.value||"";const pe=R.getValue(U,{charLimit:this.data.maxLen}).charLimit;pe&&ae.length>pe&&(ae=ae.slice(0,pe));const oe={userValue:ae,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(X=document.createElement("textarea"),X.textContent=ae,this.data.doNotScroll&&(X.style.overflowY="hidden")):(X=document.createElement("input"),X.type="text",X.setAttribute("value",ae),this.data.doNotScroll&&(X.style.overflowX="hidden")),p.add(X),X.setAttribute("data-element-id",U),X.disabled=this.data.readOnly,X.name=this.data.fieldName,X.tabIndex=A,this._setRequired(X,this.data.required),pe&&(X.maxLength=pe),X.addEventListener("input",Ae=>{R.setValue(U,{value:Ae.target.value}),this.setPropertyOnSiblings(X,"value",Ae.target.value,"value")}),X.addEventListener("resetform",Ae=>{const ke=this.data.defaultFieldValue??"";X.value=oe.userValue=ke,oe.formattedValue=null});let _e=Ae=>{const{formattedValue:ke}=oe;ke!=null&&(Ae.target.value=ke),Ae.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var J;X.addEventListener("focus",ke=>{const{target:Me}=ke;oe.userValue&&(Me.value=oe.userValue),oe.lastCommittedValue=Me.value,oe.commitKey=1}),X.addEventListener("updatefromsandbox",ke=>{const Me={value(Fe){oe.userValue=Fe.detail.value??"",R.setValue(U,{value:oe.userValue.toString()}),Fe.target.value=oe.userValue},formattedValue(Fe){const{formattedValue:Ge}=Fe.detail;oe.formattedValue=Ge,Ge!=null&&Fe.target!==document.activeElement&&(Fe.target.value=Ge),R.setValue(U,{formattedValue:Ge})},selRange(Fe){Fe.target.setSelectionRange(...Fe.detail.selRange)},charLimit:Fe=>{var Ge;const{charLimit:at}=Fe.detail,{target:De}=Fe;if(at===0){De.removeAttribute("maxLength");return}De.setAttribute("maxLength",at);let me=oe.userValue;!me||me.length<=at||(me=me.slice(0,at),De.value=oe.userValue=me,R.setValue(U,{value:me}),(Ge=this.linkService.eventBus)===null||Ge===void 0||Ge.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:me,willCommit:!0,commitKey:1,selStart:De.selectionStart,selEnd:De.selectionEnd}}))}};this._dispatchEventFromSandbox(Me,ke)}),X.addEventListener("keydown",ke=>{var Me;oe.commitKey=1;let Fe=-1;if(ke.key==="Escape"?Fe=0:ke.key==="Enter"&&!this.data.multiLine?Fe=2:ke.key==="Tab"&&(oe.commitKey=3),Fe===-1)return;const{value:Ge}=ke.target;oe.lastCommittedValue!==Ge&&(oe.lastCommittedValue=Ge,oe.userValue=Ge,(Me=this.linkService.eventBus)===null||Me===void 0||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ge,willCommit:!0,commitKey:Fe,selStart:ke.target.selectionStart,selEnd:ke.target.selectionEnd}}))});const Ae=_e;_e=null,X.addEventListener("blur",ke=>{if(!ke.relatedTarget)return;const{value:Me}=ke.target;if(oe.userValue=Me,oe.lastCommittedValue!==Me){var Fe;(Fe=this.linkService.eventBus)===null||Fe===void 0||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Me,willCommit:!0,commitKey:oe.commitKey,selStart:ke.target.selectionStart,selEnd:ke.target.selectionEnd}})}Ae(ke)}),(J=this.data.actions)!==null&&J!==void 0&&J.Keystroke&&X.addEventListener("beforeinput",ke=>{var Me;oe.lastCommittedValue=null;const{data:Fe,target:Ge}=ke,{value:at,selectionStart:De,selectionEnd:me}=Ge;let de=De,Se=me;switch(ke.inputType){case"deleteWordBackward":{const Be=at.substring(0,De).match(/\w*[^\w]*$/);Be&&(de-=Be[0].length);break}case"deleteWordForward":{const Be=at.substring(De).match(/^[^\w]*\w*/);Be&&(Se+=Be[0].length);break}case"deleteContentBackward":De===me&&(de-=1);break;case"deleteContentForward":De===me&&(Se+=1);break}ke.preventDefault(),(Me=this.linkService.eventBus)===null||Me===void 0||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:at,change:Fe||"",willCommit:!1,selStart:de,selEnd:Se}})}),this._setEventListeners(X,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.value)}if(_e&&X.addEventListener("blur",_e),this.data.comb){const ke=(this.data.rect[2]-this.data.rect[0])/pe;X.classList.add("comb"),X.style.letterSpacing=`calc(${ke}px * var(--scale-factor) - 1ch)`}}else X=document.createElement("div"),X.textContent=this.data.fieldValue,X.style.verticalAlign="middle",X.style.display="table-cell";return this._setTextStyle(X),this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class K extends I{constructor(R){super(R,{isRenderable:R.renderForms})}render(){const R=this.annotationStorage,U=this.data,X=U.id;let J=R.getValue(X,{value:U.exportValue===U.fieldValue}).value;typeof J=="string"&&(J=J!=="Off",R.setValue(X,{value:J})),this.container.className="buttonWidgetAnnotation checkBox";const le=document.createElement("input");return p.add(le),le.setAttribute("data-element-id",X),le.disabled=U.readOnly,this._setRequired(le,this.data.required),le.type="checkbox",le.name=U.fieldName,J&&le.setAttribute("checked",!0),le.setAttribute("exportValue",U.exportValue),le.tabIndex=A,le.addEventListener("change",ae=>{const{name:pe,checked:oe}=ae.target;for(const _e of this._getElementsByName(pe,X)){const Ae=oe&&_e.exportValue===U.exportValue;_e.domElement&&(_e.domElement.checked=Ae),R.setValue(_e.id,{value:Ae})}R.setValue(X,{value:oe})}),le.addEventListener("resetform",ae=>{const pe=U.defaultFieldValue||"Off";ae.target.checked=pe===U.exportValue}),this.enableScripting&&this.hasJSActions&&(le.addEventListener("updatefromsandbox",ae=>{const pe={value(oe){oe.target.checked=oe.detail.value!=="Off",R.setValue(X,{value:oe.target.checked})}};this._dispatchEventFromSandbox(pe,ae)}),this._setEventListeners(le,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.checked)),this._setBackgroundColor(le),this._setDefaultPropertiesFromJS(le),this.container.append(le),this.container}}class he extends I{constructor(R){super(R,{isRenderable:R.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const R=this.annotationStorage,U=this.data,X=U.id;let J=R.getValue(X,{value:U.fieldValue===U.buttonValue}).value;typeof J=="string"&&(J=J!==U.buttonValue,R.setValue(X,{value:J}));const le=document.createElement("input");if(p.add(le),le.setAttribute("data-element-id",X),le.disabled=U.readOnly,this._setRequired(le,this.data.required),le.type="radio",le.name=U.fieldName,J&&le.setAttribute("checked",!0),le.tabIndex=A,le.addEventListener("change",ae=>{const{name:pe,checked:oe}=ae.target;for(const _e of this._getElementsByName(pe,X))R.setValue(_e.id,{value:!1});R.setValue(X,{value:oe})}),le.addEventListener("resetform",ae=>{const pe=U.defaultFieldValue;ae.target.checked=pe!=null&&pe===U.buttonValue}),this.enableScripting&&this.hasJSActions){const ae=U.buttonValue;le.addEventListener("updatefromsandbox",pe=>{const oe={value:_e=>{const Ae=ae===_e.detail.value;for(const ke of this._getElementsByName(_e.target.name)){const Me=Ae&&ke.id===X;ke.domElement&&(ke.domElement.checked=Me),R.setValue(ke.id,{value:Me})}}};this._dispatchEventFromSandbox(oe,pe)}),this._setEventListeners(le,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pe=>pe.target.checked)}return this._setBackgroundColor(le),this._setDefaultPropertiesFromJS(le),this.container.append(le),this.container}}class Ce extends i{constructor(R){super(R,{ignoreBorder:R.data.hasAppearance})}render(){const R=super.render();R.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(R.title=this.data.alternativeText);const U=R.lastChild;return this.enableScripting&&this.hasJSActions&&U&&(this._setDefaultPropertiesFromJS(U),U.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({},X)})),R}}class be extends I{constructor(R){super(R,{isRenderable:R.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const R=this.annotationStorage,U=this.data.id,X=R.getValue(U,{value:this.data.fieldValue}),J=document.createElement("select");p.add(J),J.setAttribute("data-element-id",U),J.disabled=this.data.readOnly,this._setRequired(J,this.data.required),J.name=this.data.fieldName,J.tabIndex=A;let le=this.data.combo&&this.data.options.length>0;this.data.combo||(J.size=this.data.options.length,this.data.multiSelect&&(J.multiple=!0)),J.addEventListener("resetform",Ae=>{const ke=this.data.defaultFieldValue;for(const Me of J.options)Me.selected=Me.value===ke});for(const Ae of this.data.options){const ke=document.createElement("option");ke.textContent=Ae.displayValue,ke.value=Ae.exportValue,X.value.includes(Ae.exportValue)&&(ke.setAttribute("selected",!0),le=!1),J.append(ke)}let ae=null;if(le){const Ae=document.createElement("option");Ae.value=" ",Ae.setAttribute("hidden",!0),Ae.setAttribute("selected",!0),J.prepend(Ae),ae=()=>{Ae.remove(),J.removeEventListener("input",ae),ae=null},J.addEventListener("input",ae)}const pe=Ae=>{const ke=Ae?"value":"textContent",{options:Me,multiple:Fe}=J;return Fe?Array.prototype.filter.call(Me,Ge=>Ge.selected).map(Ge=>Ge[ke]):Me.selectedIndex===-1?null:Me[Me.selectedIndex][ke]};let oe=pe(!1);const _e=Ae=>{const ke=Ae.target.options;return Array.prototype.map.call(ke,Me=>({displayValue:Me.textContent,exportValue:Me.value}))};return this.enableScripting&&this.hasJSActions?(J.addEventListener("updatefromsandbox",Ae=>{const ke={value(Me){var Fe;(Fe=ae)===null||Fe===void 0||Fe();const Ge=Me.detail.value,at=new Set(Array.isArray(Ge)?Ge:[Ge]);for(const De of J.options)De.selected=at.has(De.value);R.setValue(U,{value:pe(!0)}),oe=pe(!1)},multipleSelection(Me){J.multiple=!0},remove(Me){const Fe=J.options,Ge=Me.detail.remove;Fe[Ge].selected=!1,J.remove(Ge),Fe.length>0&&Array.prototype.findIndex.call(Fe,De=>De.selected)===-1&&(Fe[0].selected=!0),R.setValue(U,{value:pe(!0),items:_e(Me)}),oe=pe(!1)},clear(Me){for(;J.length!==0;)J.remove(0);R.setValue(U,{value:null,items:[]}),oe=pe(!1)},insert(Me){const{index:Fe,displayValue:Ge,exportValue:at}=Me.detail.insert,De=J.children[Fe],me=document.createElement("option");me.textContent=Ge,me.value=at,De?De.before(me):J.append(me),R.setValue(U,{value:pe(!0),items:_e(Me)}),oe=pe(!1)},items(Me){const{items:Fe}=Me.detail;for(;J.length!==0;)J.remove(0);for(const Ge of Fe){const{displayValue:at,exportValue:De}=Ge,me=document.createElement("option");me.textContent=at,me.value=De,J.append(me)}J.options.length>0&&(J.options[0].selected=!0),R.setValue(U,{value:pe(!0),items:_e(Me)}),oe=pe(!1)},indices(Me){const Fe=new Set(Me.detail.indices);for(const Ge of Me.target.options)Ge.selected=Fe.has(Ge.index);R.setValue(U,{value:pe(!0)}),oe=pe(!1)},editable(Me){Me.target.disabled=!Me.detail.editable}};this._dispatchEventFromSandbox(ke,Ae)}),J.addEventListener("input",Ae=>{var ke;const Me=pe(!0);R.setValue(U,{value:Me}),Ae.preventDefault(),(ke=this.linkService.eventBus)===null||ke===void 0||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:oe,changeEx:Me,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(J,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ae=>Ae.target.value)):J.addEventListener("input",function(Ae){R.setValue(U,{value:pe(!0)})}),this.data.combo&&this._setTextStyle(J),this._setBackgroundColor(J),this._setDefaultPropertiesFromJS(J),this.container.append(J),this.container}}const ne=class ne extends C{constructor(R){var U,X,J;const{data:le}=R,ae=!ne.IGNORE_TYPES.has(le.parentType)&&!!((U=le.titleObj)!==null&&U!==void 0&&U.str||(X=le.contentsObj)!==null&&X!==void 0&&X.str||(J=le.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:ae})}render(){this.container.className="popupAnnotation";const R=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(R.length===0)return this.container;const U=new Z({container:this.container,trigger:Array.from(R),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),X=this.page,J=a.Util.normalizeRect([this.data.parentRect[0],X.view[3]-this.data.parentRect[1]+X.view[1],this.data.parentRect[2],X.view[3]-this.data.parentRect[3]+X.view[1]]),le=J[0]+this.data.parentRect[2]-this.data.parentRect[0],ae=J[1],{pageWidth:pe,pageHeight:oe,pageX:_e,pageY:Ae}=this.viewport.rawDims;return this.container.style.left=`${100*(le-_e)/pe}%`,this.container.style.top=`${100*(ae-Ae)/oe}%`,this.container.append(U.render()),this.container}};kt(ne,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let ve=ne;class Z{constructor(R){this.container=R.container,this.trigger=R.trigger,this.color=R.color,this.titleObj=R.titleObj,this.modificationDate=R.modificationDate,this.contentsObj=R.contentsObj,this.richText=R.richText,this.hideWrapper=R.hideWrapper||!1,this.pinned=!1}render(){var R,U;const J=document.createElement("div");J.className="popupWrapper",this.hideElement=this.hideWrapper?J:this.container,this.hideElement.hidden=!0;const le=document.createElement("div");le.className="popup";const ae=this.color;if(ae){const _e=.7*(255-ae[0])+ae[0],Ae=.7*(255-ae[1])+ae[1],ke=.7*(255-ae[2])+ae[2];le.style.backgroundColor=a.Util.makeHexColor(_e|0,Ae|0,ke|0)}const pe=document.createElement("h1");pe.dir=this.titleObj.dir,pe.textContent=this.titleObj.str,le.append(pe);const oe=h.PDFDateString.toDateObject(this.modificationDate);if(oe){const _e=document.createElement("span");_e.className="popupDate",_e.textContent="{{date}}, {{time}}",_e.dataset.l10nId="annotation_date_string",_e.dataset.l10nArgs=JSON.stringify({date:oe.toLocaleDateString(),time:oe.toLocaleTimeString()}),le.append(_e)}if((R=this.richText)!==null&&R!==void 0&&R.str&&(!((U=this.contentsObj)!==null&&U!==void 0&&U.str)||this.contentsObj.str===this.richText.str))B.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:le}),le.lastChild.className="richText popupContent";else{const _e=this._formatContents(this.contentsObj);le.append(_e)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const _e of this.trigger)_e.addEventListener("click",this._toggle.bind(this)),_e.addEventListener("mouseover",this._show.bind(this,!1)),_e.addEventListener("mouseout",this._hide.bind(this,!1));return le.addEventListener("click",this._hide.bind(this,!0)),J.append(le),J}_formatContents(R){let{str:U,dir:X}=R;const J=document.createElement("p");J.className="popupContent",J.dir=X;const le=U.split(/(?:\r\n?|\n)/);for(let ae=0,pe=le.length;ae<pe;++ae){const oe=le[ae];J.append(document.createTextNode(oe)),ae<pe-1&&J.append(document.createElement("br"))}return J}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Q extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0}),this.textContent=R.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const R=document.createElement("div");R.className="annotationTextContent",R.setAttribute("role","comment");for(const U of this.textContent){const X=document.createElement("span");X.textContent=U,R.append(X)}this.container.append(R)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ee extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const R=this.data,{width:U,height:X}=d(R.rect),J=this.svgFactory.create(U,X,!0),le=this.svgFactory.createElement("svg:line");return le.setAttribute("x1",R.rect[2]-R.lineCoordinates[0]),le.setAttribute("y1",R.rect[3]-R.lineCoordinates[1]),le.setAttribute("x2",R.rect[2]-R.lineCoordinates[2]),le.setAttribute("y2",R.rect[3]-R.lineCoordinates[3]),le.setAttribute("stroke-width",R.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),J.append(le),this.container.append(J),this._createPopup(le,R),this.container}}class fe extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const R=this.data,{width:U,height:X}=d(R.rect),J=this.svgFactory.create(U,X,!0),le=R.borderStyle.width,ae=this.svgFactory.createElement("svg:rect");return ae.setAttribute("x",le/2),ae.setAttribute("y",le/2),ae.setAttribute("width",U-le),ae.setAttribute("height",X-le),ae.setAttribute("stroke-width",le||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),J.append(ae),this.container.append(J),this._createPopup(ae,R),this.container}}class V extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const R=this.data,{width:U,height:X}=d(R.rect),J=this.svgFactory.create(U,X,!0),le=R.borderStyle.width,ae=this.svgFactory.createElement("svg:ellipse");return ae.setAttribute("cx",U/2),ae.setAttribute("cy",X/2),ae.setAttribute("rx",U/2-le/2),ae.setAttribute("ry",X/2-le/2),ae.setAttribute("stroke-width",le||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),J.append(ae),this.container.append(J),this._createPopup(ae,R),this.container}}class z extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const R=this.data,{width:U,height:X}=d(R.rect),J=this.svgFactory.create(U,X,!0);let le=[];for(const pe of R.vertices){const oe=pe.x-R.rect[0],_e=R.rect[3]-pe.y;le.push(oe+","+_e)}le=le.join(" ");const ae=this.svgFactory.createElement(this.svgElementName);return ae.setAttribute("points",le),ae.setAttribute("stroke-width",R.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),J.append(ae),this.container.append(J),this._createPopup(ae,R),this.container}}class L extends z{constructor(R){super(R),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class k extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const R=this.data,{width:U,height:X}=d(R.rect),J=this.svgFactory.create(U,X,!0);for(const le of R.inkLists){let ae=[];for(const oe of le){const _e=oe.x-R.rect[0],Ae=R.rect[3]-oe.y;ae.push(`${_e},${Ae}`)}ae=ae.join(" ");const pe=this.svgFactory.createElement(this.svgElementName);pe.setAttribute("points",ae),pe.setAttribute("stroke-width",R.borderStyle.width||1),pe.setAttribute("stroke","transparent"),pe.setAttribute("fill","transparent"),this._createPopup(pe,R),J.append(pe)}return this.container.append(J),this.container}}class N extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class j extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class q extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class te extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class se extends C{constructor(R){var U,X,J;const le=!!(R.data.hasPopup||(U=R.data.titleObj)!==null&&U!==void 0&&U.str||(X=R.data.contentsObj)!==null&&X!==void 0&&X.str||(J=R.data.richText)!==null&&J!==void 0&&J.str);super(R,{isRenderable:le,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends C{constructor(R){var U;super(R,{isRenderable:!0});const{filename:X,content:J}=this.data.file;this.filename=(0,h.getFilenameFromUrl)(X,!0),this.content=J,(U=this.linkService.eventBus)===null||U===void 0||U.dispatch("fileattachmentannotation",{source:this,filename:X,content:J})}render(){var R,U;this.container.className="fileAttachmentAnnotation";let X;return this.data.hasAppearance?X=document.createElement("div"):(X=document.createElement("img"),X.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),X.className="popupTriggerArea",X.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((R=this.data.titleObj)!==null&&R!==void 0&&R.str||(U=this.data.contentsObj)!==null&&U!==void 0&&U.str||this.data.richText)&&this._createPopup(X,this.data),this.container.append(X),this.container}_download(){var R;(R=this.downloadManager)===null||R===void 0||R.openOrDownloadData(this.container,this.content,this.filename)}}class ce{static render(R){const{annotations:U,div:X,viewport:J,accessibilityManager:le}=R;(0,h.setLayerDimensions)(X,J);const ae={data:null,layer:X,page:R.page,viewport:J,linkService:R.linkService,downloadManager:R.downloadManager,imageResourcesPath:R.imageResourcesPath||"",renderForms:R.renderForms!==!1,svgFactory:new h.DOMSVGFactory,annotationStorage:R.annotationStorage||new T.AnnotationStorage,enableScripting:R.enableScripting===!0,hasJSActions:R.hasJSActions,fieldObjects:R.fieldObjects};let pe=0;for(const oe of U){if(oe.annotationType!==a.AnnotationType.POPUP){const{width:ke,height:Me}=d(oe.rect);if(ke<=0||Me<=0)continue}ae.data=oe;const _e=f.create(ae);if(!_e.isRenderable)continue;const Ae=_e.render();if(oe.hidden&&(Ae.style.visibility="hidden"),Array.isArray(Ae))for(const ke of Ae)ke.style.zIndex=pe++,O(ce,ce,H).call(ce,ke,oe.id,X,le);else Ae.style.zIndex=pe++,_e instanceof ve?X.prepend(Ae):O(ce,ce,H).call(ce,Ae,oe.id,X,le)}O(this,ce,W).call(this,X,R.annotationCanvasMap)}static update(R){const{annotationCanvasMap:U,div:X,viewport:J}=R;(0,h.setLayerDimensions)(X,{rotation:J.rotation}),O(this,ce,W).call(this,X,U),X.hidden=!1}}s.AnnotationLayer=ce;function H($,R,U,X){const J=$.firstChild||$;J.id=`${h.AnnotationPrefix}${R}`,U.append($),X==null||X.moveElementInDOM(U,$,J,!1)}function W($,R){if(R){for(const[U,X]of R){const J=$.querySelector(`[data-annotation-id="${U}"]`);if(!J)continue;const{firstChild:le}=J;le?le.nodeName==="CANVAS"?le.replaceWith(X):le.before(X):J.append(X)}R.clear()}}},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function l(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}class a{static CMYK_G(T){let[F,B,O,o]=T;return["G",1-Math.min(1,.3*F+.59*O+.11*B+o)]}static G_CMYK(T){let[F]=T;return["CMYK",0,0,0,1-F]}static G_RGB(T){let[F]=T;return["RGB",F,F,F]}static G_HTML(T){let[F]=T;const B=l(F);return`#${B}${B}${B}`}static RGB_G(T){let[F,B,O]=T;return["G",.3*F+.59*B+.11*O]}static RGB_HTML(T){let[F,B,O]=T;const o=l(F),g=l(B),x=l(O);return`#${o}${g}${x}`}static T_HTML(){return"#00000000"}static CMYK_RGB(T){let[F,B,O,o]=T;return["RGB",1-Math.min(1,F+o),1-Math.min(1,O+o),1-Math.min(1,B+o)]}static CMYK_HTML(T){const F=this.CMYK_RGB(T).slice(1);return this.RGB_HTML(F)}static RGB_CMYK(T){let[F,B,O]=T;const o=1-F,g=1-B,x=1-O,y=Math.min(o,g,x);return["CMYK",o,g,x,y]}}s.ColorConverters=a},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=l(151);class h{static setupStorage(F,B,O,o,g){const x=o.getValue(B,{value:null});switch(O.name){case"textarea":if(x.value!==null&&(F.textContent=x.value),g==="print")break;F.addEventListener("input",y=>{o.setValue(B,{value:y.target.value})});break;case"input":if(O.attributes.type==="radio"||O.attributes.type==="checkbox"){if(x.value===O.attributes.xfaOn?F.setAttribute("checked",!0):x.value===O.attributes.xfaOff&&F.removeAttribute("checked"),g==="print")break;F.addEventListener("change",y=>{o.setValue(B,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&F.setAttribute("value",x.value),g==="print")break;F.addEventListener("input",y=>{o.setValue(B,{value:y.target.value})})}break;case"select":if(x.value!==null)for(const y of O.children)y.attributes.value===x.value&&(y.attributes.selected=!0);F.addEventListener("input",y=>{const A=y.target.options,m=A.selectedIndex===-1?"":A[A.selectedIndex].value;o.setValue(B,{value:m})});break}}static setAttributes(F){let{html:B,element:O,storage:o=null,intent:g,linkService:x}=F;const{attributes:y}=O,A=B instanceof HTMLAnchorElement;y.type==="radio"&&(y.name=`${y.name}-${g}`);for(const[m,p]of Object.entries(y))if(p!=null)switch(m){case"class":p.length&&B.setAttribute(m,p.join(" "));break;case"dataId":break;case"id":B.setAttribute("data-element-id",p);break;case"style":Object.assign(B.style,p);break;case"textContent":B.textContent=p;break;default:(!A||m!=="href"&&m!=="newWindow")&&B.setAttribute(m,p)}A&&x.addLinkAttributes(B,y.href,y.newWindow),o&&y.dataId&&this.setupStorage(B,y.dataId,O,o)}static render(F){const B=F.annotationStorage,O=F.linkService,o=F.xfaHtml,g=F.intent||"display",x=document.createElement(o.name);o.attributes&&this.setAttributes({html:x,element:o,intent:g,linkService:O});const y=[[o,-1,x]],A=F.div;if(A.append(x),F.viewport){const d=`matrix(${F.viewport.transform.join(",")})`;A.style.transform=d}g!=="richText"&&A.setAttribute("class","xfaLayer xfaFont");const m=[];for(;y.length>0;){var p;const[d,f,C]=y.at(-1);if(f+1===d.children.length){y.pop();continue}const _=d.children[++y.at(-1)[1]];if(_===null)continue;const{name:b}=_;if(b==="#text"){const v=document.createTextNode(_.value);m.push(v),C.append(v);continue}let i;if(_!=null&&(p=_.attributes)!==null&&p!==void 0&&p.xmlns?i=document.createElementNS(_.attributes.xmlns,b):i=document.createElement(b),C.append(i),_.attributes&&this.setAttributes({html:i,element:_,storage:B,intent:g,linkService:O}),_.children&&_.children.length>0)y.push([_,-1,i]);else if(_.value){const v=document.createTextNode(_.value);a.XfaText.shouldBuildText(b)&&m.push(v),i.append(v)}}for(const d of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:m}}static update(F){const B=`matrix(${F.viewport.transform.join(",")})`;F.div.style.transform=B,F.div.hidden=!1}}s.XfaLayer=h},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=l(139),h=l(1),T=l(3);let F=class{constructor(){(0,h.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=F;{let p=function(i){let v=[];const w=[];for(const E of i){if(E.fn==="save"){v.push({fnId:92,fn:"group",items:[]}),w.push(v),v=v.at(-1).items;continue}E.fn==="restore"?v=w.pop():v.push(E)}return v},d=function(i){if(Number.isInteger(i))return i.toString();const v=i.toFixed(10);let w=v.length-1;if(v[w]!=="0")return v;do w--;while(v[w]==="0");return v.substring(0,v[w]==="."?w:w+1)},f=function(i){if(i[4]===0&&i[5]===0){if(i[1]===0&&i[2]===0)return i[0]===1&&i[3]===1?"":`scale(${d(i[0])} ${d(i[3])})`;if(i[0]===i[3]&&i[1]===-i[2]){const v=Math.acos(i[0])*180/Math.PI;return`rotate(${d(v)})`}}else if(i[0]===1&&i[1]===0&&i[2]===0&&i[3]===1)return`translate(${d(i[4])} ${d(i[5])})`;return`matrix(${d(i[0])} ${d(i[1])} ${d(i[2])} ${d(i[3])} ${d(i[4])} ${d(i[5])})`};const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",o="http://www.w3.org/1999/xlink",g=["butt","round","square"],x=["miter","round","bevel"],y=function(i){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!w)return URL.createObjectURL(new Blob([i],{type:v}));const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let I=`data:${v};base64,`;for(let G=0,K=i.length;G<K;G+=3){const he=i[G]&255,Ce=i[G+1]&255,be=i[G+2]&255,ve=he>>2,Z=(he&3)<<4|Ce>>4,Q=G+1<K?(Ce&15)<<2|be>>6:64,ee=G+2<K?be&63:64;I+=E[ve]+E[Z]+E[Q]+E[ee]}return I},A=function(){const i=new Uint8Array([137,80,78,71,13,10,26,10]),v=12,w=new Int32Array(256);for(let be=0;be<256;be++){let ve=be;for(let Z=0;Z<8;Z++)ve&1?ve=3988292384^ve>>1&2147483647:ve=ve>>1&2147483647;w[be]=ve}function E(be,ve,Z){let Q=-1;for(let ee=ve;ee<Z;ee++){const fe=(Q^be[ee])&255,V=w[fe];Q=Q>>>8^V}return Q^-1}function I(be,ve,Z,Q){let ee=Q;const fe=ve.length;Z[ee]=fe>>24&255,Z[ee+1]=fe>>16&255,Z[ee+2]=fe>>8&255,Z[ee+3]=fe&255,ee+=4,Z[ee]=be.charCodeAt(0)&255,Z[ee+1]=be.charCodeAt(1)&255,Z[ee+2]=be.charCodeAt(2)&255,Z[ee+3]=be.charCodeAt(3)&255,ee+=4,Z.set(ve,ee),ee+=ve.length;const V=E(Z,Q+4,ee);Z[ee]=V>>24&255,Z[ee+1]=V>>16&255,Z[ee+2]=V>>8&255,Z[ee+3]=V&255}function G(be,ve,Z){let Q=1,ee=0;for(let fe=ve;fe<Z;++fe)Q=(Q+(be[fe]&255))%65521,ee=(ee+Q)%65521;return ee<<16|Q}function K(be){if(!T.isNodeJS)return he(be);try{let ve;parseInt(process.versions.node)>=8?ve=be:ve=Buffer.from(be);const Z=require$$5.deflateSync(ve,{level:9});return Z instanceof Uint8Array?Z:new Uint8Array(Z)}catch(ve){(0,h.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ve)}return he(be)}function he(be){let ve=be.length;const Z=65535,Q=Math.ceil(ve/Z),ee=new Uint8Array(2+ve+Q*5+4);let fe=0;ee[fe++]=120,ee[fe++]=156;let V=0;for(;ve>Z;)ee[fe++]=0,ee[fe++]=255,ee[fe++]=255,ee[fe++]=0,ee[fe++]=0,ee.set(be.subarray(V,V+Z),fe),fe+=Z,V+=Z,ve-=Z;ee[fe++]=1,ee[fe++]=ve&255,ee[fe++]=ve>>8&255,ee[fe++]=~ve&65535&255,ee[fe++]=(~ve&65535)>>8&255,ee.set(be.subarray(V),fe),fe+=be.length-V;const z=G(be,0,be.length);return ee[fe++]=z>>24&255,ee[fe++]=z>>16&255,ee[fe++]=z>>8&255,ee[fe++]=z&255,ee}function Ce(be,ve,Z,Q){const ee=be.width,fe=be.height;let V,z,L;const P=be.data;switch(ve){case h.ImageKind.GRAYSCALE_1BPP:z=0,V=1,L=ee+7>>3;break;case h.ImageKind.RGB_24BPP:z=2,V=8,L=ee*3;break;case h.ImageKind.RGBA_32BPP:z=6,V=8,L=ee*4;break;default:throw new Error("invalid format")}const k=new Uint8Array((1+L)*fe);let N=0,j=0;for(let H=0;H<fe;++H)k[N++]=0,k.set(P.subarray(j,j+L),N),j+=L,N+=L;if(ve===h.ImageKind.GRAYSCALE_1BPP&&Q){N=0;for(let H=0;H<fe;H++){N++;for(let W=0;W<L;W++)k[N++]^=255}}const q=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,ee&255,fe>>24&255,fe>>16&255,fe>>8&255,fe&255,V,z,0,0,0]),te=K(k),se=i.length+v*3+q.length+te.length,re=new Uint8Array(se);let ce=0;return re.set(i,ce),ce+=i.length,I("IHDR",q,re,ce),ce+=v+q.length,I("IDATA",te,re,ce),ce+=v+te.length,I("IEND",new Uint8Array(0),re,ce),y(re,"image/png",Z)}return function(ve,Z,Q){const ee=ve.kind===void 0?h.ImageKind.GRAYSCALE_1BPP:ve.kind;return Ce(ve,ee,Z,Q)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=h.IDENTITY_MATRIX,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=h.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,w){this.x=v,this.y=w}}let C=0,_=0,b=0;s.SVGGraphics=F=class{constructor(i,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new m,this.transformMatrix=h.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=v,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!w,this._operatorIdMapping=[];for(const E in h.OPS)this._operatorIdMapping[h.OPS[E]]=E}getObject(i){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):v}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const v=i.fnArray,w=i.argsArray;for(let E=0,I=v.length;E<I;E++)if(v[E]===h.OPS.dependency)for(const G of w[E]){const K=G.startsWith("g_")?this.commonObjs:this.objs,he=new Promise(Ce=>{K.get(G,Ce)});this.current.dependencies.push(he)}return Promise.all(this.current.dependencies)}transform(i,v,w,E,I,G){const K=[i,v,w,E,I,G];this.transformMatrix=h.Util.transform(this.transformMatrix,K),this.tgrp=null}getSVG(i,v){this.viewport=v;const w=this._initialize(v);return this.loadDependencies(i).then(()=>(this.transformMatrix=h.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),w))}convertOpList(i){const v=this._operatorIdMapping,w=i.argsArray,E=i.fnArray,I=[];for(let G=0,K=E.length;G<K;G++){const he=E[G];I.push({fnId:he,fn:v[he],args:w[G]})}return p(I)}executeOpTree(i){for(const v of i){const w=v.fn,E=v.fnId,I=v.args;switch(E|0){case h.OPS.beginText:this.beginText();break;case h.OPS.dependency:break;case h.OPS.setLeading:this.setLeading(I);break;case h.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case h.OPS.setFont:this.setFont(I);break;case h.OPS.showText:this.showText(I[0]);break;case h.OPS.showSpacedText:this.showText(I[0]);break;case h.OPS.endText:this.endText();break;case h.OPS.moveText:this.moveText(I[0],I[1]);break;case h.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case h.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case h.OPS.setHScale:this.setHScale(I[0]);break;case h.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case h.OPS.setTextRise:this.setTextRise(I[0]);break;case h.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case h.OPS.setLineWidth:this.setLineWidth(I[0]);break;case h.OPS.setLineJoin:this.setLineJoin(I[0]);break;case h.OPS.setLineCap:this.setLineCap(I[0]);break;case h.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case h.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case h.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case h.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case h.OPS.setFillColorN:this.setFillColorN(I);break;case h.OPS.shadingFill:this.shadingFill(I[0]);break;case h.OPS.setDash:this.setDash(I[0],I[1]);break;case h.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case h.OPS.setFlatness:this.setFlatness(I[0]);break;case h.OPS.setGState:this.setGState(I[0]);break;case h.OPS.fill:this.fill();break;case h.OPS.eoFill:this.eoFill();break;case h.OPS.stroke:this.stroke();break;case h.OPS.fillStroke:this.fillStroke();break;case h.OPS.eoFillStroke:this.eoFillStroke();break;case h.OPS.clip:this.clip("nonzero");break;case h.OPS.eoClip:this.clip("evenodd");break;case h.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case h.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case h.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case h.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case h.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case h.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case h.OPS.closePath:this.closePath();break;case h.OPS.closeStroke:this.closeStroke();break;case h.OPS.closeFillStroke:this.closeFillStroke();break;case h.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case h.OPS.nextLine:this.nextLine();break;case h.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case h.OPS.constructPath:this.constructPath(I[0],I[1]);break;case h.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,h.warn)(`Unimplemented operator ${w}`);break}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,v,w,E,I,G){const K=this.current;K.textMatrix=K.lineMatrix=[i,v,w,E,I,G],K.textMatrixScale=Math.hypot(i,v),K.x=K.lineX=0,K.y=K.lineY=0,K.xcoords=[],K.ycoords=[],K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${d(K.fontSize)}px`),K.tspan.setAttributeNS(null,"y",d(-K.y)),K.txtElement=this.svgFactory.createElement("svg:text"),K.txtElement.append(K.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=h.IDENTITY_MATRIX,i.lineMatrix=h.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,v){const w=this.current;w.x=w.lineX+=i,w.y=w.lineY+=v,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${d(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",d(-w.y))}showText(i){const v=this.current,w=v.font,E=v.fontSize;if(E===0)return;const I=v.fontSizeScale,G=v.charSpacing,K=v.wordSpacing,he=v.fontDirection,Ce=v.textHScale*he,be=w.vertical,ve=be?1:-1,Z=w.defaultVMetrics,Q=E*v.fontMatrix[0];let ee=0;for(const z of i){if(z===null){ee+=he*K;continue}else if(typeof z=="number"){ee+=ve*z*E/1e3;continue}const L=(z.isSpace?K:0)+G,P=z.fontChar;let k,N,j=z.width;if(be){let te;const se=z.vmetric||Z;te=z.vmetric?se[1]:j*.5,te=-te*Q;const re=se[2]*Q;j=se?-se[0]:j,k=te/I,N=(ee+re)/I}else k=ee/I,N=0;(z.isInFont||w.missingFile)&&(v.xcoords.push(v.x+k),be&&v.ycoords.push(-v.y+N),v.tspan.textContent+=P);let q;be?q=j*Q-L*he:q=j*Q+L*he,ee+=q}v.tspan.setAttributeNS(null,"x",v.xcoords.map(d).join(" ")),be?v.tspan.setAttributeNS(null,"y",v.ycoords.map(d).join(" ")):v.tspan.setAttributeNS(null,"y",d(-v.y)),be?v.y-=ee:v.x+=ee*Ce,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${d(v.fontSize)}px`),v.fontStyle!==B.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==B.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);const fe=v.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;if(fe===h.TextRenderingMode.FILL||fe===h.TextRenderingMode.FILL_STROKE?(v.fillColor!==B.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.textRenderingMode===h.TextRenderingMode.ADD_TO_PATH?v.tspan.setAttributeNS(null,"fill","transparent"):v.tspan.setAttributeNS(null,"fill","none"),fe===h.TextRenderingMode.STROKE||fe===h.TextRenderingMode.FILL_STROKE){const z=1/(v.textMatrixScale||1);this._setStrokeAttributes(v.tspan,z)}let V=v.textMatrix;v.textRise!==0&&(V=V.slice(),V[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform",`${f(V)} scale(${d(Ce)}, -1)`),v.txtElement.setAttributeNS(O,"xml:space","preserve"),v.txtElement.append(v.tspan),v.txtgrp.append(v.txtElement),this._ensureTransformGroup().append(v.txtElement)}setLeadingMoveText(i,v){this.setLeading(-v),this.moveText(i,v)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const v=y(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${v}); }
`}setFont(i){const v=this.current,w=this.commonObjs.get(i[0]);let E=i[1];v.font=w,this.embedFonts&&!w.missingFile&&!this.embeddedFonts[w.loadedName]&&(this.addFontStyle(w),this.embeddedFonts[w.loadedName]=w),v.fontMatrix=w.fontMatrix||h.FONT_IDENTITY_MATRIX;let I="normal";w.black?I="900":w.bold&&(I="bold");const G=w.italic?"italic":"normal";E<0?(E=-E,v.fontDirection=-1):v.fontDirection=1,v.fontSize=E,v.fontFamily=w.loadedName,v.fontWeight=I,v.fontStyle=G,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",d(-v.y)),v.xcoords=[],v.ycoords=[]}endText(){var i;const v=this.current;v.textRenderingMode&h.TextRenderingMode.ADD_TO_PATH_FLAG&&(i=v.txtElement)!==null&&i!==void 0&&i.hasChildNodes()&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=g[i]}setLineJoin(i){this.current.lineJoin=x[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,v,w){this.current.strokeColor=h.Util.makeHexColor(i,v,w)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,v,w){this.current.fillColor=h.Util.makeHexColor(i,v,w),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const v=this.viewport.width,w=this.viewport.height,E=h.Util.inverseTransform(this.transformMatrix),I=h.Util.applyTransform([0,0],E),G=h.Util.applyTransform([0,w],E),K=h.Util.applyTransform([v,0],E),he=h.Util.applyTransform([v,w],E),Ce=Math.min(I[0],G[0],K[0],he[0]),be=Math.min(I[1],G[1],K[1],he[1]),ve=Math.max(I[0],G[0],K[0],he[0]),Z=Math.max(I[1],G[1],K[1],he[1]),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",Ce),Q.setAttributeNS(null,"y",be),Q.setAttributeNS(null,"width",ve-Ce),Q.setAttributeNS(null,"height",Z-be),Q.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(i){return i[0]==="TilingPattern"?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const v=i[1],w=i[2],E=i[3]||h.IDENTITY_MATRIX,[I,G,K,he]=i[4],Ce=i[5],be=i[6],ve=i[7],Z=`shading${b++}`,[Q,ee,fe,V]=h.Util.normalizeRect([...h.Util.applyTransform([I,G],E),...h.Util.applyTransform([K,he],E)]),[z,L]=h.Util.singularValueDecompose2dScale(E),P=Ce*z,k=be*L,N=this.svgFactory.createElement("svg:pattern");N.setAttributeNS(null,"id",Z),N.setAttributeNS(null,"patternUnits","userSpaceOnUse"),N.setAttributeNS(null,"width",P),N.setAttributeNS(null,"height",k),N.setAttributeNS(null,"x",`${Q}`),N.setAttributeNS(null,"y",`${ee}`);const j=this.svg,q=this.transformMatrix,te=this.current.fillColor,se=this.current.strokeColor,re=this.svgFactory.create(fe-Q,V-ee);if(this.svg=re,this.transformMatrix=E,ve===2){const ce=h.Util.makeHexColor(...v);this.current.fillColor=ce,this.current.strokeColor=ce}return this.executeOpTree(this.convertOpList(w)),this.svg=j,this.transformMatrix=q,this.current.fillColor=te,this.current.strokeColor=se,N.append(re.childNodes[0]),this.defs.append(N),`url(#${Z})`}_makeShadingPattern(i){switch(typeof i=="string"&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const v=`shading${b++}`,w=i[3];let E;switch(i[1]){case"axial":const I=i[4],G=i[5];E=this.svgFactory.createElement("svg:linearGradient"),E.setAttributeNS(null,"id",v),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"x1",I[0]),E.setAttributeNS(null,"y1",I[1]),E.setAttributeNS(null,"x2",G[0]),E.setAttributeNS(null,"y2",G[1]);break;case"radial":const K=i[4],he=i[5],Ce=i[6],be=i[7];E=this.svgFactory.createElement("svg:radialGradient"),E.setAttributeNS(null,"id",v),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"cx",he[0]),E.setAttributeNS(null,"cy",he[1]),E.setAttributeNS(null,"r",be),E.setAttributeNS(null,"fx",K[0]),E.setAttributeNS(null,"fy",K[1]),E.setAttributeNS(null,"fr",Ce);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const I of w){const G=this.svgFactory.createElement("svg:stop");G.setAttributeNS(null,"offset",I[0]),G.setAttributeNS(null,"stop-color",I[1]),E.append(G)}return this.defs.append(E),`url(#${v})`;case"Mesh":return(0,h.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,v){this.current.dashArray=i,this.current.dashPhase=v}constructPath(i,v){const w=this.current;let E=w.x,I=w.y,G=[],K=0;for(const he of i)switch(he|0){case h.OPS.rectangle:E=v[K++],I=v[K++];const Ce=v[K++],be=v[K++],ve=E+Ce,Z=I+be;G.push("M",d(E),d(I),"L",d(ve),d(I),"L",d(ve),d(Z),"L",d(E),d(Z),"Z");break;case h.OPS.moveTo:E=v[K++],I=v[K++],G.push("M",d(E),d(I));break;case h.OPS.lineTo:E=v[K++],I=v[K++],G.push("L",d(E),d(I));break;case h.OPS.curveTo:E=v[K+4],I=v[K+5],G.push("C",d(v[K]),d(v[K+1]),d(v[K+2]),d(v[K+3]),d(E),d(I)),K+=6;break;case h.OPS.curveTo2:G.push("C",d(E),d(I),d(v[K]),d(v[K+1]),d(v[K+2]),d(v[K+3])),E=v[K+2],I=v[K+3],K+=4;break;case h.OPS.curveTo3:E=v[K+2],I=v[K+3],G.push("C",d(v[K]),d(v[K+1]),d(E),d(I),d(E),d(I)),K+=4;break;case h.OPS.closePath:G.push("Z");break}G=G.join(" "),w.path&&i.length>0&&i[0]!==h.OPS.rectangle&&i[0]!==h.OPS.moveTo?G=w.path.getAttributeNS(null,"d")+G:(w.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(w.path)),w.path.setAttributeNS(null,"d",G),w.path.setAttributeNS(null,"fill","none"),w.element=w.path,w.setCurrentPoint(E,I)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element){this.pendingClip=null;return}const v=`clippath${C++}`,w=this.svgFactory.createElement("svg:clipPath");w.setAttributeNS(null,"id",v),w.setAttributeNS(null,"transform",f(this.transformMatrix));const E=i.element.cloneNode(!0);if(this.pendingClip==="evenodd"?E.setAttributeNS(null,"clip-rule","evenodd"):E.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,w.append(E),this.defs.append(w),i.activeClipUrl){i.clipGroup=null;for(const I of this.extraStack)I.clipGroup=null;w.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${v})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const v=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",v)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[v,w]of i)switch(v){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w);break;case"CA":this.setStrokeAlpha(w);break;case"ca":this.setFillAlpha(w);break;default:(0,h.warn)(`Unimplemented graphic state operator ${v}`);break}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const w=this.current;let E=w.dashArray;v!==1&&E.length>0&&(E=E.map(function(I){return v*I})),i.setAttributeNS(null,"stroke",w.strokeColor),i.setAttributeNS(null,"stroke-opacity",w.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",d(w.miterLimit)),i.setAttributeNS(null,"stroke-linecap",w.lineCap),i.setAttributeNS(null,"stroke-linejoin",w.lineJoin),i.setAttributeNS(null,"stroke-width",d(v*w.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",E.map(d).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",d(v*w.dashPhase)+"px")}eoFill(){var i;(i=this.current.element)===null||i===void 0||i.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var i;(i=this.current.element)===null||i===void 0||i.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(i)}paintImageXObject(i){const v=this.getObject(i);if(!v){(0,h.warn)(`Dependent image with object ID ${i} is not ready yet`);return}this.paintInlineImageXObject(v)}paintInlineImageXObject(i,v){const w=i.width,E=i.height,I=A(i,this.forceDataSchema,!!v),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",d(w)),G.setAttributeNS(null,"height",d(E)),this.current.element=G,this.clip("nonzero");const K=this.svgFactory.createElement("svg:image");K.setAttributeNS(o,"xlink:href",I),K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y",d(-E)),K.setAttributeNS(null,"width",d(w)+"px"),K.setAttributeNS(null,"height",d(E)+"px"),K.setAttributeNS(null,"transform",`scale(${d(1/w)} ${d(-1/E)})`),v?v.append(K):this._ensureTransformGroup().append(K)}paintImageMaskXObject(i){const v=this.getObject(i.data,i);if(v.bitmap){(0,h.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const w=this.current,E=v.width,I=v.height,G=w.fillColor;w.maskId=`mask${_++}`;const K=this.svgFactory.createElement("svg:mask");K.setAttributeNS(null,"id",w.maskId);const he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y","0"),he.setAttributeNS(null,"width",d(E)),he.setAttributeNS(null,"height",d(I)),he.setAttributeNS(null,"fill",G),he.setAttributeNS(null,"mask",`url(#${w.maskId})`),this.defs.append(K),this._ensureTransformGroup().append(he),this.paintInlineImageXObject(v,K)}paintFormXObjectBegin(i,v){if(Array.isArray(i)&&i.length===6&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),v){const w=v[2]-v[0],E=v[3]-v[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",v[0]),I.setAttributeNS(null,"y",v[1]),I.setAttributeNS(null,"width",d(w)),I.setAttributeNS(null,"height",d(E)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const v=this.svgFactory.create(i.width,i.height),w=this.svgFactory.createElement("svg:defs");v.append(w),this.defs=w;const E=this.svgFactory.createElement("svg:g");return E.setAttributeNS(null,"transform",f(i.transform)),v.append(E),this.svg=E,v}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(u){var s=__webpack_module_cache__[u];if(s!==void 0)return s.exports;var l=__webpack_module_cache__[u]={exports:{}};return __webpack_modules__[u](l,l.exports,__w_pdfjs_require__),l.exports}var __webpack_exports__={};return(()=>{var u=__webpack_exports__;Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(u,"AnnotationEditorLayer",{enumerable:!0,get:function(){return T.AnnotationEditorLayer}}),Object.defineProperty(u,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(u,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(u,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return F.AnnotationEditorUIManager}}),Object.defineProperty(u,"AnnotationLayer",{enumerable:!0,get:function(){return B.AnnotationLayer}}),Object.defineProperty(u,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(u,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(u,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(u,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(u,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(u,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(u,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(u,"PDFDataRangeTransport",{enumerable:!0,get:function(){return l.PDFDataRangeTransport}}),Object.defineProperty(u,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(u,"PDFWorker",{enumerable:!0,get:function(){return l.PDFWorker}}),Object.defineProperty(u,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(u,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(u,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(u,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(u,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(u,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(u,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(u,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(u,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(u,"XfaLayer",{enumerable:!0,get:function(){return g.XfaLayer}}),Object.defineProperty(u,"build",{enumerable:!0,get:function(){return l.build}}),Object.defineProperty(u,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(u,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(u,"getDocument",{enumerable:!0,get:function(){return l.getDocument}}),Object.defineProperty(u,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(u,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(u,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(u,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(u,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(u,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(u,"renderTextLayer",{enumerable:!0,get:function(){return h.renderTextLayer}}),Object.defineProperty(u,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(u,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(u,"updateTextLayer",{enumerable:!0,get:function(){return h.updateTextLayer}}),Object.defineProperty(u,"version",{enumerable:!0,get:function(){return l.version}});var s=__w_pdfjs_require__(1),l=__w_pdfjs_require__(135),a=__w_pdfjs_require__(139),h=__w_pdfjs_require__(158),T=__w_pdfjs_require__(159),F=__w_pdfjs_require__(138),B=__w_pdfjs_require__(164),O=__w_pdfjs_require__(146),o=__w_pdfjs_require__(167),g=__w_pdfjs_require__(166)})(),__webpack_exports__})())}(pdf$1)),pdf$1.exports}var pdfExports$1=requirePdf$1(),pdf={exports:{}},hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(s,l){module.exports=l()})(globalThis,()=>(()=>{var __webpack_modules__=[,(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.BASELINE_FACTOR=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.assert=z,s.bytesToString=W,s.createPromiseCapability=at,s.createValidAbsoluteUrl=P,s.getModificationDate=Ge,s.getVerbosityLevel=Q,s.info=ee,s.isArrayBuffer=Me,s.isArrayEqual=Fe,s.objectFromMap=U,s.objectSize=R,s.setVerbosityLevel=Z,s.shadow=k,s.string32=$,s.stringToBytes=ne,s.stringToPDFString=_e,s.stringToUTF8String=Ae,s.unreachable=V,s.utf8StringToString=ke,s.warn=fe;const l=[1,0,0,1,0,0];s.IDENTITY_MATRIX=l;const a=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=a;const h=1.35;s.LINE_FACTOR=h;const T=.35;s.LINE_DESCENT_FACTOR=T;const F=T/h;s.BASELINE_FACTOR=F;const B={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=B;const O={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=O;const o="pdfjs_internal_editor_";s.AnnotationEditorPrefix=o;const g={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=g;const x={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=x;const y={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=y;const A={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=A;const m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=m;const p={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=p;const d={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=d;const f={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=f;const C={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=C;const _={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=_;const b={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=b;const i={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=i;const v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=v;const w={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=w;const E={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=E;const I={O:"PageOpen",C:"PageClose"};s.PageActionEventType=I;const G={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=G;const K={NONE:0,BINARY:1};s.CMapCompressionType=K;const he={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=he;const Ce={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=Ce;const be={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=be;let ve=G.WARNINGS;function Z(De){Number.isInteger(De)&&(ve=De)}function Q(){return ve}function ee(De){ve>=G.INFOS&&console.log(`Info: ${De}`)}function fe(De){ve>=G.WARNINGS&&console.log(`Warning: ${De}`)}function V(De){throw new Error(De)}function z(De,me){De||V(me)}function L(De){if(!De)return!1;switch(De.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function P(De,me=null,de=null){if(!De)return null;try{if(de&&typeof De=="string"){if(de.addDefaultProtocol&&De.startsWith("www.")){const Be=De.match(/\./g);Be&&Be.length>=2&&(De=`http://${De}`)}if(de.tryConvertEncoding)try{De=Ae(De)}catch{}}const Se=me?new URL(De,me):new URL(De);if(L(Se))return Se}catch{}return null}function k(De,me,de,Se=!1){return Object.defineProperty(De,me,{value:de,enumerable:!Se,configurable:!0,writable:!1}),de}const N=function(){function me(de,Se){this.constructor===me&&V("Cannot initialize BaseException."),this.message=de,this.name=Se}return me.prototype=new Error,me.constructor=me,me}();s.BaseException=N;class j extends N{constructor(me,de){super(me,"PasswordException"),this.code=de}}s.PasswordException=j;class q extends N{constructor(me,de){super(me,"UnknownErrorException"),this.details=de}}s.UnknownErrorException=q;class te extends N{constructor(me){super(me,"InvalidPDFException")}}s.InvalidPDFException=te;class se extends N{constructor(me){super(me,"MissingPDFException")}}s.MissingPDFException=se;class re extends N{constructor(me,de){super(me,"UnexpectedResponseException"),this.status=de}}s.UnexpectedResponseException=re;class ce extends N{constructor(me){super(me,"FormatError")}}s.FormatError=ce;class H extends N{constructor(me){super(me,"AbortException")}}s.AbortException=H;function W(De){(typeof De!="object"||De===null||De.length===void 0)&&V("Invalid argument for bytesToString");const me=De.length,de=8192;if(me<de)return String.fromCharCode.apply(null,De);const Se=[];for(let Be=0;Be<me;Be+=de){const Ze=Math.min(Be+de,me),ut=De.subarray(Be,Ze);Se.push(String.fromCharCode.apply(null,ut))}return Se.join("")}function ne(De){typeof De!="string"&&V("Invalid argument for stringToBytes");const me=De.length,de=new Uint8Array(me);for(let Se=0;Se<me;++Se)de[Se]=De.charCodeAt(Se)&255;return de}function $(De){return String.fromCharCode(De>>24&255,De>>16&255,De>>8&255,De&255)}function R(De){return Object.keys(De).length}function U(De){const me=Object.create(null);for(const[de,Se]of De)me[de]=Se;return me}function X(){const De=new Uint8Array(4);return De[0]=1,new Uint32Array(De.buffer,0,1)[0]===1}function J(){try{return new Function(""),!0}catch{return!1}}class le{static get isLittleEndian(){return k(this,"isLittleEndian",X())}static get isEvalSupported(){return k(this,"isEvalSupported",J())}static get isOffscreenCanvasSupported(){return k(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?k(this,"platform",{isWin:!1,isMac:!1}):k(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}s.FeatureTest=le;const ae=[...Array(256).keys()].map(De=>De.toString(16).padStart(2,"0"));class pe{static makeHexColor(me,de,Se){return`#${ae[me]}${ae[de]}${ae[Se]}`}static scaleMinMax(me,de){let Se;me[0]?(me[0]<0&&(Se=de[0],de[0]=de[1],de[1]=Se),de[0]*=me[0],de[1]*=me[0],me[3]<0&&(Se=de[2],de[2]=de[3],de[3]=Se),de[2]*=me[3],de[3]*=me[3]):(Se=de[0],de[0]=de[2],de[2]=Se,Se=de[1],de[1]=de[3],de[3]=Se,me[1]<0&&(Se=de[2],de[2]=de[3],de[3]=Se),de[2]*=me[1],de[3]*=me[1],me[2]<0&&(Se=de[0],de[0]=de[1],de[1]=Se),de[0]*=me[2],de[1]*=me[2]),de[0]+=me[4],de[1]+=me[4],de[2]+=me[5],de[3]+=me[5]}static transform(me,de){return[me[0]*de[0]+me[2]*de[1],me[1]*de[0]+me[3]*de[1],me[0]*de[2]+me[2]*de[3],me[1]*de[2]+me[3]*de[3],me[0]*de[4]+me[2]*de[5]+me[4],me[1]*de[4]+me[3]*de[5]+me[5]]}static applyTransform(me,de){const Se=me[0]*de[0]+me[1]*de[2]+de[4],Be=me[0]*de[1]+me[1]*de[3]+de[5];return[Se,Be]}static applyInverseTransform(me,de){const Se=de[0]*de[3]-de[1]*de[2],Be=(me[0]*de[3]-me[1]*de[2]+de[2]*de[5]-de[4]*de[3])/Se,Ze=(-me[0]*de[1]+me[1]*de[0]+de[4]*de[1]-de[5]*de[0])/Se;return[Be,Ze]}static getAxialAlignedBoundingBox(me,de){const Se=pe.applyTransform(me,de),Be=pe.applyTransform(me.slice(2,4),de),Ze=pe.applyTransform([me[0],me[3]],de),ut=pe.applyTransform([me[2],me[1]],de);return[Math.min(Se[0],Be[0],Ze[0],ut[0]),Math.min(Se[1],Be[1],Ze[1],ut[1]),Math.max(Se[0],Be[0],Ze[0],ut[0]),Math.max(Se[1],Be[1],Ze[1],ut[1])]}static inverseTransform(me){const de=me[0]*me[3]-me[1]*me[2];return[me[3]/de,-me[1]/de,-me[2]/de,me[0]/de,(me[2]*me[5]-me[4]*me[3])/de,(me[4]*me[1]-me[5]*me[0])/de]}static singularValueDecompose2dScale(me){const de=[me[0],me[2],me[1],me[3]],Se=me[0]*de[0]+me[1]*de[2],Be=me[0]*de[1]+me[1]*de[3],Ze=me[2]*de[0]+me[3]*de[2],ut=me[2]*de[1]+me[3]*de[3],St=(Se+ut)/2,We=Math.sqrt((Se+ut)**2-4*(Se*ut-Ze*Be))/2,it=St+We||1,ze=St-We||1;return[Math.sqrt(it),Math.sqrt(ze)]}static normalizeRect(me){const de=me.slice(0);return me[0]>me[2]&&(de[0]=me[2],de[2]=me[0]),me[1]>me[3]&&(de[1]=me[3],de[3]=me[1]),de}static intersect(me,de){const Se=Math.max(Math.min(me[0],me[2]),Math.min(de[0],de[2])),Be=Math.min(Math.max(me[0],me[2]),Math.max(de[0],de[2]));if(Se>Be)return null;const Ze=Math.max(Math.min(me[1],me[3]),Math.min(de[1],de[3])),ut=Math.min(Math.max(me[1],me[3]),Math.max(de[1],de[3]));return Ze>ut?null:[Se,Ze,Be,ut]}static bezierBoundingBox(me,de,Se,Be,Ze,ut,St,We){const it=[],ze=[[],[]];let Re,qe,ot,$e,pt,Ne,we,Xe;for(let ct=0;ct<2;++ct){if(ct===0?(qe=6*me-12*Se+6*Ze,Re=-3*me+9*Se-9*Ze+3*St,ot=3*Se-3*me):(qe=6*de-12*Be+6*ut,Re=-3*de+9*Be-9*ut+3*We,ot=3*Be-3*de),Math.abs(Re)<1e-12){if(Math.abs(qe)<1e-12)continue;$e=-ot/qe,0<$e&&$e<1&&it.push($e);continue}we=qe*qe-4*ot*Re,Xe=Math.sqrt(we),!(we<0)&&(pt=(-qe+Xe)/(2*Re),0<pt&&pt<1&&it.push(pt),Ne=(-qe-Xe)/(2*Re),0<Ne&&Ne<1&&it.push(Ne))}let st=it.length,tt;const lt=st;for(;st--;)$e=it[st],tt=1-$e,ze[0][st]=tt*tt*tt*me+3*tt*tt*$e*Se+3*tt*$e*$e*Ze+$e*$e*$e*St,ze[1][st]=tt*tt*tt*de+3*tt*tt*$e*Be+3*tt*$e*$e*ut+$e*$e*$e*We;return ze[0][lt]=me,ze[1][lt]=de,ze[0][lt+1]=St,ze[1][lt+1]=We,ze[0].length=ze[1].length=lt+2,[Math.min(...ze[0]),Math.min(...ze[1]),Math.max(...ze[0]),Math.max(...ze[1])]}}s.Util=pe;const oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _e(De){if(De[0]>=""){let de;if(De[0]===""&&De[1]===""?de="utf-16be":De[0]===""&&De[1]===""?de="utf-16le":De[0]===""&&De[1]===""&&De[2]===""&&(de="utf-8"),de)try{const Se=new TextDecoder(de,{fatal:!0}),Be=ne(De);return Se.decode(Be)}catch(Se){fe(`stringToPDFString: "${Se}".`)}}const me=[];for(let de=0,Se=De.length;de<Se;de++){const Be=oe[De.charCodeAt(de)];me.push(Be?String.fromCharCode(Be):De.charAt(de))}return me.join("")}function Ae(De){return decodeURIComponent(escape(De))}function ke(De){return unescape(encodeURIComponent(De))}function Me(De){return typeof De=="object"&&De!==null&&De.byteLength!==void 0}function Fe(De,me){if(De.length!==me.length)return!1;for(let de=0,Se=De.length;de<Se;de++)if(De[de]!==me[de])return!1;return!0}function Ge(De=new Date){return[De.getUTCFullYear().toString(),(De.getUTCMonth()+1).toString().padStart(2,"0"),De.getUTCDate().toString().padStart(2,"0"),De.getUTCHours().toString().padStart(2,"0"),De.getUTCMinutes().toString().padStart(2,"0"),De.getUTCSeconds().toString().padStart(2,"0")].join("")}function at(){const De=Object.create(null);let me=!1;return Object.defineProperty(De,"settled",{get(){return me}}),De.promise=new Promise(function(de,Se){De.resolve=function(Be){me=!0,de(Be)},De.reject=function(Be){me=!0,Se(Be)}}),De}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var u,s,a,h,T,F,B,O,o,g,Nc,y,A,Bc,p,d;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:C,NodeCMapReaderFactory:_,NodeStandardFontDataFactory:b}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=C,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=_,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=b}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:C}=__w_pdfjs_require__(21);createPDFNetworkStream=_=>new C(_)}else{const{PDFNetworkStream:C}=__w_pdfjs_require__(24),{PDFFetchStream:_}=__w_pdfjs_require__(25);createPDFNetworkStream=b=>(0,_display_utils.isValidFetchUrl)(b.url)?new _(b):new C(b)}function getDocument(C){if(typeof C=="string"||C instanceof URL)C={url:C};else if((0,_util.isArrayBuffer)(C))C={data:C};else if(C instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),C={range:C};else if(typeof C!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!C.url&&!C.data&&!C.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const _=new PDFDocumentLoadingTask,b=C.url?getUrlProp(C.url):null,i=C.data?getDataProp(C.data):null,v=C.httpHeaders||null,w=C.withCredentials===!0,E=C.password??null,I=C.range instanceof PDFDataRangeTransport?C.range:null,G=Number.isInteger(C.rangeChunkSize)&&C.rangeChunkSize>0?C.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let K=C.worker instanceof PDFWorker?C.worker:null;const he=C.verbosity,Ce=typeof C.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(C.docBaseUrl)?C.docBaseUrl:null,be=typeof C.cMapUrl=="string"?C.cMapUrl:null,ve=C.cMapPacked!==!1,Z=C.CMapReaderFactory||DefaultCMapReaderFactory,Q=typeof C.standardFontDataUrl=="string"?C.standardFontDataUrl:null,ee=C.StandardFontDataFactory||DefaultStandardFontDataFactory,fe=C.stopAtErrors!==!0,V=Number.isInteger(C.maxImageSize)&&C.maxImageSize>-1?C.maxImageSize:-1,z=C.isEvalSupported!==!1,L=typeof C.isOffscreenCanvasSupported=="boolean"?C.isOffscreenCanvasSupported:!_is_node.isNodeJS,P=typeof C.disableFontFace=="boolean"?C.disableFontFace:_is_node.isNodeJS,k=C.fontExtraProperties===!0,N=C.enableXfa===!0,j=C.ownerDocument||globalThis.document,q=C.disableRange===!0,te=C.disableStream===!0,se=C.disableAutoFetch===!0,re=C.pdfBug===!0,ce=I?I.length:C.length??NaN,H=typeof C.useSystemFonts=="boolean"?C.useSystemFonts:!_is_node.isNodeJS&&!P,W=typeof C.useWorkerFetch=="boolean"?C.useWorkerFetch:Z===_display_utils.DOMCMapReaderFactory&&ee===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(be,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Q,document.baseURI),ne=null;(0,_util.setVerbosityLevel)(he);const $=W?null:{cMapReaderFactory:new Z({baseUrl:be,isCompressed:ve}),standardFontDataFactory:new ee({baseUrl:Q})};if(!K){const J={verbosity:he,port:_worker_options.GlobalWorkerOptions.workerPort};K=J.port?PDFWorker.fromPort(J):new PDFWorker(J),_._worker=K}const R=_.docId,U={docId:R,apiVersion:"3.4.120",data:i,password:E,disableAutoFetch:se,rangeChunkSize:G,length:ce,docBaseUrl:Ce,enableXfa:N,evaluatorOptions:{maxImageSize:V,disableFontFace:P,ignoreErrors:fe,isEvalSupported:z,isOffscreenCanvasSupported:L,fontExtraProperties:k,useSystemFonts:H,cMapUrl:W?be:null,standardFontDataUrl:W?Q:null}},X={ignoreErrors:fe,isEvalSupported:z,disableFontFace:P,fontExtraProperties:k,enableXfa:N,ownerDocument:j,disableAutoFetch:se,pdfBug:re,styleElement:ne};return K.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const J=_fetchDocument(K,U),le=new Promise(function(ae){let pe;I?pe=new _transport_stream.PDFDataTransportStream({length:ce,initialData:I.initialData,progressiveDone:I.progressiveDone,contentDispositionFilename:I.contentDispositionFilename,disableRange:q,disableStream:te},I):i||(pe=createPDFNetworkStream({url:b,length:ce,httpHeaders:v,withCredentials:w,rangeChunkSize:G,disableRange:q,disableStream:te})),ae(pe)});return Promise.all([J,le]).then(function([ae,pe]){if(_.destroyed)throw new Error("Loading aborted");const oe=new _message_handler.MessageHandler(R,ae,K.port),_e=new WorkerTransport(oe,_,pe,X,$);_._transport=_e,oe.send("Ready",null)})}).catch(_._capability.reject),_}async function _fetchDocument(C,_){if(C.destroyed)throw new Error("Worker was destroyed");const b=await C.messageHandler.sendWithPromise("GetDocRequest",_,_.data?[_.data.buffer]:null);if(C.destroyed)throw new Error("Worker was destroyed");return b}function getUrlProp(C){if(C instanceof URL)return C.href;try{return new URL(C,window.location).href}catch{if(_is_node.isNodeJS&&typeof C=="string")return C}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(C){if(_is_node.isNodeJS&&typeof Buffer<"u"&&C instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(C);if(C instanceof Uint8Array&&C.byteLength===C.buffer.byteLength)return C;if(typeof C=="string")return(0,_util.stringToBytes)(C);if(typeof C=="object"&&!isNaN(C==null?void 0:C.length)||(0,_util.isArrayBuffer)(C))return new Uint8Array(C);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const l=class l{constructor(){Ye(this,s,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${ko(l,u)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return ue(this,s)}set onUnsupportedFeature(_){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),et(this,s,_)}get promise(){return this._capability.promise}async destroy(){var _;this.destroyed=!0,await((_=this._transport)==null?void 0:_.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};u=new WeakMap,s=new WeakMap,Ye(l,u,0);let PDFDocumentLoadingTask=l;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(_,b,i=!1,v=null){this.length=_,this.initialData=b,this.progressiveDone=i,this.contentDispositionFilename=v,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,b){for(const i of this._rangeListeners)i(_,b)}onDataProgress(_,b){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(_,b)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const b of this._progressiveReadListeners)b(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(_,b){this._pdfInfo=_,this._transport=b}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(_,b,i,v,w=!1){this._pageIndex=_,this._pageInfo=b,this._ownerDocument=v,this._transport=i,this._stats=w?new _display_utils.StatTimer:null,this._pdfBug=w,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:b=this.rotate,offsetX:i=0,offsetY:v=0,dontFlip:w=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:_,rotation:b,offsetX:i,offsetY:v,dontFlip:w})}getAnnotations({intent:_="display"}={}){const b=this._transport.getRenderingIntent(_);return this._transport.getAnnotations(this._pageIndex,b.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var _;return((_=this._transport._htmlForXfa)==null?void 0:_.children[this._pageIndex])||null}render({canvasContext:_,viewport:b,intent:i="display",annotationMode:v=_util.AnnotationMode.ENABLE,transform:w=null,canvasFactory:E=null,background:I=null,optionalContentConfigPromise:G=null,annotationCanvasMap:K=null,pageColors:he=null,printAnnotationStorage:Ce=null}){var z,L;(z=this._stats)==null||z.time("Overall");const be=this._transport.getRenderingIntent(i,v,Ce);this.pendingCleanup=!1,G||(G=this._transport.getOptionalContentConfig());let ve=this._intentStates.get(be.cacheKey);ve||(ve=Object.create(null),this._intentStates.set(be.cacheKey,ve)),ve.streamReaderCancelTimeout&&(clearTimeout(ve.streamReaderCancelTimeout),ve.streamReaderCancelTimeout=null);const Z=E||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Q=!!(be.renderingIntent&_util.RenderingIntentFlag.PRINT);ve.displayReadyCapability||(ve.displayReadyCapability=(0,_util.createPromiseCapability)(),ve.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(be));const ee=P=>{var k,N;ve.renderTasks.delete(fe),(this.cleanupAfterRender||Q)&&(this.pendingCleanup=!0),this._tryCleanup(),P?(fe.capability.reject(P),this._abortOperatorList({intentState:ve,reason:P instanceof Error?P:new Error(P)})):fe.capability.resolve(),(k=this._stats)==null||k.timeEnd("Rendering"),(N=this._stats)==null||N.timeEnd("Overall")},fe=new InternalRenderTask({callback:ee,params:{canvasContext:_,viewport:b,transform:w,background:I},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:K,operatorList:ve.operatorList,pageIndex:this._pageIndex,canvasFactory:Z,useRequestAnimationFrame:!Q,pdfBug:this._pdfBug,pageColors:he});(ve.renderTasks||(ve.renderTasks=new Set)).add(fe);const V=fe.task;return Promise.all([ve.displayReadyCapability.promise,G]).then(([P,k])=>{var N;if(this.pendingCleanup){ee();return}(N=this._stats)==null||N.time("Rendering"),fe.initializeGraphics({transparency:P,optionalContentConfig:k}),fe.operatorListChanged()}).catch(ee),V}getOperatorList({intent:_="display",annotationMode:b=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}={}){var G;function v(){E.operatorList.lastChunk&&(E.opListReadCapability.resolve(E.operatorList),E.renderTasks.delete(I))}const w=this._transport.getRenderingIntent(_,b,i,!0);let E=this._intentStates.get(w.cacheKey);E||(E=Object.create(null),this._intentStates.set(w.cacheKey,E));let I;return E.opListReadCapability||(I=Object.create(null),I.operatorListChanged=v,E.opListReadCapability=(0,_util.createPromiseCapability)(),(E.renderTasks||(E.renderTasks=new Set)).add(I),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(G=this._stats)==null||G.time("Page Request"),this._pumpOperatorList(w)),E.opListReadCapability.promise}streamTextContent({disableCombineTextItems:_=!1,includeMarkedContent:b=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:_!==!0,includeMarkedContent:b===!0},{highWaterMark:100,size(v){return v.items.length}})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const b=this.streamTextContent(_);return new Promise(function(i,v){function w(){E.read().then(function({value:G,done:K}){if(K){i(I);return}Object.assign(I.styles,G.styles),I.items.push(...G.items),w()},v)}const E=b.getReader(),I={items:[],styles:Object.create(null)};w()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const _=[];for(const b of this._intentStates.values())if(this._abortOperatorList({intentState:b,reason:new Error("Page was destroyed."),force:!0}),!b.opListReadCapability)for(const i of b.renderTasks)_.push(i.completed),i.cancel();return this.objs.clear(),this.pendingCleanup=!1,Promise.all(_)}cleanup(_=!1){return this.pendingCleanup=!0,this._tryCleanup(_)}_tryCleanup(_=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:b,operatorList:i}of this._intentStates.values())if(b.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(_,b){var v,w;const i=this._intentStates.get(b);i&&((v=this._stats)==null||v.timeEnd("Page Request"),(w=i.displayReadyCapability)==null||w.resolve(_))}_renderPageChunk(_,b){for(let i=0,v=_.length;i<v;i++)b.operatorList.fnArray.push(_.fnArray[i]),b.operatorList.argsArray.push(_.argsArray[i]);b.operatorList.lastChunk=_.lastChunk,b.operatorList.separateAnnots=_.separateAnnots;for(const i of b.renderTasks)i.operatorListChanged();_.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:_,cacheKey:b,annotationStorageMap:i}){const w=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:b,annotationStorage:i}).getReader(),E=this._intentStates.get(b);E.streamReader=w;const I=()=>{w.read().then(({value:G,done:K})=>{if(K){E.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(G,E),I())},G=>{if(E.streamReader=null,!this._transport.destroyed){if(E.operatorList){E.operatorList.lastChunk=!0;for(const K of E.renderTasks)K.operatorListChanged();this._tryCleanup()}if(E.displayReadyCapability)E.displayReadyCapability.reject(G);else if(E.opListReadCapability)E.opListReadCapability.reject(G);else throw G}})};I()}_abortOperatorList({intentState:_,reason:b,force:i=!1}){if(_.streamReader){if(_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null),!i){if(_.renderTasks.size>0)return;if(b instanceof _display_utils.RenderingCancelledException){let v=RENDERING_CANCELLED_TIMEOUT;b.extraDelay>0&&b.extraDelay<1e3&&(v+=b.extraDelay),_.streamReaderCancelTimeout=setTimeout(()=>{_.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:_,reason:b,force:!0})},v);return}}if(_.streamReader.cancel(new _util.AbortException(b.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[v,w]of this._intentStates)if(w===_){this._intentStates.delete(v);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Ye(this,a,new Set);Ye(this,h,Promise.resolve())}postMessage(_,b){const i={data:structuredClone(_,b)};ue(this,h).then(()=>{for(const v of ue(this,a))v.call(this,i)})}addEventListener(_,b){ue(this,a).add(b)}removeEventListener(_,b){ue(this,a).delete(b)}terminate(){ue(this,a).clear()}}a=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const C=(T=document==null?void 0:document.currentScript)==null?void 0:T.src;C&&(PDFWorkerUtil.fallbackWorkerSrc=C.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(C,_){let b;try{if(b=new URL(C),!b.origin||b.origin==="null")return!1}catch{return!1}const i=new URL(_,b);return b.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(C){const _=`importScripts("${C}");`;return URL.createObjectURL(new Blob([_]))}}const _PDFWorker=class _PDFWorker{constructor({name:C=null,port:_=null,verbosity:b=(0,_util.getVerbosityLevel)()}={}){if(_&&ue(_PDFWorker,F).has(_))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=C,this.destroyed=!1,this.verbosity=b,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,_){ue(_PDFWorker,F).set(_,this),this._initializeFromPort(_);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(C){this._port=C,this._messageHandler=new _message_handler.MessageHandler("main","worker",C),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:C}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,C)||(C=PDFWorkerUtil.createCDNWrapper(new URL(C,window.location).href));const _=new Worker(C),b=new _message_handler.MessageHandler("main","worker",_),i=()=>{_.removeEventListener("error",v),b.destroy(),_.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},v=()=>{this._webWorker||i()};_.addEventListener("error",v),b.on("test",E=>{if(_.removeEventListener("error",v),this.destroyed){i();return}E?(this._messageHandler=b,this._port=_,this._webWorker=_,this._readyCapability.resolve(),b.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),b.destroy(),_.terminate())}),b.on("ready",E=>{if(_.removeEventListener("error",v),this.destroyed){i();return}try{w()}catch{this._setupFakeWorker()}});const w=()=>{const E=new Uint8Array;b.send("test",E,[E.buffer])};w();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(C=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const _=new LoopbackPort;this._port=_;const b=`fake${PDFWorkerUtil.fakeWorkerId++}`,i=new _message_handler.MessageHandler(b+"_worker",b,_);C.setup(i,_);const v=new _message_handler.MessageHandler(b,b+"_worker",_);this._messageHandler=v,this._readyCapability.resolve(),v.send("configure",{verbosity:this.verbosity})}).catch(C=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${C.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ue(_PDFWorker,F).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(C){if(!(C!=null&&C.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ue(this,F).has(C.port)?ue(this,F).get(C.port):new _PDFWorker(C)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var C;try{return((C=globalThis.pdfjsWorker)==null?void 0:C.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};F=new WeakMap,Ye(_PDFWorker,F,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(_,b,i,v,w){Ye(this,g);Ye(this,B,new Map);Ye(this,O,new Map);Ye(this,o,new Map);this.messageHandler=_,this.loadingTask=b,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:v.ownerDocument,styleElement:v.styleElement}),this._params=v,this.cMapReaderFactory=w==null?void 0:w.cMapReaderFactory,this.standardFontDataFactory=w==null?void 0:w.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(_,b=_util.AnnotationMode.ENABLE,i=null,v=!1){let w=_util.RenderingIntentFlag.DISPLAY,E=null;switch(_){case"any":w=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":w=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch(b){case _util.AnnotationMode.DISABLE:w+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:w+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:w+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,E=(w&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${b}`)}return v&&(w+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:w,cacheKey:`${w}_${_annotation_storage.AnnotationStorage.getHash(E)}`,annotationStorageMap:E}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const i of ue(this,O).values())_.push(i._destroy());ue(this,O).clear(),ue(this,o).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const b=this.messageHandler.sendWithPromise("Terminate",null);return _.push(b),Promise.all(_).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ue(this,B).clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:b}=this;_.on("GetReader",(i,v)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=w=>{this._lastProgress={loaded:w.loaded,total:w.total}},v.onPull=()=>{this._fullReader.read().then(function({value:w,done:E}){if(E){v.close();return}(0,_util.assert)(w instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),v.enqueue(new Uint8Array(w),1,[w])}).catch(w=>{v.error(w)})},v.onCancel=w=>{this._fullReader.cancel(w),v.ready.catch(E=>{if(!this.destroyed)throw E})}}),_.on("ReaderHeadersReady",i=>{const v=(0,_util.createPromiseCapability)(),w=this._fullReader;return w.headersReady.then(()=>{var E;(!w.isStreamingSupported||!w.isRangeSupported)&&(this._lastProgress&&((E=b.onProgress)==null||E.call(b,this._lastProgress)),w.onProgress=I=>{var G;(G=b.onProgress)==null||G.call(b,{loaded:I.loaded,total:I.total})}),v.resolve({isStreamingSupported:w.isStreamingSupported,isRangeSupported:w.isRangeSupported,contentLength:w.contentLength})},v.reject),v.promise}),_.on("GetRangeReader",(i,v)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const w=this._networkStream.getRangeReader(i.begin,i.end);if(!w){v.close();return}v.onPull=()=>{w.read().then(function({value:E,done:I}){if(I){v.close();return}(0,_util.assert)(E instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),v.enqueue(new Uint8Array(E),1,[E])}).catch(E=>{v.error(E)})},v.onCancel=E=>{w.cancel(E),v.ready.catch(I=>{if(!this.destroyed)throw I})}}),_.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,b._capability.resolve(new PDFDocumentProxy(i,this))}),_.on("DocException",function(i){let v;switch(i.name){case"PasswordException":v=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":v=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":v=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":v=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":v=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}b._capability.reject(v)}),_.on("PasswordRequest",i=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),b.onPassword){const v=w=>{w instanceof Error?this._passwordCapability.reject(w):this._passwordCapability.resolve({password:w})};try{b.onPassword(v,i.code)}catch(w){this._passwordCapability.reject(w)}}else this._passwordCapability.reject(new _util.PasswordException(i.message,i.code));return this._passwordCapability.promise}),_.on("DataLoaded",i=>{var v;(v=b.onProgress)==null||v.call(b,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),_.on("StartRenderPage",i=>{if(this.destroyed)return;ue(this,O).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),_.on("commonobj",([i,v,w])=>{var E;if(!this.destroyed&&!this.commonObjs.has(i))switch(v){case"Font":const I=this._params;if("error"in w){const he=w.error;(0,_util.warn)(`Error during font loading: ${he}`),this.commonObjs.resolve(i,he);break}let G=null;I.pdfBug&&((E=globalThis.FontInspector)!=null&&E.enabled)&&(G={registerFont(he,Ce){globalThis.FontInspector.fontAdded(he,Ce)}});const K=new _font_loader.FontFaceObject(w,{isEvalSupported:I.isEvalSupported,disableFontFace:I.disableFontFace,ignoreErrors:I.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:G});this.fontLoader.bind(K).catch(he=>_.sendWithPromise("FontFallback",{id:i})).finally(()=>{!I.fontExtraProperties&&K.data&&(K.data=null),this.commonObjs.resolve(i,K)});break;case"FontPath":case"Image":this.commonObjs.resolve(i,w);break;default:throw new Error(`Got unknown common object type ${v}`)}}),_.on("obj",([i,v,w,E])=>{var G;if(this.destroyed)return;const I=ue(this,O).get(v);if(!I.objs.has(i))switch(w){case"Image":I.objs.resolve(i,E);const K=8e6;if(E){let he;if(E.bitmap){const{width:Ce,height:be}=E;he=Ce*be*4}else he=((G=E.data)==null?void 0:G.length)||0;he>K&&(I.cleanupAfterRender=!0)}break;case"Pattern":I.objs.resolve(i,E);break;default:throw new Error(`Got unknown object type ${w}`)}}),_.on("DocProgress",i=>{var v;this.destroyed||(v=b.onProgress)==null||v.call(b,{loaded:i.loaded,total:i.total})}),_.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),_.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:_}){var b,i;this.destroyed||(i=(b=this.loadingTask).onUnsupportedFeature)==null||i.call(b,_)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var _;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((_=this._fullReader)==null?void 0:_.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const b=_-1,i=ue(this,o).get(b);if(i)return i;const v=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(w=>{if(this.destroyed)throw new Error("Transport destroyed");const E=new PDFPageProxy(b,w,this,this._params.ownerDocument,this._params.pdfBug);return ue(this,O).set(b,E),E});return ue(this,o).set(b,v),v}getPageIndex(_){return typeof _!="object"||_===null||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:b})}getFieldObjects(){return Qe(this,g,Nc).call(this,"GetFieldObjects")}hasJSActions(){return Qe(this,g,Nc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return typeof _!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new _optional_content_config.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const _="GetMetadata",b=ue(this,B).get(_);if(b)return b;const i=this.messageHandler.sendWithPromise(_,null).then(v=>{var w,E;return{info:v[0],metadata:v[1]?new _metadata.Metadata(v[1]):null,contentDispositionFilename:((w=this._fullReader)==null?void 0:w.filename)??null,contentLength:((E=this._fullReader)==null?void 0:E.contentLength)??null}});return ue(this,B).set(_,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const b of ue(this,O).values())if(!b.cleanup())throw new Error(`startCleanup: Page ${b.pageNumber} is currently rendering.`);this.commonObjs.clear(),_||this.fontLoader.clear(),ue(this,B).clear()}}get loadingParams(){const{disableAutoFetch:_,enableXfa:b}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:_,enableXfa:b})}}B=new WeakMap,O=new WeakMap,o=new WeakMap,g=new WeakSet,Nc=function(_,b=null){const i=ue(this,B).get(_);if(i)return i;const v=this.messageHandler.sendWithPromise(_,b);return ue(this,B).set(_,v),v};class PDFObjects{constructor(){Ye(this,A);Ye(this,y,Object.create(null))}get(_,b=null){if(b){const v=Qe(this,A,Bc).call(this,_);return v.capability.promise.then(()=>b(v.data)),null}const i=ue(this,y)[_];if(!(i!=null&&i.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${_}.`);return i.data}has(_){const b=ue(this,y)[_];return(b==null?void 0:b.capability.settled)||!1}resolve(_,b=null){const i=Qe(this,A,Bc).call(this,_);i.data=b,i.capability.resolve()}clear(){var _;for(const b in ue(this,y)){const{data:i}=ue(this,y)[b];(_=i==null?void 0:i.bitmap)==null||_.close()}et(this,y,Object.create(null))}}y=new WeakMap,A=new WeakSet,Bc=function(_){const b=ue(this,y)[_];return b||(ue(this,y)[_]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(_){Ye(this,p,null);et(this,p,_),this.onContinue=null}get promise(){return ue(this,p).capability.promise}cancel(_=0){ue(this,p).cancel(null,_)}get separateAnnots(){const{separateAnnots:_}=ue(this,p).operatorList;if(!_)return!1;const{annotationCanvasMap:b}=ue(this,p);return _.form||_.canvas&&(b==null?void 0:b.size)>0}}p=new WeakMap,exports.RenderTask=RenderTask;const f=class f{constructor({callback:_,params:b,objs:i,commonObjs:v,annotationCanvasMap:w,operatorList:E,pageIndex:I,canvasFactory:G,useRequestAnimationFrame:K=!1,pdfBug:he=!1,pageColors:Ce=null}){this.callback=_,this.params=b,this.objs=i,this.commonObjs=v,this.annotationCanvasMap=w,this.operatorListIdx=null,this.operatorList=E,this._pageIndex=I,this.canvasFactory=G,this._pdfBug=he,this.pageColors=Ce,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=K===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:b}){var I,G;if(this.cancelled)return;if(this._canvas){if(ue(f,d).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ue(f,d).add(this._canvas)}this._pdfBug&&((I=globalThis.StepperManager)!=null&&I.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:v,transform:w,background:E}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:b},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:w,viewport:v,transparency:_,background:E}),this.operatorListIdx=0,this.graphicsReady=!0,(G=this.graphicsReadyCallback)==null||G.call(this)}cancel(_=null,b=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),this._canvas&&ue(f,d).delete(this._canvas),this.callback(_||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",b))}operatorListChanged(){var _;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(_=this.stepper)==null||_.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ue(f,d).delete(this._canvas),this.callback())))}};d=new WeakMap,Ye(f,d,new WeakSet);let InternalRenderTask=f;const version="3.4.120";exports.version=version;const build="af6414988";exports.build=build},(u,s,l)=>{var O,o,g,If,y;Object.defineProperty(s,"__esModule",{value:!0}),s.PrintAnnotationStorage=s.AnnotationStorage=void 0;var a=l(1),h=l(4),T=l(8);class F{constructor(){Ye(this,g);Ye(this,O,!1);Ye(this,o,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(m,p){const d=ue(this,o).get(m);return d===void 0?p:Object.assign(p,d)}getRawValue(m){return ue(this,o).get(m)}remove(m){if(ue(this,o).delete(m),ue(this,o).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const p of ue(this,o).values())if(p instanceof h.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(m,p){const d=ue(this,o).get(m);let f=!1;if(d!==void 0)for(const[C,_]of Object.entries(p))d[C]!==_&&(f=!0,d[C]=_);else f=!0,ue(this,o).set(m,p);f&&Qe(this,g,If).call(this),p instanceof h.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(p.constructor._type)}has(m){return ue(this,o).has(m)}getAll(){return ue(this,o).size>0?(0,a.objectFromMap)(ue(this,o)):null}setAll(m){for(const[p,d]of Object.entries(m))this.setValue(p,d)}get size(){return ue(this,o).size}resetModified(){ue(this,O)&&(et(this,O,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new B(this)}get serializable(){if(ue(this,o).size===0)return null;const m=new Map;for(const[p,d]of ue(this,o)){const f=d instanceof h.AnnotationEditor?d.serialize():d;f&&m.set(p,f)}return m}static getHash(m){if(!m)return"";const p=new T.MurmurHash3_64;for(const[d,f]of m)p.update(`${d}:${JSON.stringify(f)}`);return p.hexdigest()}}O=new WeakMap,o=new WeakMap,g=new WeakSet,If=function(){ue(this,O)||(et(this,O,!0),typeof this.onSetModified=="function"&&this.onSetModified())},s.AnnotationStorage=F;class B extends F{constructor(p){super();Ye(this,y,null);et(this,y,structuredClone(p.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return ue(this,y)}}y=new WeakMap,s.PrintAnnotationStorage=B},(u,s,l)=>{var F,B,O,o,g,x;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditor=void 0;var a=l(5),h=l(1);const y=class y{constructor(m){Ye(this,F,this.focusin.bind(this));Ye(this,B,this.focusout.bind(this));Ye(this,O,!1);Ye(this,o,!1);Ye(this,g,!1);kt(this,"_uiManager",null);Ye(this,x,y._zIndex++);this.constructor===y&&(0,h.unreachable)("Cannot initialize AnnotationEditor."),this.parent=m.parent,this.id=m.id,this.width=this.height=null,this.pageIndex=m.parent.pageIndex,this.name=m.name,this.div=null,this._uiManager=m.uiManager;const{rotation:p,rawDims:{pageWidth:d,pageHeight:f,pageX:C,pageY:_}}=this.parent.viewport;this.rotation=p,this.pageDimensions=[d,f],this.pageTranslation=[C,_];const[b,i]=this.parentDimensions;this.x=m.x/b,this.y=m.y/i,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,h.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(m){this._uiManager.addCommands(m)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=ue(this,x)}setParent(m){m!==null&&(this.pageIndex=m.pageIndex,this.pageDimensions=m.pageDimensions),this.parent=m}focusin(m){ue(this,O)?et(this,O,!1):this.parent.setSelected(this)}focusout(m){var d;if(!this.isAttachedToDOM)return;const p=m.relatedTarget;p!=null&&p.closest(`#${this.id}`)||(m.preventDefault(),(d=this.parent)!=null&&d.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(m){const p=this.parent.div.getBoundingClientRect();this.startX=m.clientX-p.x,this.startY=m.clientY-p.y,m.dataTransfer.setData("text/plain",this.id),m.dataTransfer.effectAllowed="move"}setAt(m,p,d,f){const[C,_]=this.parentDimensions;[d,f]=this.screenToPageTranslation(d,f),this.x=(m+d)/C,this.y=(p+f)/_,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(m,p){const[d,f]=this.parentDimensions;[m,p]=this.screenToPageTranslation(m,p),this.x+=m/d,this.y+=p/f,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(m,p){switch(this.parentRotation){case 90:return[p,-m];case 180:return[-m,-p];case 270:return[-p,m];default:return[m,p]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:m}=this._uiManager.viewParameters,[p,d]=this.pageDimensions;return[p*m,d*m]}setDims(m,p){const[d,f]=this.parentDimensions;this.div.style.width=`${100*m/d}%`,this.div.style.height=`${100*p/f}%`}fixDims(){const{style:m}=this.div,{height:p,width:d}=m,f=d.endsWith("%"),C=p.endsWith("%");if(f&&C)return;const[_,b]=this.parentDimensions;f||(m.width=`${100*parseFloat(d)/_}%`),C||(m.height=`${100*parseFloat(p)/b}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",ue(this,F)),this.div.addEventListener("focusout",ue(this,B));const[m,p]=this.getInitialTranslation();return this.translate(m,p),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(m){const{isMac:p}=h.FeatureTest.platform;if(m.button!==0||m.ctrlKey&&p){m.preventDefault();return}m.ctrlKey&&!p||m.shiftKey||m.metaKey&&p?this.parent.toggleSelected(this):this.parent.setSelected(this),et(this,O,!0)}getRect(m,p){const d=this.parentScale,[f,C]=this.pageDimensions,[_,b]=this.pageTranslation,i=m/d,v=p/d,w=this.x*f,E=this.y*C,I=this.width*f,G=this.height*C;switch(this.rotation){case 0:return[w+i+_,C-E-v-G+b,w+i+I+_,C-E-v+b];case 90:return[w+v+_,C-E+i+b,w+v+G+_,C-E+i+I+b];case 180:return[w-i-I+_,C-E+v+b,w-i+_,C-E+v+G+b];case 270:return[w-v-G+_,C-E-i-I+b,w-v+_,C-E-i+b];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(m,p){const[d,f,C,_]=m,b=C-d,i=_-f;switch(this.rotation){case 0:return[d,p-_,b,i];case 90:return[d,p-f,i,b];case 180:return[C,p-f,b,i];case 270:return[C,p-_,i,b];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){et(this,g,!0)}disableEditMode(){et(this,g,!1)}isInEditMode(){return ue(this,g)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var m;(m=this.div)==null||m.addEventListener("focusin",ue(this,F))}serialize(){(0,h.unreachable)("An editor must be serializable")}static deserialize(m,p,d){const f=new this.prototype.constructor({parent:p,id:p.getNextId(),uiManager:d});f.rotation=m.rotation;const[C,_]=f.pageDimensions,[b,i,v,w]=f.getRectInCurrentCoords(m.rect,_);return f.x=b/C,f.y=i/_,f.width=v/C,f.height=w/_,f}remove(){this.div.removeEventListener("focusin",ue(this,F)),this.div.removeEventListener("focusout",ue(this,B)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var m;(m=this.div)==null||m.classList.add("selectedEditor")}unselect(){var m;(m=this.div)==null||m.classList.remove("selectedEditor")}updateParams(m,p){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return ue(this,o)}set isEditing(m){et(this,o,m),m?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};F=new WeakMap,B=new WeakMap,O=new WeakMap,o=new WeakMap,g=new WeakMap,x=new WeakMap,kt(y,"_colorManager",new a.ColorManager),kt(y,"_zIndex",1);let T=y;s.AnnotationEditor=T},(u,s,l)=>{var y,A,m,p,d,f,Nf,b,i,v,w,E,I,G,K,he,Ce,be,ve,Z,Q,ee,fe,V,z,L,P,k,N,j,q,Bf,Uc,Uf,zf,_r,Mo,jf,Hf,zc,Oo,jc;Object.defineProperty(s,"__esModule",{value:!0}),s.KeyboardManager=s.CommandManager=s.ColorManager=s.AnnotationEditorUIManager=void 0,s.bindEvents=T,s.opacityToHex=F;var a=l(1),h=l(6);function T(le,ae,pe){for(const oe of pe)ae.addEventListener(oe,le[oe].bind(le))}function F(le){return Math.round(Math.min(255,Math.max(1,255*le))).toString(16).padStart(2,"0")}class B{constructor(){Ye(this,y,0)}getId(){return`${a.AnnotationEditorPrefix}${ko(this,y)._++}`}}y=new WeakMap;class O{constructor(ae=128){Ye(this,A,[]);Ye(this,m,!1);Ye(this,p);Ye(this,d,-1);et(this,p,ae)}add({cmd:ae,undo:pe,mustExec:oe,type:_e=NaN,overwriteIfSameType:Ae=!1,keepUndo:ke=!1}){if(oe&&ae(),ue(this,m))return;const Me={cmd:ae,undo:pe,type:_e};if(ue(this,d)===-1){ue(this,A).length>0&&(ue(this,A).length=0),et(this,d,0),ue(this,A).push(Me);return}if(Ae&&ue(this,A)[ue(this,d)].type===_e){ke&&(Me.undo=ue(this,A)[ue(this,d)].undo),ue(this,A)[ue(this,d)]=Me;return}const Fe=ue(this,d)+1;Fe===ue(this,p)?ue(this,A).splice(0,1):(et(this,d,Fe),Fe<ue(this,A).length&&ue(this,A).splice(Fe)),ue(this,A).push(Me)}undo(){ue(this,d)!==-1&&(et(this,m,!0),ue(this,A)[ue(this,d)].undo(),et(this,m,!1),et(this,d,ue(this,d)-1))}redo(){ue(this,d)<ue(this,A).length-1&&(et(this,d,ue(this,d)+1),et(this,m,!0),ue(this,A)[ue(this,d)].cmd(),et(this,m,!1))}hasSomethingToUndo(){return ue(this,d)!==-1}hasSomethingToRedo(){return ue(this,d)<ue(this,A).length-1}destroy(){et(this,A,null)}}A=new WeakMap,m=new WeakMap,p=new WeakMap,d=new WeakMap,s.CommandManager=O;class o{constructor(ae){Ye(this,f);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:pe}=a.FeatureTest.platform;for(const[oe,_e]of ae)for(const Ae of oe){const ke=Ae.startsWith("mac+");pe&&ke?(this.callbacks.set(Ae.slice(4),_e),this.allKeys.add(Ae.split("+").at(-1))):!pe&&!ke&&(this.callbacks.set(Ae,_e),this.allKeys.add(Ae.split("+").at(-1)))}}exec(ae,pe){if(!this.allKeys.has(pe.key))return;const oe=this.callbacks.get(Qe(this,f,Nf).call(this,pe));oe&&(oe.bind(ae)(),pe.stopPropagation(),pe.preventDefault())}}f=new WeakSet,Nf=function(ae){ae.altKey&&this.buffer.push("alt"),ae.ctrlKey&&this.buffer.push("ctrl"),ae.metaKey&&this.buffer.push("meta"),ae.shiftKey&&this.buffer.push("shift"),this.buffer.push(ae.key);const pe=this.buffer.join("+");return this.buffer.length=0,pe},s.KeyboardManager=o;const _=class _{get _colors(){const ae=new Map([["CanvasText",null],["Canvas",null]]);return(0,h.getColorValues)(ae),(0,a.shadow)(this,"_colors",ae)}convert(ae){const pe=(0,h.getRGB)(ae);if(!window.matchMedia("(forced-colors: active)").matches)return pe;for(const[oe,_e]of this._colors)if(_e.every((Ae,ke)=>Ae===pe[ke]))return _._colorsMapping.get(oe);return pe}getHexCode(ae){const pe=this._colors.get(ae);return pe?a.Util.makeHexColor(...pe):ae}};kt(_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let g=_;s.ColorManager=g;const J=class J{constructor(ae,pe,oe){Ye(this,q);Ye(this,b,null);Ye(this,i,new Map);Ye(this,v,new Map);Ye(this,w,null);Ye(this,E,new O);Ye(this,I,0);Ye(this,G,null);Ye(this,K,new Set);Ye(this,he,null);Ye(this,Ce,new B);Ye(this,be,!1);Ye(this,ve,a.AnnotationEditorType.NONE);Ye(this,Z,new Set);Ye(this,Q,this.copy.bind(this));Ye(this,ee,this.cut.bind(this));Ye(this,fe,this.paste.bind(this));Ye(this,V,this.keydown.bind(this));Ye(this,z,this.onEditingAction.bind(this));Ye(this,L,this.onPageChanging.bind(this));Ye(this,P,this.onScaleChanging.bind(this));Ye(this,k,this.onRotationChanging.bind(this));Ye(this,N,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Ye(this,j,null);et(this,j,ae),et(this,he,pe),ue(this,he)._on("editingaction",ue(this,z)),ue(this,he)._on("pagechanging",ue(this,L)),ue(this,he)._on("scalechanging",ue(this,P)),ue(this,he)._on("rotationchanging",ue(this,k)),et(this,w,oe),this.viewParameters={realScale:h.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){Qe(this,q,Uc).call(this),ue(this,he)._off("editingaction",ue(this,z)),ue(this,he)._off("pagechanging",ue(this,L)),ue(this,he)._off("scalechanging",ue(this,P)),ue(this,he)._off("rotationchanging",ue(this,k));for(const ae of ue(this,v).values())ae.destroy();ue(this,v).clear(),ue(this,i).clear(),ue(this,K).clear(),et(this,b,null),ue(this,Z).clear(),ue(this,E).destroy()}onPageChanging({pageNumber:ae}){et(this,I,ae-1)}focusMainContainer(){ue(this,j).focus()}addShouldRescale(ae){ue(this,K).add(ae)}removeShouldRescale(ae){ue(this,K).delete(ae)}onScaleChanging({scale:ae}){this.commitOrRemove(),this.viewParameters.realScale=ae*h.PixelsPerInch.PDF_TO_CSS_UNITS;for(const pe of ue(this,K))pe.onScaleChanging()}onRotationChanging({pagesRotation:ae}){this.commitOrRemove(),this.viewParameters.rotation=ae}addToAnnotationStorage(ae){!ae.isEmpty()&&ue(this,w)&&!ue(this,w).has(ae.id)&&ue(this,w).setValue(ae.id,ae)}copy(ae){if(ae.preventDefault(),ue(this,b)&&ue(this,b).commitOrRemove(),!this.hasSelection)return;const pe=[];for(const oe of ue(this,Z))oe.isEmpty()||pe.push(oe.serialize());pe.length!==0&&ae.clipboardData.setData("application/pdfjs",JSON.stringify(pe))}cut(ae){this.copy(ae),this.delete()}paste(ae){ae.preventDefault();let pe=ae.clipboardData.getData("application/pdfjs");if(!pe)return;try{pe=JSON.parse(pe)}catch(_e){(0,a.warn)(`paste: "${_e.message}".`);return}if(!Array.isArray(pe))return;this.unselectAll();const oe=ue(this,v).get(ue(this,I));try{const _e=[];for(const Me of pe){const Fe=oe.deserialize(Me);if(!Fe)return;_e.push(Fe)}const Ae=()=>{for(const Me of _e)Qe(this,q,zc).call(this,Me);Qe(this,q,jc).call(this,_e)},ke=()=>{for(const Me of _e)Me.remove()};this.addCommands({cmd:Ae,undo:ke,mustExec:!0})}catch(_e){(0,a.warn)(`paste: "${_e.message}".`)}}keydown(ae){var pe;(pe=this.getActive())!=null&&pe.shouldGetKeyboardEvents()||J._keyboardManager.exec(this,ae)}onEditingAction(ae){["undo","redo","delete","selectAll"].includes(ae.name)&&this[ae.name]()}setEditingState(ae){ae?(Qe(this,q,Bf).call(this),Qe(this,q,Uf).call(this),Qe(this,q,_r).call(this,{isEditing:ue(this,ve)!==a.AnnotationEditorType.NONE,isEmpty:Qe(this,q,Oo).call(this),hasSomethingToUndo:ue(this,E).hasSomethingToUndo(),hasSomethingToRedo:ue(this,E).hasSomethingToRedo(),hasSelectedEditor:!1})):(Qe(this,q,Uc).call(this),Qe(this,q,zf).call(this),Qe(this,q,_r).call(this,{isEditing:!1}))}registerEditorTypes(ae){if(!ue(this,G)){et(this,G,ae);for(const pe of ue(this,G))Qe(this,q,Mo).call(this,pe.defaultPropertiesToUpdate)}}getId(){return ue(this,Ce).getId()}get currentLayer(){return ue(this,v).get(ue(this,I))}get currentPageIndex(){return ue(this,I)}addLayer(ae){ue(this,v).set(ae.pageIndex,ae),ue(this,be)?ae.enable():ae.disable()}removeLayer(ae){ue(this,v).delete(ae.pageIndex)}updateMode(ae){if(et(this,ve,ae),ae===a.AnnotationEditorType.NONE)this.setEditingState(!1),Qe(this,q,Hf).call(this);else{this.setEditingState(!0),Qe(this,q,jf).call(this);for(const pe of ue(this,v).values())pe.updateMode(ae)}}updateToolbar(ae){ae!==ue(this,ve)&&ue(this,he).dispatch("switchannotationeditormode",{source:this,mode:ae})}updateParams(ae,pe){if(ue(this,G)){for(const oe of ue(this,Z))oe.updateParams(ae,pe);for(const oe of ue(this,G))oe.updateDefaultParams(ae,pe)}}getEditors(ae){const pe=[];for(const oe of ue(this,i).values())oe.pageIndex===ae&&pe.push(oe);return pe}getEditor(ae){return ue(this,i).get(ae)}addEditor(ae){ue(this,i).set(ae.id,ae)}removeEditor(ae){var pe;ue(this,i).delete(ae.id),this.unselect(ae),(pe=ue(this,w))==null||pe.remove(ae.id)}setActiveEditor(ae){ue(this,b)!==ae&&(et(this,b,ae),ae&&Qe(this,q,Mo).call(this,ae.propertiesToUpdate))}toggleSelected(ae){if(ue(this,Z).has(ae)){ue(this,Z).delete(ae),ae.unselect(),Qe(this,q,_r).call(this,{hasSelectedEditor:this.hasSelection});return}ue(this,Z).add(ae),ae.select(),Qe(this,q,Mo).call(this,ae.propertiesToUpdate),Qe(this,q,_r).call(this,{hasSelectedEditor:!0})}setSelected(ae){for(const pe of ue(this,Z))pe!==ae&&pe.unselect();ue(this,Z).clear(),ue(this,Z).add(ae),ae.select(),Qe(this,q,Mo).call(this,ae.propertiesToUpdate),Qe(this,q,_r).call(this,{hasSelectedEditor:!0})}isSelected(ae){return ue(this,Z).has(ae)}unselect(ae){ae.unselect(),ue(this,Z).delete(ae),Qe(this,q,_r).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return ue(this,Z).size!==0}undo(){ue(this,E).undo(),Qe(this,q,_r).call(this,{hasSomethingToUndo:ue(this,E).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Qe(this,q,Oo).call(this)})}redo(){ue(this,E).redo(),Qe(this,q,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:ue(this,E).hasSomethingToRedo(),isEmpty:Qe(this,q,Oo).call(this)})}addCommands(ae){ue(this,E).add(ae),Qe(this,q,_r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Qe(this,q,Oo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ae=[...ue(this,Z)],pe=()=>{for(const _e of ae)_e.remove()},oe=()=>{for(const _e of ae)Qe(this,q,zc).call(this,_e)};this.addCommands({cmd:pe,undo:oe,mustExec:!0})}commitOrRemove(){var ae;(ae=ue(this,b))==null||ae.commitOrRemove()}selectAll(){for(const ae of ue(this,Z))ae.commit();Qe(this,q,jc).call(this,ue(this,i).values())}unselectAll(){if(ue(this,b)){ue(this,b).commitOrRemove();return}if(ue(this,Z).size!==0){for(const ae of ue(this,Z))ae.unselect();ue(this,Z).clear(),Qe(this,q,_r).call(this,{hasSelectedEditor:!1})}}isActive(ae){return ue(this,b)===ae}getActive(){return ue(this,b)}getMode(){return ue(this,ve)}};b=new WeakMap,i=new WeakMap,v=new WeakMap,w=new WeakMap,E=new WeakMap,I=new WeakMap,G=new WeakMap,K=new WeakMap,he=new WeakMap,Ce=new WeakMap,be=new WeakMap,ve=new WeakMap,Z=new WeakMap,Q=new WeakMap,ee=new WeakMap,fe=new WeakMap,V=new WeakMap,z=new WeakMap,L=new WeakMap,P=new WeakMap,k=new WeakMap,N=new WeakMap,j=new WeakMap,q=new WeakSet,Bf=function(){ue(this,j).addEventListener("keydown",ue(this,V))},Uc=function(){ue(this,j).removeEventListener("keydown",ue(this,V))},Uf=function(){document.addEventListener("copy",ue(this,Q)),document.addEventListener("cut",ue(this,ee)),document.addEventListener("paste",ue(this,fe))},zf=function(){document.removeEventListener("copy",ue(this,Q)),document.removeEventListener("cut",ue(this,ee)),document.removeEventListener("paste",ue(this,fe))},_r=function(ae){Object.entries(ae).some(([oe,_e])=>ue(this,N)[oe]!==_e)&&ue(this,he).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(ue(this,N),ae)})},Mo=function(ae){ue(this,he).dispatch("annotationeditorparamschanged",{source:this,details:ae})},jf=function(){if(!ue(this,be)){et(this,be,!0);for(const ae of ue(this,v).values())ae.enable()}},Hf=function(){if(this.unselectAll(),ue(this,be)){et(this,be,!1);for(const ae of ue(this,v).values())ae.disable()}},zc=function(ae){const pe=ue(this,v).get(ae.pageIndex);pe?pe.addOrRebuild(ae):this.addEditor(ae)},Oo=function(){if(ue(this,i).size===0)return!0;if(ue(this,i).size===1)for(const ae of ue(this,i).values())return ae.isEmpty();return!1},jc=function(ae){ue(this,Z).clear();for(const pe of ae)pe.isEmpty()||(ue(this,Z).add(pe),pe.select());Qe(this,q,_r).call(this,{hasSelectedEditor:!0})},kt(J,"_keyboardManager",new o([[["ctrl+a","mac+meta+a"],J.prototype.selectAll],[["ctrl+z","mac+meta+z"],J.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],J.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],J.prototype.delete],[["Escape","mac+Escape"],J.prototype.unselectAll]]));let x=J;s.AnnotationEditorUIManager=x},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StatTimer=s.RenderingCancelledException=s.PixelsPerInch=s.PageViewport=s.PDFDateString=s.DOMStandardFontDataFactory=s.DOMSVGFactory=s.DOMCanvasFactory=s.DOMCMapReaderFactory=s.AnnotationPrefix=void 0,s.deprecated=v,s.getColorValues=K,s.getCurrentTransform=he,s.getCurrentTransformInverse=Ce,s.getFilenameFromUrl=f,s.getPdfFilenameFromUrl=C,s.getRGB=G,s.getXfaPageViewport=I,s.isDataScheme=p,s.isPdfFile=d,s.isValidFetchUrl=b,s.loadScript=i,s.setLayerDimensions=be;var a=l(7),h=l(1);const T="http://www.w3.org/2000/svg",F="pdfjs_internal_id_";s.AnnotationPrefix=F;const ve=class ve{};kt(ve,"CSS",96),kt(ve,"PDF",72),kt(ve,"PDF_TO_CSS_UNITS",ve.CSS/ve.PDF);let B=ve;s.PixelsPerInch=B;class O extends a.BaseCanvasFactory{constructor({ownerDocument:Q=globalThis.document}={}){super(),this._document=Q}_createCanvas(Q,ee){const fe=this._document.createElement("canvas");return fe.width=Q,fe.height=ee,fe}}s.DOMCanvasFactory=O;async function o(Z,Q=!1){if(b(Z,document.baseURI)){const ee=await fetch(Z);if(!ee.ok)throw new Error(ee.statusText);return Q?new Uint8Array(await ee.arrayBuffer()):(0,h.stringToBytes)(await ee.text())}return new Promise((ee,fe)=>{const V=new XMLHttpRequest;V.open("GET",Z,!0),Q&&(V.responseType="arraybuffer"),V.onreadystatechange=()=>{if(V.readyState===XMLHttpRequest.DONE){if(V.status===200||V.status===0){let z;if(Q&&V.response?z=new Uint8Array(V.response):!Q&&V.responseText&&(z=(0,h.stringToBytes)(V.responseText)),z){ee(z);return}}fe(new Error(V.statusText))}},V.send(null)})}class g extends a.BaseCMapReaderFactory{_fetchData(Q,ee){return o(Q,this.isCompressed).then(fe=>({cMapData:fe,compressionType:ee}))}}s.DOMCMapReaderFactory=g;class x extends a.BaseStandardFontDataFactory{_fetchData(Q){return o(Q,!0)}}s.DOMStandardFontDataFactory=x;class y extends a.BaseSVGFactory{_createSVG(Q){return document.createElementNS(T,Q)}}s.DOMSVGFactory=y;class A{constructor({viewBox:Q,scale:ee,rotation:fe,offsetX:V=0,offsetY:z=0,dontFlip:L=!1}){this.viewBox=Q,this.scale=ee,this.rotation=fe,this.offsetX=V,this.offsetY=z;const P=(Q[2]+Q[0])/2,k=(Q[3]+Q[1])/2;let N,j,q,te;switch(fe%=360,fe<0&&(fe+=360),fe){case 180:N=-1,j=0,q=0,te=1;break;case 90:N=0,j=1,q=1,te=0;break;case 270:N=0,j=-1,q=-1,te=0;break;case 0:N=1,j=0,q=0,te=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}L&&(q=-q,te=-te);let se,re,ce,H;N===0?(se=Math.abs(k-Q[1])*ee+V,re=Math.abs(P-Q[0])*ee+z,ce=(Q[3]-Q[1])*ee,H=(Q[2]-Q[0])*ee):(se=Math.abs(P-Q[0])*ee+V,re=Math.abs(k-Q[1])*ee+z,ce=(Q[2]-Q[0])*ee,H=(Q[3]-Q[1])*ee),this.transform=[N*ee,j*ee,q*ee,te*ee,se-N*ee*P-q*ee*k,re-j*ee*P-te*ee*k],this.width=ce,this.height=H}get rawDims(){const{viewBox:Q}=this;return(0,h.shadow)(this,"rawDims",{pageWidth:Q[2]-Q[0],pageHeight:Q[3]-Q[1],pageX:Q[0],pageY:Q[1]})}clone({scale:Q=this.scale,rotation:ee=this.rotation,offsetX:fe=this.offsetX,offsetY:V=this.offsetY,dontFlip:z=!1}={}){return new A({viewBox:this.viewBox.slice(),scale:Q,rotation:ee,offsetX:fe,offsetY:V,dontFlip:z})}convertToViewportPoint(Q,ee){return h.Util.applyTransform([Q,ee],this.transform)}convertToViewportRectangle(Q){const ee=h.Util.applyTransform([Q[0],Q[1]],this.transform),fe=h.Util.applyTransform([Q[2],Q[3]],this.transform);return[ee[0],ee[1],fe[0],fe[1]]}convertToPdfPoint(Q,ee){return h.Util.applyInverseTransform([Q,ee],this.transform)}}s.PageViewport=A;class m extends h.BaseException{constructor(Q,ee,fe=0){super(Q,"RenderingCancelledException"),this.type=ee,this.extraDelay=fe}}s.RenderingCancelledException=m;function p(Z){const Q=Z.length;let ee=0;for(;ee<Q&&Z[ee].trim()==="";)ee++;return Z.substring(ee,ee+5).toLowerCase()==="data:"}function d(Z){return typeof Z=="string"&&/\.pdf$/i.test(Z)}function f(Z,Q=!1){return Q||([Z]=Z.split(/[#?]/,1)),Z.substring(Z.lastIndexOf("/")+1)}function C(Z,Q="document.pdf"){if(typeof Z!="string")return Q;if(p(Z))return(0,h.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Q;const ee=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,fe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,V=ee.exec(Z);let z=fe.exec(V[1])||fe.exec(V[2])||fe.exec(V[3]);if(z&&(z=z[0],z.includes("%")))try{z=fe.exec(decodeURIComponent(z))[0]}catch{}return z||Q}class _{constructor(){kt(this,"started",Object.create(null));kt(this,"times",[])}time(Q){Q in this.started&&(0,h.warn)(`Timer is already running for ${Q}`),this.started[Q]=Date.now()}timeEnd(Q){Q in this.started||(0,h.warn)(`Timer has not been started for ${Q}`),this.times.push({name:Q,start:this.started[Q],end:Date.now()}),delete this.started[Q]}toString(){const Q=[];let ee=0;for(const{name:fe}of this.times)ee=Math.max(fe.length,ee);for(const{name:fe,start:V,end:z}of this.times)Q.push(`${fe.padEnd(ee)} ${z-V}ms
`);return Q.join("")}}s.StatTimer=_;function b(Z,Q){try{const{protocol:ee}=Q?new URL(Z,Q):new URL(Z);return ee==="http:"||ee==="https:"}catch{return!1}}function i(Z,Q=!1){return new Promise((ee,fe)=>{const V=document.createElement("script");V.src=Z,V.onload=function(z){Q&&V.remove(),ee(z)},V.onerror=function(){fe(new Error(`Cannot load script at: ${V.src}`))},(document.head||document.documentElement).append(V)})}function v(Z){console.log("Deprecated API usage: "+Z)}let w;class E{static toDateObject(Q){if(!Q||typeof Q!="string")return null;w||(w=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ee=w.exec(Q);if(!ee)return null;const fe=parseInt(ee[1],10);let V=parseInt(ee[2],10);V=V>=1&&V<=12?V-1:0;let z=parseInt(ee[3],10);z=z>=1&&z<=31?z:1;let L=parseInt(ee[4],10);L=L>=0&&L<=23?L:0;let P=parseInt(ee[5],10);P=P>=0&&P<=59?P:0;let k=parseInt(ee[6],10);k=k>=0&&k<=59?k:0;const N=ee[7]||"Z";let j=parseInt(ee[8],10);j=j>=0&&j<=23?j:0;let q=parseInt(ee[9],10)||0;return q=q>=0&&q<=59?q:0,N==="-"?(L+=j,P+=q):N==="+"&&(L-=j,P-=q),new Date(Date.UTC(fe,V,z,L,P,k))}}s.PDFDateString=E;function I(Z,{scale:Q=1,rotation:ee=0}){const{width:fe,height:V}=Z.attributes.style,z=[0,0,parseInt(fe),parseInt(V)];return new A({viewBox:z,scale:Q,rotation:ee})}function G(Z){if(Z.startsWith("#")){const Q=parseInt(Z.slice(1),16);return[(Q&16711680)>>16,(Q&65280)>>8,Q&255]}return Z.startsWith("rgb(")?Z.slice(4,-1).split(",").map(Q=>parseInt(Q)):Z.startsWith("rgba(")?Z.slice(5,-1).split(",").map(Q=>parseInt(Q)).slice(0,3):((0,h.warn)(`Not a valid color format: "${Z}"`),[0,0,0])}function K(Z){const Q=document.createElement("span");Q.style.visibility="hidden",document.body.append(Q);for(const ee of Z.keys()){Q.style.color=ee;const fe=window.getComputedStyle(Q).color;Z.set(ee,G(fe))}Q.remove()}function he(Z){const{a:Q,b:ee,c:fe,d:V,e:z,f:L}=Z.getTransform();return[Q,ee,fe,V,z,L]}function Ce(Z){const{a:Q,b:ee,c:fe,d:V,e:z,f:L}=Z.getTransform().invertSelf();return[Q,ee,fe,V,z,L]}function be(Z,Q,ee=!1,fe=!0){if(Q instanceof A){const{pageWidth:V,pageHeight:z}=Q.rawDims,{style:L}=Z,P=`calc(var(--scale-factor) * ${V}px)`,k=`calc(var(--scale-factor) * ${z}px)`;!ee||Q.rotation%180===0?(L.width=P,L.height=k):(L.width=k,L.height=P)}fe&&Z.setAttribute("data-main-rotation",Q.rotation)}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStandardFontDataFactory=s.BaseSVGFactory=s.BaseCanvasFactory=s.BaseCMapReaderFactory=void 0;var a=l(1);class h{constructor(){this.constructor===h&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(o,g){if(o<=0||g<=0)throw new Error("Invalid canvas size");const x=this._createCanvas(o,g);return{canvas:x,context:x.getContext("2d")}}reset(o,g,x){if(!o.canvas)throw new Error("Canvas is not specified");if(g<=0||x<=0)throw new Error("Invalid canvas size");o.canvas.width=g,o.canvas.height=x}destroy(o){if(!o.canvas)throw new Error("Canvas is not specified");o.canvas.width=0,o.canvas.height=0,o.canvas=null,o.context=null}_createCanvas(o,g){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}s.BaseCanvasFactory=h;class T{constructor({baseUrl:o=null,isCompressed:g=!0}){this.constructor===T&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=o,this.isCompressed=g}async fetch({name:o}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!o)throw new Error("CMap name must be specified.");const g=this.baseUrl+o+(this.isCompressed?".bcmap":""),x=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(g,x).catch(y=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${g}`)})}_fetchData(o,g){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseCMapReaderFactory=T;class F{constructor({baseUrl:o=null}){this.constructor===F&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=o}async fetch({filename:o}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!o)throw new Error("Font filename must be specified.");const g=`${this.baseUrl}${o}`;return this._fetchData(g).catch(x=>{throw new Error(`Unable to load font data at: ${g}`)})}_fetchData(o){(0,a.unreachable)("Abstract method `_fetchData` called.")}}s.BaseStandardFontDataFactory=F;class B{constructor(){this.constructor===B&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(o,g,x=!1){if(o<=0||g<=0)throw new Error("Invalid SVG dimensions");const y=this._createSVG("svg:svg");return y.setAttribute("version","1.1"),x||(y.setAttribute("width",`${o}px`),y.setAttribute("height",`${g}px`)),y.setAttribute("preserveAspectRatio","none"),y.setAttribute("viewBox",`0 0 ${o} ${g}`),y}createElement(o){if(typeof o!="string")throw new Error("Invalid SVG element type");return this._createSVG(o)}_createSVG(o){(0,a.unreachable)("Abstract method `_createSVG` called.")}}s.BaseSVGFactory=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var a=l(1);const h=3285377520,T=4294901760,F=65535;class B{constructor(o){this.h1=o?o&4294967295:h,this.h2=o?o&4294967295:h}update(o){let g,x;if(typeof o=="string"){g=new Uint8Array(o.length*2),x=0;for(let w=0,E=o.length;w<E;w++){const I=o.charCodeAt(w);I<=255?g[x++]=I:(g[x++]=I>>>8,g[x++]=I&255)}}else if((0,a.isArrayBuffer)(o))g=o.slice(),x=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=x>>2,A=x-y*4,m=new Uint32Array(g.buffer,0,y);let p=0,d=0,f=this.h1,C=this.h2;const _=3432918353,b=461845907,i=_&F,v=b&F;for(let w=0;w<y;w++)w&1?(p=m[w],p=p*_&T|p*i&F,p=p<<15|p>>>17,p=p*b&T|p*v&F,f^=p,f=f<<13|f>>>19,f=f*5+3864292196):(d=m[w],d=d*_&T|d*i&F,d=d<<15|d>>>17,d=d*b&T|d*v&F,C^=d,C=C<<13|C>>>19,C=C*5+3864292196);switch(p=0,A){case 3:p^=g[y*4+2]<<16;case 2:p^=g[y*4+1]<<8;case 1:p^=g[y*4],p=p*_&T|p*i&F,p=p<<15|p>>>17,p=p*b&T|p*v&F,y&1?f^=p:C^=p}this.h1=f,this.h2=C}hexdigest(){let o=this.h1,g=this.h2;return o^=g>>>1,o=o*3981806797&T|o*36045&F,g=g*4283543511&T|((g<<16|o>>>16)*2950163797&T)>>>16,o^=g>>>1,o=o*444984403&T|o*60499&F,g=g*3301882366&T|((g<<16|o>>>16)*3120437893&T)>>>16,o^=g>>>1,(o>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}s.MurmurHash3_64=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontLoader=s.FontFaceObject=void 0;var a=l(1),h=l(10);class T{constructor({onUnsupportedFeature:O,ownerDocument:o=globalThis.document,styleElement:g=null}){this._onUnsupportedFeature=O,this._document=o,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}insertRule(O){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const o=this.styleElement.sheet;o.insertRule(O,o.cssRules.length)}clear(){for(const O of this.nativeFontFaces)this._document.fonts.delete(O);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(O){if(O.attached||O.missingFile)return;if(O.attached=!0,this.isFontLoadingAPISupported){const g=O.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(x){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${g.family}': '${x}'.`),O.disableFontFace=!0,x}}return}const o=O.createFontFaceRule();if(o){if(this.insertRule(o),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const x=this._queueLoadingCallback(g);this._prepareFontLoadEvent(O,x)})}}get isFontLoadingAPISupported(){var o;const O=!!((o=this._document)!=null&&o.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",O)}get isSyncFontLoadingSupported(){let O=!1;return(h.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(O=!0),(0,a.shadow)(this,"isSyncFontLoadingSupported",O)}_queueLoadingCallback(O){function o(){for((0,a.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;g.length>0&&g[0].done;){const y=g.shift();setTimeout(y.callback,0)}}const{loadingRequests:g}=this,x={done:!1,complete:o,callback:O};return g.push(x),x}get _loadTestFont(){const O=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,a.shadow)(this,"_loadTestFont",O)}_prepareFontLoadEvent(O,o){function g(K,he){return K.charCodeAt(he)<<24|K.charCodeAt(he+1)<<16|K.charCodeAt(he+2)<<8|K.charCodeAt(he+3)&255}function x(K,he,Ce,be){const ve=K.substring(0,he),Z=K.substring(he+Ce);return ve+be+Z}let y,A;const m=this._document.createElement("canvas");m.width=1,m.height=1;const p=m.getContext("2d");let d=0;function f(K,he){if(++d>30){(0,a.warn)("Load test font never loaded."),he();return}if(p.font="30px "+K,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){he();return}setTimeout(f.bind(null,K,he))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let _=this._loadTestFont;_=x(_,976,C.length,C);const i=16,v=1482184792;let w=g(_,i);for(y=0,A=C.length-3;y<A;y+=4)w=w-v+g(C,y)|0;y<C.length&&(w=w-v+g(C+"XXX",y)|0),_=x(_,i,4,(0,a.string32)(w));const E=`url(data:font/opentype;base64,${btoa(_)});`,I=`@font-face {font-family:"${C}";src:${E}}`;this.insertRule(I);const G=this._document.createElement("div");G.style.visibility="hidden",G.style.width=G.style.height="10px",G.style.position="absolute",G.style.top=G.style.left="0px";for(const K of[O.loadedName,C]){const he=this._document.createElement("span");he.textContent="Hi",he.style.fontFamily=K,G.append(he)}this._document.body.append(G),f(C,()=>{G.remove(),o.complete()})}}s.FontLoader=T;class F{constructor(O,{isEvalSupported:o=!0,disableFontFace:g=!1,ignoreErrors:x=!1,onUnsupportedFeature:y,fontRegistry:A=null}){this.compiledGlyphs=Object.create(null);for(const m in O)this[m]=O[m];this.isEvalSupported=o!==!1,this.disableFontFace=g===!0,this.ignoreErrors=x===!0,this._onUnsupportedFeature=y,this.fontRegistry=A}createNativeFontFace(){var o;if(!this.data||this.disableFontFace)return null;let O;if(!this.cssFontInfo)O=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),O=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(o=this.fontRegistry)==null||o.registerFont(this),O}createFontFaceRule(){var x;if(!this.data||this.disableFontFace)return null;const O=(0,a.bytesToString)(this.data),o=`url(data:${this.mimetype};base64,${btoa(O)});`;let g;if(!this.cssFontInfo)g=`@font-face {font-family:"${this.loadedName}";src:${o}}`;else{let y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),g=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${y}src:${o}}`}return(x=this.fontRegistry)==null||x.registerFont(this,o),g}getPathGenerator(O,o){if(this.compiledGlyphs[o]!==void 0)return this.compiledGlyphs[o];let g;try{g=O.get(this.loadedName+"_path_"+o)}catch(x){if(!this.ignoreErrors)throw x;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[o]=function(y,A){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const x=[];for(const y of g){const A=y.args!==void 0?y.args.join(","):"";x.push("c.",y.cmd,"(",A,`);
`)}return this.compiledGlyphs[o]=new Function("c","size",x.join(""))}return this.compiledGlyphs[o]=function(x,y){for(const A of g)A.cmd==="scale"&&(A.args=[y,-y]),x[A.cmd].apply(x,A.args)}}}s.FontFaceObject=F},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const l=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=l},(u,s,l)=>{var ee,Hc;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasGraphics=void 0;var a=l(1),h=l(6),T=l(12),F=l(13);const B=16,O=100,o=4096,g=15,x=10,y=1e3,A=16;function m(z,L){if(z._removeMirroring)throw new Error("Context is already forwarding operations.");z.__originalSave=z.save,z.__originalRestore=z.restore,z.__originalRotate=z.rotate,z.__originalScale=z.scale,z.__originalTranslate=z.translate,z.__originalTransform=z.transform,z.__originalSetTransform=z.setTransform,z.__originalResetTransform=z.resetTransform,z.__originalClip=z.clip,z.__originalMoveTo=z.moveTo,z.__originalLineTo=z.lineTo,z.__originalBezierCurveTo=z.bezierCurveTo,z.__originalRect=z.rect,z.__originalClosePath=z.closePath,z.__originalBeginPath=z.beginPath,z._removeMirroring=()=>{z.save=z.__originalSave,z.restore=z.__originalRestore,z.rotate=z.__originalRotate,z.scale=z.__originalScale,z.translate=z.__originalTranslate,z.transform=z.__originalTransform,z.setTransform=z.__originalSetTransform,z.resetTransform=z.__originalResetTransform,z.clip=z.__originalClip,z.moveTo=z.__originalMoveTo,z.lineTo=z.__originalLineTo,z.bezierCurveTo=z.__originalBezierCurveTo,z.rect=z.__originalRect,z.closePath=z.__originalClosePath,z.beginPath=z.__originalBeginPath,delete z._removeMirroring},z.save=function(){L.save(),this.__originalSave()},z.restore=function(){L.restore(),this.__originalRestore()},z.translate=function(k,N){L.translate(k,N),this.__originalTranslate(k,N)},z.scale=function(k,N){L.scale(k,N),this.__originalScale(k,N)},z.transform=function(k,N,j,q,te,se){L.transform(k,N,j,q,te,se),this.__originalTransform(k,N,j,q,te,se)},z.setTransform=function(k,N,j,q,te,se){L.setTransform(k,N,j,q,te,se),this.__originalSetTransform(k,N,j,q,te,se)},z.resetTransform=function(){L.resetTransform(),this.__originalResetTransform()},z.rotate=function(k){L.rotate(k),this.__originalRotate(k)},z.clip=function(k){L.clip(k),this.__originalClip(k)},z.moveTo=function(P,k){L.moveTo(P,k),this.__originalMoveTo(P,k)},z.lineTo=function(P,k){L.lineTo(P,k),this.__originalLineTo(P,k)},z.bezierCurveTo=function(P,k,N,j,q,te){L.bezierCurveTo(P,k,N,j,q,te),this.__originalBezierCurveTo(P,k,N,j,q,te)},z.rect=function(P,k,N,j){L.rect(P,k,N,j),this.__originalRect(P,k,N,j)},z.closePath=function(){L.closePath(),this.__originalClosePath()},z.beginPath=function(){L.beginPath(),this.__originalBeginPath()}}class p{constructor(L){this.canvasFactory=L,this.cache=Object.create(null)}getCanvas(L,P,k){let N;return this.cache[L]!==void 0?(N=this.cache[L],this.canvasFactory.reset(N,P,k)):(N=this.canvasFactory.create(P,k),this.cache[L]=N),N}delete(L){delete this.cache[L]}clear(){for(const L in this.cache){const P=this.cache[L];this.canvasFactory.destroy(P),delete this.cache[L]}}}function d(z,L,P,k,N,j,q,te,se,re){const[ce,H,W,ne,$,R]=(0,h.getCurrentTransform)(z);if(H===0&&W===0){const J=q*ce+$,le=Math.round(J),ae=te*ne+R,pe=Math.round(ae),oe=(q+se)*ce+$,_e=Math.abs(Math.round(oe)-le)||1,Ae=(te+re)*ne+R,ke=Math.abs(Math.round(Ae)-pe)||1;return z.setTransform(Math.sign(ce),0,0,Math.sign(ne),le,pe),z.drawImage(L,P,k,N,j,0,0,_e,ke),z.setTransform(ce,H,W,ne,$,R),[_e,ke]}if(ce===0&&ne===0){const J=te*W+$,le=Math.round(J),ae=q*H+R,pe=Math.round(ae),oe=(te+re)*W+$,_e=Math.abs(Math.round(oe)-le)||1,Ae=(q+se)*H+R,ke=Math.abs(Math.round(Ae)-pe)||1;return z.setTransform(0,Math.sign(H),Math.sign(W),0,le,pe),z.drawImage(L,P,k,N,j,0,0,ke,_e),z.setTransform(ce,H,W,ne,$,R),[ke,_e]}z.drawImage(L,P,k,N,j,q,te,se,re);const U=Math.hypot(ce,H),X=Math.hypot(W,ne);return[U*se,X*re]}function f(z){const{width:L,height:P}=z;if(L>y||P>y)return null;const k=1e3,N=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),j=L+1;let q=new Uint8Array(j*(P+1)),te,se,re;const ce=L+7&-8;let H=new Uint8Array(ce*P),W=0;for(const X of z.data){let J=128;for(;J>0;)H[W++]=X&J?0:255,J>>=1}let ne=0;for(W=0,H[W]!==0&&(q[0]=1,++ne),se=1;se<L;se++)H[W]!==H[W+1]&&(q[se]=H[W]?2:1,++ne),W++;for(H[W]!==0&&(q[se]=2,++ne),te=1;te<P;te++){W=te*ce,re=te*j,H[W-ce]!==H[W]&&(q[re]=H[W]?1:8,++ne);let X=(H[W]?4:0)+(H[W-ce]?8:0);for(se=1;se<L;se++)X=(X>>2)+(H[W+1]?4:0)+(H[W-ce+1]?8:0),N[X]&&(q[re+se]=N[X],++ne),W++;if(H[W-ce]!==H[W]&&(q[re+se]=H[W]?2:4,++ne),ne>k)return null}for(W=ce*(P-1),re=te*j,H[W]!==0&&(q[re]=8,++ne),se=1;se<L;se++)H[W]!==H[W+1]&&(q[re+se]=H[W]?4:8,++ne),W++;if(H[W]!==0&&(q[re+se]=4,++ne),ne>k)return null;const $=new Int32Array([0,j,-1,0,-j,0,0,0,1]),R=new Path2D;for(te=0;ne&&te<=P;te++){let X=te*j;const J=X+L;for(;X<J&&!q[X];)X++;if(X===J)continue;R.moveTo(X%j,te);const le=X;let ae=q[X];do{const pe=$[ae];do X+=pe;while(!q[X]);const oe=q[X];oe!==5&&oe!==10?(ae=oe,q[X]=0):(ae=oe&51*ae>>4,q[X]&=ae>>2|ae<<2),R.lineTo(X%j,X/j|0),q[X]||--ne}while(le!==X);--te}return H=null,q=null,function(X){X.save(),X.scale(1/L,-1/P),X.translate(0,-P),X.fill(R),X.beginPath(),X.restore()}}class C{constructor(L,P){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,L,P])}clone(){const L=Object.create(this);return L.clipBox=this.clipBox.slice(),L}setCurrentPoint(L,P){this.x=L,this.y=P}updatePathMinMax(L,P,k){[P,k]=a.Util.applyTransform([P,k],L),this.minX=Math.min(this.minX,P),this.minY=Math.min(this.minY,k),this.maxX=Math.max(this.maxX,P),this.maxY=Math.max(this.maxY,k)}updateRectMinMax(L,P){const k=a.Util.applyTransform(P,L),N=a.Util.applyTransform(P.slice(2),L);this.minX=Math.min(this.minX,k[0],N[0]),this.minY=Math.min(this.minY,k[1],N[1]),this.maxX=Math.max(this.maxX,k[0],N[0]),this.maxY=Math.max(this.maxY,k[1],N[1])}updateScalingPathMinMax(L,P){a.Util.scaleMinMax(L,P),this.minX=Math.min(this.minX,P[0]),this.maxX=Math.max(this.maxX,P[1]),this.minY=Math.min(this.minY,P[2]),this.maxY=Math.max(this.maxY,P[3])}updateCurvePathMinMax(L,P,k,N,j,q,te,se,re,ce){const H=a.Util.bezierBoundingBox(P,k,N,j,q,te,se,re);if(ce){ce[0]=Math.min(ce[0],H[0],H[2]),ce[1]=Math.max(ce[1],H[0],H[2]),ce[2]=Math.min(ce[2],H[1],H[3]),ce[3]=Math.max(ce[3],H[1],H[3]);return}this.updateRectMinMax(L,H)}getPathBoundingBox(L=T.PathType.FILL,P=null){const k=[this.minX,this.minY,this.maxX,this.maxY];if(L===T.PathType.STROKE){P||(0,a.unreachable)("Stroke bounding box must include transform.");const N=a.Util.singularValueDecompose2dScale(P),j=N[0]*this.lineWidth/2,q=N[1]*this.lineWidth/2;k[0]-=j,k[1]-=q,k[2]+=j,k[3]+=q}return k}updateClipFromPath(){const L=a.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(L||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(L){this.clipBox=L,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(L=T.PathType.FILL,P=null){return a.Util.intersect(this.clipBox,this.getPathBoundingBox(L,P))}}function _(z,L,P=null){if(typeof ImageData<"u"&&L instanceof ImageData){z.putImageData(L,0,0);return}const k=L.height,N=L.width,j=k%A,q=(k-j)/A,te=j===0?q:q+1,se=z.createImageData(N,A);let re=0,ce;const H=L.data,W=se.data;let ne,$,R,U,X,J,le,ae;if(P)switch(P.length){case 1:X=P[0],J=P[0],le=P[0],ae=P[0];break;case 4:X=P[0],J=P[1],le=P[2],ae=P[3];break}if(L.kind===a.ImageKind.GRAYSCALE_1BPP){const pe=H.byteLength,oe=new Uint32Array(W.buffer,0,W.byteLength>>2),_e=oe.length,Ae=N+7>>3;let ke=4294967295,Me=a.FeatureTest.isLittleEndian?4278190080:255;for(ae&&ae[0]===255&&ae[255]===0&&([ke,Me]=[Me,ke]),ne=0;ne<te;ne++){for(R=ne<q?A:j,ce=0,$=0;$<R;$++){const Fe=pe-re;let Ge=0;const at=Fe>Ae?N:Fe*8-7,De=at&-8;let me=0,de=0;for(;Ge<De;Ge+=8)de=H[re++],oe[ce++]=de&128?ke:Me,oe[ce++]=de&64?ke:Me,oe[ce++]=de&32?ke:Me,oe[ce++]=de&16?ke:Me,oe[ce++]=de&8?ke:Me,oe[ce++]=de&4?ke:Me,oe[ce++]=de&2?ke:Me,oe[ce++]=de&1?ke:Me;for(;Ge<at;Ge++)me===0&&(de=H[re++],me=128),oe[ce++]=de&me?ke:Me,me>>=1}for(;ce<_e;)oe[ce++]=0;z.putImageData(se,0,ne*A)}}else if(L.kind===a.ImageKind.RGBA_32BPP){const pe=!!(X||J||le);for($=0,U=N*A*4,ne=0;ne<q;ne++){if(W.set(H.subarray(re,re+U)),re+=U,pe)for(let oe=0;oe<U;oe+=4)X&&(W[oe+0]=X[W[oe+0]]),J&&(W[oe+1]=J[W[oe+1]]),le&&(W[oe+2]=le[W[oe+2]]);z.putImageData(se,0,$),$+=A}if(ne<te){if(U=N*j*4,W.set(H.subarray(re,re+U)),pe)for(let oe=0;oe<U;oe+=4)X&&(W[oe+0]=X[W[oe+0]]),J&&(W[oe+1]=J[W[oe+1]]),le&&(W[oe+2]=le[W[oe+2]]);z.putImageData(se,0,$)}}else if(L.kind===a.ImageKind.RGB_24BPP){const pe=!!(X||J||le);for(R=A,U=N*R,ne=0;ne<te;ne++){for(ne>=q&&(R=j,U=N*R),ce=0,$=U;$--;)W[ce++]=H[re++],W[ce++]=H[re++],W[ce++]=H[re++],W[ce++]=255;if(pe)for(let oe=0;oe<ce;oe+=4)X&&(W[oe+0]=X[W[oe+0]]),J&&(W[oe+1]=J[W[oe+1]]),le&&(W[oe+2]=le[W[oe+2]]);z.putImageData(se,0,ne*A)}}else throw new Error(`bad image kind: ${L.kind}`)}function b(z,L){if(L.bitmap){z.drawImage(L.bitmap,0,0);return}const P=L.height,k=L.width,N=P%A,j=(P-N)/A,q=N===0?j:j+1,te=z.createImageData(k,A);let se=0;const re=L.data,ce=te.data;for(let H=0;H<q;H++){const W=H<j?A:N;({srcPos:se}=(0,F.applyMaskImageData)({src:re,srcPos:se,dest:ce,width:k,height:W})),z.putImageData(te,0,H*A)}}function i(z,L){const P=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const k of P)z[k]!==void 0&&(L[k]=z[k]);z.setLineDash!==void 0&&(L.setLineDash(z.getLineDash()),L.lineDashOffset=z.lineDashOffset)}function v(z,L){z.strokeStyle=z.fillStyle=L||"#000000",z.fillRule="nonzero",z.globalAlpha=1,z.lineWidth=1,z.lineCap="butt",z.lineJoin="miter",z.miterLimit=10,z.globalCompositeOperation="source-over",z.font="10px sans-serif",z.setLineDash!==void 0&&(z.setLineDash([]),z.lineDashOffset=0)}function w(z,L,P,k){const N=z.length;for(let j=3;j<N;j+=4){const q=z[j];if(q===0)z[j-3]=L,z[j-2]=P,z[j-1]=k;else if(q<255){const te=255-q;z[j-3]=z[j-3]*q+L*te>>8,z[j-2]=z[j-2]*q+P*te>>8,z[j-1]=z[j-1]*q+k*te>>8}}}function E(z,L,P){const k=z.length,N=1/255;for(let j=3;j<k;j+=4){const q=P?P[z[j]]:z[j];L[j]=L[j]*q*N|0}}function I(z,L,P){const k=z.length;for(let N=3;N<k;N+=4){const j=z[N-3]*77+z[N-2]*152+z[N-1]*28;L[N]=P?L[N]*P[j>>8]>>8:L[N]*j>>16}}function G(z,L,P,k,N,j,q,te,se,re,ce){const H=!!j,W=H?j[0]:0,ne=H?j[1]:0,$=H?j[2]:0;let R;N==="Luminosity"?R=I:R=E;const X=Math.min(k,Math.ceil(1048576/P));for(let J=0;J<k;J+=X){const le=Math.min(X,k-J),ae=z.getImageData(te-re,J+(se-ce),P,le),pe=L.getImageData(te,J+se,P,le);H&&w(ae.data,W,ne,$),R(ae.data,pe.data,q),L.putImageData(pe,te,J+se)}}function K(z,L,P,k){const N=k[0],j=k[1],q=k[2]-N,te=k[3]-j;q===0||te===0||(G(L.context,P,q,te,L.subtype,L.backdrop,L.transferMap,N,j,L.offsetX,L.offsetY),z.save(),z.globalAlpha=1,z.globalCompositeOperation="source-over",z.setTransform(1,0,0,1,0,0),z.drawImage(P.canvas,0,0),z.restore())}function he(z,L){const P=a.Util.singularValueDecompose2dScale(z);P[0]=Math.fround(P[0]),P[1]=Math.fround(P[1]);const k=Math.fround((globalThis.devicePixelRatio||1)*h.PixelsPerInch.PDF_TO_CSS_UNITS);return L!==void 0?L:P[0]<=k||P[1]<=k}const Ce=["butt","round","square"],be=["miter","round","bevel"],ve={},Z={},V=class V{constructor(L,P,k,N,{optionalContentConfig:j,markedContentStack:q=null},te,se){Ye(this,ee);this.ctx=L,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=P,this.objs=k,this.canvasFactory=N,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=q||[],this.optionalContentConfig=j,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=te,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(se==null?void 0:se.background)||null,this.foregroundColor=(se==null?void 0:se.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(L,P=null){return typeof L=="string"?L.startsWith("g_")?this.commonObjs.get(L):this.objs.get(L):P}beginDrawing({transform:L,viewport:P,transparency:k=!1,background:N=null}){const j=this.ctx.canvas.width,q=this.ctx.canvas.height,te=N||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const se=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const re=this.backgroundColor=this.ctx.fillStyle;let ce=!0,H=te;if(this.ctx.fillStyle=te,H=this.ctx.fillStyle,ce=typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H),se==="#000000"&&re==="#ffffff"||se===re||!ce)this.foregroundColor=this.backgroundColor=null;else{const[W,ne,$]=(0,h.getRGB)(H),R=X=>(X/=255,X<=.03928?X/12.92:((X+.055)/1.055)**2.4),U=Math.round(.2126*R(W)+.7152*R(ne)+.0722*R($));this.selectColor=(X,J,le)=>{const ae=.2126*R(X)+.7152*R(J)+.0722*R(le);return Math.round(ae)===U?re:se}}}if(this.ctx.fillStyle=this.backgroundColor||te,this.ctx.fillRect(0,0,j,q),this.ctx.restore(),k){const se=this.cachedCanvases.getCanvas("transparent",j,q);this.compositeCtx=this.ctx,this.transparentCanvas=se.canvas,this.ctx=se.context,this.ctx.save(),this.ctx.transform(...(0,h.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),v(this.ctx,this.foregroundColor),L&&(this.ctx.transform(...L),this.outputScaleX=L[0],this.outputScaleY=L[0]),this.ctx.transform(...P.transform),this.viewportScale=P.scale,this.baseTransform=(0,h.getCurrentTransform)(this.ctx)}executeOperatorList(L,P,k,N){const j=L.argsArray,q=L.fnArray;let te=P||0;const se=j.length;if(se===te)return te;const re=se-te>x&&typeof k=="function",ce=re?Date.now()+g:0;let H=0;const W=this.commonObjs,ne=this.objs;let $;for(;;){if(N!==void 0&&te===N.nextBreakPoint)return N.breakIt(te,k),te;if($=q[te],$!==a.OPS.dependency)this[$].apply(this,j[te]);else for(const R of j[te]){const U=R.startsWith("g_")?W:ne;if(!U.has(R))return U.get(R,k),te}if(te++,te===se)return te;if(re&&++H>x){if(Date.now()>ce)return k(),te;H=0}}}endDrawing(){Qe(this,ee,Hc).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const L of this._cachedBitmapsMap.values()){for(const P of L.values())typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement&&(P.width=P.height=0);L.clear()}this._cachedBitmapsMap.clear()}_scaleImage(L,P){const k=L.width,N=L.height;let j=Math.max(Math.hypot(P[0],P[1]),1),q=Math.max(Math.hypot(P[2],P[3]),1),te=k,se=N,re="prescale1",ce,H;for(;j>2&&te>1||q>2&&se>1;){let W=te,ne=se;j>2&&te>1&&(W=Math.ceil(te/2),j/=te/W),q>2&&se>1&&(ne=Math.ceil(se/2),q/=se/ne),ce=this.cachedCanvases.getCanvas(re,W,ne),H=ce.context,H.clearRect(0,0,W,ne),H.drawImage(L,0,0,te,se,0,0,W,ne),L=ce.canvas,te=W,se=ne,re=re==="prescale1"?"prescale2":"prescale1"}return{img:L,paintWidth:te,paintHeight:se}}_createMaskCanvas(L){const P=this.ctx,{width:k,height:N}=L,j=this.current.fillColor,q=this.current.patternFill,te=(0,h.getCurrentTransform)(P);let se,re,ce,H;if((L.bitmap||L.data)&&L.count>1){const _e=L.bitmap||L.data.buffer;re=JSON.stringify(q?te:[te.slice(0,4),j]),se=this._cachedBitmapsMap.get(_e),se||(se=new Map,this._cachedBitmapsMap.set(_e,se));const Ae=se.get(re);if(Ae&&!q){const ke=Math.round(Math.min(te[0],te[2])+te[4]),Me=Math.round(Math.min(te[1],te[3])+te[5]);return{canvas:Ae,offsetX:ke,offsetY:Me}}ce=Ae}ce||(H=this.cachedCanvases.getCanvas("maskCanvas",k,N),b(H.context,L));let W=a.Util.transform(te,[1/k,0,0,-1/N,0,0]);W=a.Util.transform(W,[1,0,0,1,0,-N]);const ne=a.Util.applyTransform([0,0],W),$=a.Util.applyTransform([k,N],W),R=a.Util.normalizeRect([ne[0],ne[1],$[0],$[1]]),U=Math.round(R[2]-R[0])||1,X=Math.round(R[3]-R[1])||1,J=this.cachedCanvases.getCanvas("fillCanvas",U,X),le=J.context,ae=Math.min(ne[0],$[0]),pe=Math.min(ne[1],$[1]);le.translate(-ae,-pe),le.transform(...W),ce||(ce=this._scaleImage(H.canvas,(0,h.getCurrentTransformInverse)(le)),ce=ce.img,se&&q&&se.set(re,ce)),le.imageSmoothingEnabled=he((0,h.getCurrentTransform)(le),L.interpolate),d(le,ce,0,0,ce.width,ce.height,0,0,k,N),le.globalCompositeOperation="source-in";const oe=a.Util.transform((0,h.getCurrentTransformInverse)(le),[1,0,0,1,-ae,-pe]);return le.fillStyle=q?j.getPattern(P,this,oe,T.PathType.FILL):j,le.fillRect(0,0,k,N),se&&!q&&(this.cachedCanvases.delete("fillCanvas"),se.set(re,J.canvas)),{canvas:J.canvas,offsetX:Math.round(ae),offsetY:Math.round(pe)}}setLineWidth(L){L!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=L,this.ctx.lineWidth=L}setLineCap(L){this.ctx.lineCap=Ce[L]}setLineJoin(L){this.ctx.lineJoin=be[L]}setMiterLimit(L){this.ctx.miterLimit=L}setDash(L,P){const k=this.ctx;k.setLineDash!==void 0&&(k.setLineDash(L),k.lineDashOffset=P)}setRenderingIntent(L){}setFlatness(L){}setGState(L){for(const[P,k]of L)switch(P){case"LW":this.setLineWidth(k);break;case"LC":this.setLineCap(k);break;case"LJ":this.setLineJoin(k);break;case"ML":this.setMiterLimit(k);break;case"D":this.setDash(k[0],k[1]);break;case"RI":this.setRenderingIntent(k);break;case"FL":this.setFlatness(k);break;case"Font":this.setFont(k[0],k[1]);break;case"CA":this.current.strokeAlpha=k;break;case"ca":this.current.fillAlpha=k,this.ctx.globalAlpha=k;break;case"BM":this.ctx.globalCompositeOperation=k;break;case"SMask":this.current.activeSMask=k?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=k}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const L=this.inSMaskMode;this.current.activeSMask&&!L?this.beginSMaskMode():!this.current.activeSMask&&L&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const L=this.ctx.canvas.width,P=this.ctx.canvas.height,k="smaskGroupAt"+this.groupLevel,N=this.cachedCanvases.getCanvas(k,L,P);this.suspendedCtx=this.ctx,this.ctx=N.context;const j=this.ctx;j.setTransform(...(0,h.getCurrentTransform)(this.suspendedCtx)),i(this.suspendedCtx,j),m(j,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),i(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(L){if(!this.current.activeSMask)return;L?(L[0]=Math.floor(L[0]),L[1]=Math.floor(L[1]),L[2]=Math.ceil(L[2]),L[3]=Math.ceil(L[3])):L=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const P=this.current.activeSMask,k=this.suspendedCtx;K(k,P,this.ctx,L),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(i(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const L=this.current;this.stateStack.push(L),this.current=L.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),i(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(L,P,k,N,j,q){this.ctx.transform(L,P,k,N,j,q),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(L,P,k){const N=this.ctx,j=this.current;let q=j.x,te=j.y,se,re;const ce=(0,h.getCurrentTransform)(N),H=ce[0]===0&&ce[3]===0||ce[1]===0&&ce[2]===0,W=H?k.slice(0):null;for(let ne=0,$=0,R=L.length;ne<R;ne++)switch(L[ne]|0){case a.OPS.rectangle:q=P[$++],te=P[$++];const U=P[$++],X=P[$++],J=q+U,le=te+X;N.moveTo(q,te),U===0||X===0?N.lineTo(J,le):(N.lineTo(J,te),N.lineTo(J,le),N.lineTo(q,le)),H||j.updateRectMinMax(ce,[q,te,J,le]),N.closePath();break;case a.OPS.moveTo:q=P[$++],te=P[$++],N.moveTo(q,te),H||j.updatePathMinMax(ce,q,te);break;case a.OPS.lineTo:q=P[$++],te=P[$++],N.lineTo(q,te),H||j.updatePathMinMax(ce,q,te);break;case a.OPS.curveTo:se=q,re=te,q=P[$+4],te=P[$+5],N.bezierCurveTo(P[$],P[$+1],P[$+2],P[$+3],q,te),j.updateCurvePathMinMax(ce,se,re,P[$],P[$+1],P[$+2],P[$+3],q,te,W),$+=6;break;case a.OPS.curveTo2:se=q,re=te,N.bezierCurveTo(q,te,P[$],P[$+1],P[$+2],P[$+3]),j.updateCurvePathMinMax(ce,se,re,q,te,P[$],P[$+1],P[$+2],P[$+3],W),q=P[$+2],te=P[$+3],$+=4;break;case a.OPS.curveTo3:se=q,re=te,q=P[$+2],te=P[$+3],N.bezierCurveTo(P[$],P[$+1],q,te,q,te),j.updateCurvePathMinMax(ce,se,re,P[$],P[$+1],q,te,q,te,W),$+=4;break;case a.OPS.closePath:N.closePath();break}H&&j.updateScalingPathMinMax(ce,W),j.setCurrentPoint(q,te)}closePath(){this.ctx.closePath()}stroke(L=!0){const P=this.ctx,k=this.current.strokeColor;P.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof k=="object"&&(k!=null&&k.getPattern)?(P.save(),P.strokeStyle=k.getPattern(P,this,(0,h.getCurrentTransformInverse)(P),T.PathType.STROKE),this.rescaleAndStroke(!1),P.restore()):this.rescaleAndStroke(!0)),L&&this.consumePath(this.current.getClippedPathBoundingBox()),P.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(L=!0){const P=this.ctx,k=this.current.fillColor,N=this.current.patternFill;let j=!1;N&&(P.save(),P.fillStyle=k.getPattern(P,this,(0,h.getCurrentTransformInverse)(P),T.PathType.FILL),j=!0);const q=this.current.getClippedPathBoundingBox();this.contentVisible&&q!==null&&(this.pendingEOFill?(P.fill("evenodd"),this.pendingEOFill=!1):P.fill()),j&&P.restore(),L&&this.consumePath(q)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ve}eoClip(){this.pendingClip=Z}beginText(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const L=this.pendingTextPaths,P=this.ctx;if(L===void 0){P.beginPath();return}P.save(),P.beginPath();for(const k of L)P.setTransform(...k.transform),P.translate(k.x,k.y),k.addToPath(P,k.fontSize);P.restore(),P.clip(),P.beginPath(),delete this.pendingTextPaths}setCharSpacing(L){this.current.charSpacing=L}setWordSpacing(L){this.current.wordSpacing=L}setHScale(L){this.current.textHScale=L/100}setLeading(L){this.current.leading=-L}setFont(L,P){const k=this.commonObjs.get(L),N=this.current;if(!k)throw new Error(`Can't find font for ${L}`);if(N.fontMatrix=k.fontMatrix||a.FONT_IDENTITY_MATRIX,(N.fontMatrix[0]===0||N.fontMatrix[3]===0)&&(0,a.warn)("Invalid font matrix for font "+L),P<0?(P=-P,N.fontDirection=-1):N.fontDirection=1,this.current.font=k,this.current.fontSize=P,k.isType3Font)return;const j=k.loadedName||"sans-serif";let q="normal";k.black?q="900":k.bold&&(q="bold");const te=k.italic?"italic":"normal",se=`"${j}", ${k.fallbackName}`;let re=P;P<B?re=B:P>O&&(re=O),this.current.fontSizeScale=P/re,this.ctx.font=`${te} ${q} ${re}px ${se}`}setTextRenderingMode(L){this.current.textRenderingMode=L}setTextRise(L){this.current.textRise=L}moveText(L,P){this.current.x=this.current.lineX+=L,this.current.y=this.current.lineY+=P}setLeadingMoveText(L,P){this.setLeading(-P),this.moveText(L,P)}setTextMatrix(L,P,k,N,j,q){this.current.textMatrix=[L,P,k,N,j,q],this.current.textMatrixScale=Math.hypot(L,P),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(L,P,k,N){const j=this.ctx,q=this.current,te=q.font,se=q.textRenderingMode,re=q.fontSize/q.fontSizeScale,ce=se&a.TextRenderingMode.FILL_STROKE_MASK,H=!!(se&a.TextRenderingMode.ADD_TO_PATH_FLAG),W=q.patternFill&&!te.missingFile;let ne;(te.disableFontFace||H||W)&&(ne=te.getPathGenerator(this.commonObjs,L)),te.disableFontFace||W?(j.save(),j.translate(P,k),j.beginPath(),ne(j,re),N&&j.setTransform(...N),(ce===a.TextRenderingMode.FILL||ce===a.TextRenderingMode.FILL_STROKE)&&j.fill(),(ce===a.TextRenderingMode.STROKE||ce===a.TextRenderingMode.FILL_STROKE)&&j.stroke(),j.restore()):((ce===a.TextRenderingMode.FILL||ce===a.TextRenderingMode.FILL_STROKE)&&j.fillText(L,P,k),(ce===a.TextRenderingMode.STROKE||ce===a.TextRenderingMode.FILL_STROKE)&&j.strokeText(L,P,k)),H&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,h.getCurrentTransform)(j),x:P,y:k,fontSize:re,addToPath:ne})}get isFontSubpixelAAEnabled(){const{context:L}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);L.scale(1.5,1),L.fillText("I",0,10);const P=L.getImageData(0,0,10,10).data;let k=!1;for(let N=3;N<P.length;N+=4)if(P[N]>0&&P[N]<255){k=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",k)}showText(L){const P=this.current,k=P.font;if(k.isType3Font)return this.showType3Text(L);const N=P.fontSize;if(N===0)return;const j=this.ctx,q=P.fontSizeScale,te=P.charSpacing,se=P.wordSpacing,re=P.fontDirection,ce=P.textHScale*re,H=L.length,W=k.vertical,ne=W?1:-1,$=k.defaultVMetrics,R=N*P.fontMatrix[0],U=P.textRenderingMode===a.TextRenderingMode.FILL&&!k.disableFontFace&&!P.patternFill;j.save(),j.transform(...P.textMatrix),j.translate(P.x,P.y+P.textRise),re>0?j.scale(ce,-1):j.scale(ce,1);let X;if(P.patternFill){j.save();const oe=P.fillColor.getPattern(j,this,(0,h.getCurrentTransformInverse)(j),T.PathType.FILL);X=(0,h.getCurrentTransform)(j),j.restore(),j.fillStyle=oe}let J=P.lineWidth;const le=P.textMatrixScale;if(le===0||J===0){const oe=P.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(oe===a.TextRenderingMode.STROKE||oe===a.TextRenderingMode.FILL_STROKE)&&(J=this.getSinglePixelWidth())}else J/=le;if(q!==1&&(j.scale(q,q),J/=q),j.lineWidth=J,k.isInvalidPDFjsFont){const oe=[];let _e=0;for(const Ae of L)oe.push(Ae.unicode),_e+=Ae.width;j.fillText(oe.join(""),0,0),P.x+=_e*R*ce,j.restore(),this.compose();return}let ae=0,pe;for(pe=0;pe<H;++pe){const oe=L[pe];if(typeof oe=="number"){ae+=ne*oe*N/1e3;continue}let _e=!1;const Ae=(oe.isSpace?se:0)+te,ke=oe.fontChar,Me=oe.accent;let Fe,Ge,at=oe.width;if(W){const me=oe.vmetric||$,de=-(oe.vmetric?me[1]:at*.5)*R,Se=me[2]*R;at=me?-me[0]:at,Fe=de/q,Ge=(ae+Se)/q}else Fe=ae/q,Ge=0;if(k.remeasure&&at>0){const me=j.measureText(ke).width*1e3/N*q;if(at<me&&this.isFontSubpixelAAEnabled){const de=at/me;_e=!0,j.save(),j.scale(de,1),Fe/=de}else at!==me&&(Fe+=(at-me)/2e3*N/q)}if(this.contentVisible&&(oe.isInFont||k.missingFile)){if(U&&!Me)j.fillText(ke,Fe,Ge);else if(this.paintChar(ke,Fe,Ge,X),Me){const me=Fe+N*Me.offset.x/q,de=Ge-N*Me.offset.y/q;this.paintChar(Me.fontChar,me,de,X)}}let De;W?De=at*R-Ae*re:De=at*R+Ae*re,ae+=De,_e&&j.restore()}W?P.y-=ae:P.x+=ae*ce,j.restore(),this.compose()}showType3Text(L){const P=this.ctx,k=this.current,N=k.font,j=k.fontSize,q=k.fontDirection,te=N.vertical?1:-1,se=k.charSpacing,re=k.wordSpacing,ce=k.textHScale*q,H=k.fontMatrix||a.FONT_IDENTITY_MATRIX,W=L.length,ne=k.textRenderingMode===a.TextRenderingMode.INVISIBLE;let $,R,U,X;if(!(ne||j===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,P.save(),P.transform(...k.textMatrix),P.translate(k.x,k.y),P.scale(ce,q),$=0;$<W;++$){if(R=L[$],typeof R=="number"){X=te*R*j/1e3,this.ctx.translate(X,0),k.x+=X*ce;continue}const J=(R.isSpace?re:0)+se,le=N.charProcOperatorList[R.operatorListId];if(!le){(0,a.warn)(`Type3 character "${R.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=R,this.save(),P.scale(j,j),P.transform(...H),this.executeOperatorList(le),this.restore()),U=a.Util.applyTransform([R.width,0],H)[0]*j+J,P.translate(U,0),k.x+=U*ce}P.restore(),this.processingType3=null}}setCharWidth(L,P){}setCharWidthAndBounds(L,P,k,N,j,q){this.ctx.rect(k,N,j-k,q-N),this.ctx.clip(),this.endPath()}getColorN_Pattern(L){let P;if(L[0]==="TilingPattern"){const k=L[1],N=this.baseTransform||(0,h.getCurrentTransform)(this.ctx),j={createCanvasGraphics:q=>new V(q,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};P=new T.TilingPattern(L,k,this.ctx,j,N)}else P=this._getPattern(L[1],L[2]);return P}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(L,P,k){var j;const N=((j=this.selectColor)==null?void 0:j.call(this,L,P,k))||a.Util.makeHexColor(L,P,k);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(L,P,k){var j;const N=((j=this.selectColor)==null?void 0:j.call(this,L,P,k))||a.Util.makeHexColor(L,P,k);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(L,P=null){let k;return this.cachedPatterns.has(L)?k=this.cachedPatterns.get(L):(k=(0,T.getShadingPattern)(this.objs.get(L)),this.cachedPatterns.set(L,k)),P&&(k.matrix=P),k}shadingFill(L){if(!this.contentVisible)return;const P=this.ctx;this.save();const k=this._getPattern(L);P.fillStyle=k.getPattern(P,this,(0,h.getCurrentTransformInverse)(P),T.PathType.SHADING);const N=(0,h.getCurrentTransformInverse)(P);if(N){const j=P.canvas,q=j.width,te=j.height,se=a.Util.applyTransform([0,0],N),re=a.Util.applyTransform([0,te],N),ce=a.Util.applyTransform([q,0],N),H=a.Util.applyTransform([q,te],N),W=Math.min(se[0],re[0],ce[0],H[0]),ne=Math.min(se[1],re[1],ce[1],H[1]),$=Math.max(se[0],re[0],ce[0],H[0]),R=Math.max(se[1],re[1],ce[1],H[1]);this.ctx.fillRect(W,ne,$-W,R-ne)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,a.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,a.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(L,P){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(L)&&L.length===6&&this.transform(...L),this.baseTransform=(0,h.getCurrentTransform)(this.ctx),P)){const k=P[2]-P[0],N=P[3]-P[1];this.ctx.rect(P[0],P[1],k,N),this.current.updateRectMinMax((0,h.getCurrentTransform)(this.ctx),P),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(L){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const P=this.ctx;L.isolated||(0,a.info)("TODO: Support non-isolated groups."),L.knockout&&(0,a.warn)("Knockout groups not supported.");const k=(0,h.getCurrentTransform)(P);if(L.matrix&&P.transform(...L.matrix),!L.bbox)throw new Error("Bounding box is required.");let N=a.Util.getAxialAlignedBoundingBox(L.bbox,(0,h.getCurrentTransform)(P));const j=[0,0,P.canvas.width,P.canvas.height];N=a.Util.intersect(N,j)||[0,0,0,0];const q=Math.floor(N[0]),te=Math.floor(N[1]);let se=Math.max(Math.ceil(N[2])-q,1),re=Math.max(Math.ceil(N[3])-te,1),ce=1,H=1;se>o&&(ce=se/o,se=o),re>o&&(H=re/o,re=o),this.current.startNewPathAndClipBox([0,0,se,re]);let W="groupAt"+this.groupLevel;L.smask&&(W+="_smask_"+this.smaskCounter++%2);const ne=this.cachedCanvases.getCanvas(W,se,re),$=ne.context;$.scale(1/ce,1/H),$.translate(-q,-te),$.transform(...k),L.smask?this.smaskStack.push({canvas:ne.canvas,context:$,offsetX:q,offsetY:te,scaleX:ce,scaleY:H,subtype:L.smask.subtype,backdrop:L.smask.backdrop,transferMap:L.smask.transferMap||null,startTransformInverse:null}):(P.setTransform(1,0,0,1,0,0),P.translate(q,te),P.scale(ce,H),P.save()),i(P,$),this.ctx=$,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(P),this.groupLevel++}endGroup(L){if(!this.contentVisible)return;this.groupLevel--;const P=this.ctx,k=this.groupStack.pop();if(this.ctx=k,this.ctx.imageSmoothingEnabled=!1,L.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const N=(0,h.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...N);const j=a.Util.getAxialAlignedBoundingBox([0,0,P.canvas.width,P.canvas.height],N);this.ctx.drawImage(P.canvas,0,0),this.ctx.restore(),this.compose(j)}}beginAnnotation(L,P,k,N,j){if(Qe(this,ee,Hc).call(this),v(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(P)&&P.length===4){const q=P[2]-P[0],te=P[3]-P[1];if(j&&this.annotationCanvasMap){k=k.slice(),k[4]-=P[0],k[5]-=P[1],P=P.slice(),P[0]=P[1]=0,P[2]=q,P[3]=te;const[se,re]=a.Util.singularValueDecompose2dScale((0,h.getCurrentTransform)(this.ctx)),{viewportScale:ce}=this,H=Math.ceil(q*this.outputScaleX*ce),W=Math.ceil(te*this.outputScaleY*ce);this.annotationCanvas=this.canvasFactory.create(H,W);const{canvas:ne,context:$}=this.annotationCanvas;this.annotationCanvasMap.set(L,ne),this.annotationCanvas.savedCtx=this.ctx,this.ctx=$,this.ctx.setTransform(se,0,0,-re,0,te*re),v(this.ctx,this.foregroundColor)}else v(this.ctx,this.foregroundColor),this.ctx.rect(P[0],P[1],q,te),this.ctx.clip(),this.endPath()}this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...k),this.transform(...N)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(L){if(!this.contentVisible)return;const P=L.count;L=this.getObject(L.data,L),L.count=P;const k=this.ctx,N=this.processingType3;if(N&&(N.compiled===void 0&&(N.compiled=f(L)),N.compiled)){N.compiled(k);return}const j=this._createMaskCanvas(L),q=j.canvas;k.save(),k.setTransform(1,0,0,1,0,0),k.drawImage(q,j.offsetX,j.offsetY),k.restore(),this.compose()}paintImageMaskXObjectRepeat(L,P,k=0,N=0,j,q){if(!this.contentVisible)return;L=this.getObject(L.data,L);const te=this.ctx;te.save();const se=(0,h.getCurrentTransform)(te);te.transform(P,k,N,j,0,0);const re=this._createMaskCanvas(L);te.setTransform(1,0,0,1,re.offsetX-se[4],re.offsetY-se[5]);for(let ce=0,H=q.length;ce<H;ce+=2){const W=a.Util.transform(se,[P,k,N,j,q[ce],q[ce+1]]),[ne,$]=a.Util.applyTransform([0,0],W);te.drawImage(re.canvas,ne,$)}te.restore(),this.compose()}paintImageMaskXObjectGroup(L){if(!this.contentVisible)return;const P=this.ctx,k=this.current.fillColor,N=this.current.patternFill;for(const j of L){const{data:q,width:te,height:se,transform:re}=j,ce=this.cachedCanvases.getCanvas("maskCanvas",te,se),H=ce.context;H.save();const W=this.getObject(q,j);b(H,W),H.globalCompositeOperation="source-in",H.fillStyle=N?k.getPattern(H,this,(0,h.getCurrentTransformInverse)(P),T.PathType.FILL):k,H.fillRect(0,0,te,se),H.restore(),P.save(),P.transform(...re),P.scale(1,-1),d(P,ce.canvas,0,0,te,se,0,-1,1,1),P.restore()}this.compose()}paintImageXObject(L){if(!this.contentVisible)return;const P=this.getObject(L);if(!P){(0,a.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(P)}paintImageXObjectRepeat(L,P,k,N){if(!this.contentVisible)return;const j=this.getObject(L);if(!j){(0,a.warn)("Dependent image isn't ready yet");return}const q=j.width,te=j.height,se=[];for(let re=0,ce=N.length;re<ce;re+=2)se.push({transform:[P,0,0,k,N[re],N[re+1]],x:0,y:0,w:q,h:te});this.paintInlineImageXObjectGroup(j,se)}paintInlineImageXObject(L){if(!this.contentVisible)return;const P=L.width,k=L.height,N=this.ctx;this.save(),N.scale(1/P,-1/k);let j;if(typeof HTMLElement=="function"&&L instanceof HTMLElement||!L.data)j=L;else{const te=this.cachedCanvases.getCanvas("inlineImage",P,k),se=te.context;_(se,L,this.current.transferMaps),j=te.canvas}const q=this._scaleImage(j,(0,h.getCurrentTransformInverse)(N));N.imageSmoothingEnabled=he((0,h.getCurrentTransform)(N),L.interpolate),d(N,q.img,0,0,q.paintWidth,q.paintHeight,0,-k,P,k),this.compose(),this.restore()}paintInlineImageXObjectGroup(L,P){if(!this.contentVisible)return;const k=this.ctx,N=L.width,j=L.height,q=this.cachedCanvases.getCanvas("inlineImage",N,j),te=q.context;_(te,L,this.current.transferMaps);for(const se of P)k.save(),k.transform(...se.transform),k.scale(1,-1),d(k,q.canvas,se.x,se.y,se.w,se.h,0,-1,1,1),k.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(L){}markPointProps(L,P){}beginMarkedContent(L){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(L,P){L==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(P)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(L){const P=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(L);const k=this.ctx;this.pendingClip&&(P||(this.pendingClip===Z?k.clip("evenodd"):k.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),k.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const L=(0,h.getCurrentTransform)(this.ctx);if(L[1]===0&&L[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(L[0]),Math.abs(L[3]));else{const P=Math.abs(L[0]*L[3]-L[2]*L[1]),k=Math.hypot(L[0],L[2]),N=Math.hypot(L[1],L[3]);this._cachedGetSinglePixelWidth=Math.max(k,N)/P}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:L}=this.current,P=(0,h.getCurrentTransform)(this.ctx);let k,N;if(P[1]===0&&P[2]===0){const j=Math.abs(P[0]),q=Math.abs(P[3]);if(L===0)k=1/j,N=1/q;else{const te=j*L,se=q*L;k=te<1?1/te:1,N=se<1?1/se:1}}else{const j=Math.abs(P[0]*P[3]-P[2]*P[1]),q=Math.hypot(P[0],P[1]),te=Math.hypot(P[2],P[3]);if(L===0)k=te/j,N=q/j;else{const se=L*j;k=te>se?te/se:1,N=q>se?q/se:1}}this._cachedScaleForStroking=[k,N]}return this._cachedScaleForStroking}rescaleAndStroke(L){const{ctx:P}=this,{lineWidth:k}=this.current,[N,j]=this.getScaleForStroking();if(P.lineWidth=k||1,N===1&&j===1){P.stroke();return}let q,te,se;L&&(q=(0,h.getCurrentTransform)(P),te=P.getLineDash().slice(),se=P.lineDashOffset),P.scale(N,j);const re=Math.max(N,j);P.setLineDash(P.getLineDash().map(ce=>ce/re)),P.lineDashOffset/=re,P.stroke(),L&&(P.setTransform(...q),P.setLineDash(te),P.lineDashOffset=se)}isContentVisible(){for(let L=this.markedContentStack.length-1;L>=0;L--)if(!this.markedContentStack[L].visible)return!1;return!0}};ee=new WeakSet,Hc=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Q=V;s.CanvasGraphics=Q;for(const z in a.OPS)Q.prototype[z]!==void 0&&(Q.prototype[a.OPS[z]]=Q.prototype[z])},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TilingPattern=s.PathType=void 0,s.getShadingPattern=A;var a=l(1),h=l(6);const T={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};s.PathType=T;function F(d,f){if(!f)return;const C=f[2]-f[0],_=f[3]-f[1],b=new Path2D;b.rect(f[0],f[1],C,_),d.clip(b)}class B{constructor(){this.constructor===B&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class O extends B{constructor(f){super(),this._type=f[1],this._bbox=f[2],this._colorStops=f[3],this._p0=f[4],this._p1=f[5],this._r0=f[6],this._r1=f[7],this.matrix=null}_createGradient(f){let C;this._type==="axial"?C=f.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(C=f.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)C.addColorStop(_[0],_[1]);return C}getPattern(f,C,_,b){let i;if(b===T.STROKE||b===T.FILL){const v=C.current.getClippedPathBoundingBox(b,(0,h.getCurrentTransform)(f))||[0,0,0,0],w=Math.ceil(v[2]-v[0])||1,E=Math.ceil(v[3]-v[1])||1,I=C.cachedCanvases.getCanvas("pattern",w,E,!0),G=I.context;G.clearRect(0,0,G.canvas.width,G.canvas.height),G.beginPath(),G.rect(0,0,G.canvas.width,G.canvas.height),G.translate(-v[0],-v[1]),_=a.Util.transform(_,[1,0,0,1,v[0],v[1]]),G.transform(...C.baseTransform),this.matrix&&G.transform(...this.matrix),F(G,this._bbox),G.fillStyle=this._createGradient(G),G.fill(),i=f.createPattern(I.canvas,"no-repeat");const K=new DOMMatrix(_);i.setTransform(K)}else F(f,this._bbox),i=this._createGradient(f);return i}}function o(d,f,C,_,b,i,v,w){const E=f.coords,I=f.colors,G=d.data,K=d.width*4;let he;E[C+1]>E[_+1]&&(he=C,C=_,_=he,he=i,i=v,v=he),E[_+1]>E[b+1]&&(he=_,_=b,b=he,he=v,v=w,w=he),E[C+1]>E[_+1]&&(he=C,C=_,_=he,he=i,i=v,v=he);const Ce=(E[C]+f.offsetX)*f.scaleX,be=(E[C+1]+f.offsetY)*f.scaleY,ve=(E[_]+f.offsetX)*f.scaleX,Z=(E[_+1]+f.offsetY)*f.scaleY,Q=(E[b]+f.offsetX)*f.scaleX,ee=(E[b+1]+f.offsetY)*f.scaleY;if(be>=ee)return;const fe=I[i],V=I[i+1],z=I[i+2],L=I[v],P=I[v+1],k=I[v+2],N=I[w],j=I[w+1],q=I[w+2],te=Math.round(be),se=Math.round(ee);let re,ce,H,W,ne,$,R,U;for(let X=te;X<=se;X++){if(X<Z){let oe;X<be?oe=0:oe=(be-X)/(be-Z),re=Ce-(Ce-ve)*oe,ce=fe-(fe-L)*oe,H=V-(V-P)*oe,W=z-(z-k)*oe}else{let oe;X>ee?oe=1:Z===ee?oe=0:oe=(Z-X)/(Z-ee),re=ve-(ve-Q)*oe,ce=L-(L-N)*oe,H=P-(P-j)*oe,W=k-(k-q)*oe}let J;X<be?J=0:X>ee?J=1:J=(be-X)/(be-ee),ne=Ce-(Ce-Q)*J,$=fe-(fe-N)*J,R=V-(V-j)*J,U=z-(z-q)*J;const le=Math.round(Math.min(re,ne)),ae=Math.round(Math.max(re,ne));let pe=K*X+le*4;for(let oe=le;oe<=ae;oe++)J=(re-oe)/(re-ne),J<0?J=0:J>1&&(J=1),G[pe++]=ce-(ce-$)*J|0,G[pe++]=H-(H-R)*J|0,G[pe++]=W-(W-U)*J|0,G[pe++]=255}}function g(d,f,C){const _=f.coords,b=f.colors;let i,v;switch(f.type){case"lattice":const w=f.verticesPerRow,E=Math.floor(_.length/w)-1,I=w-1;for(i=0;i<E;i++){let G=i*w;for(let K=0;K<I;K++,G++)o(d,C,_[G],_[G+1],_[G+w],b[G],b[G+1],b[G+w]),o(d,C,_[G+w+1],_[G+1],_[G+w],b[G+w+1],b[G+1],b[G+w])}break;case"triangles":for(i=0,v=_.length;i<v;i+=3)o(d,C,_[i],_[i+1],_[i+2],b[i],b[i+1],b[i+2]);break;default:throw new Error("illegal figure")}}class x extends B{constructor(f){super(),this._coords=f[2],this._colors=f[3],this._figures=f[4],this._bounds=f[5],this._bbox=f[7],this._background=f[8],this.matrix=null}_createMeshCanvas(f,C,_){const w=Math.floor(this._bounds[0]),E=Math.floor(this._bounds[1]),I=Math.ceil(this._bounds[2])-w,G=Math.ceil(this._bounds[3])-E,K=Math.min(Math.ceil(Math.abs(I*f[0]*1.1)),3e3),he=Math.min(Math.ceil(Math.abs(G*f[1]*1.1)),3e3),Ce=I/K,be=G/he,ve={coords:this._coords,colors:this._colors,offsetX:-w,offsetY:-E,scaleX:1/Ce,scaleY:1/be},Z=K+2*2,Q=he+2*2,ee=_.getCanvas("mesh",Z,Q,!1),fe=ee.context,V=fe.createImageData(K,he);if(C){const L=V.data;for(let P=0,k=L.length;P<k;P+=4)L[P]=C[0],L[P+1]=C[1],L[P+2]=C[2],L[P+3]=255}for(const L of this._figures)g(V,L,ve);return fe.putImageData(V,2,2),{canvas:ee.canvas,offsetX:w-2*Ce,offsetY:E-2*be,scaleX:Ce,scaleY:be}}getPattern(f,C,_,b){F(f,this._bbox);let i;if(b===T.SHADING)i=a.Util.singularValueDecompose2dScale((0,h.getCurrentTransform)(f));else if(i=a.Util.singularValueDecompose2dScale(C.baseTransform),this.matrix){const w=a.Util.singularValueDecompose2dScale(this.matrix);i=[i[0]*w[0],i[1]*w[1]]}const v=this._createMeshCanvas(i,b===T.SHADING?null:this._background,C.cachedCanvases);return b!==T.SHADING&&(f.setTransform(...C.baseTransform),this.matrix&&f.transform(...this.matrix)),f.translate(v.offsetX,v.offsetY),f.scale(v.scaleX,v.scaleY),f.createPattern(v.canvas,"no-repeat")}}class y extends B{getPattern(){return"hotpink"}}function A(d){switch(d[0]){case"RadialAxial":return new O(d);case"Mesh":return new x(d);case"Dummy":return new y}throw new Error(`Unknown IR type: ${d[0]}`)}const m={COLORED:1,UNCOLORED:2};class p{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(f,C,_,b,i){this.operatorList=f[2],this.matrix=f[3]||[1,0,0,1,0,0],this.bbox=f[4],this.xstep=f[5],this.ystep=f[6],this.paintType=f[7],this.tilingType=f[8],this.color=C,this.ctx=_,this.canvasGraphicsFactory=b,this.baseTransform=i}createPatternCanvas(f){const C=this.operatorList,_=this.bbox,b=this.xstep,i=this.ystep,v=this.paintType,w=this.tilingType,E=this.color,I=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+w);const G=_[0],K=_[1],he=_[2],Ce=_[3],be=a.Util.singularValueDecompose2dScale(this.matrix),ve=a.Util.singularValueDecompose2dScale(this.baseTransform),Z=[be[0]*ve[0],be[1]*ve[1]],Q=this.getSizeAndScale(b,this.ctx.canvas.width,Z[0]),ee=this.getSizeAndScale(i,this.ctx.canvas.height,Z[1]),fe=f.cachedCanvases.getCanvas("pattern",Q.size,ee.size,!0),V=fe.context,z=I.createCanvasGraphics(V);z.groupLevel=f.groupLevel,this.setFillAndStrokeStyleToContext(z,v,E);let L=G,P=K,k=he,N=Ce;return G<0&&(L=0,k+=Math.abs(G)),K<0&&(P=0,N+=Math.abs(K)),V.translate(-(Q.scale*L),-(ee.scale*P)),z.transform(Q.scale,0,0,ee.scale,0,0),V.save(),this.clipBbox(z,L,P,k,N),z.baseTransform=(0,h.getCurrentTransform)(z.ctx),z.executeOperatorList(C),z.endDrawing(),{canvas:fe.canvas,scaleX:Q.scale,scaleY:ee.scale,offsetX:L,offsetY:P}}getSizeAndScale(f,C,_){f=Math.abs(f);const b=Math.max(p.MAX_PATTERN_SIZE,C);let i=Math.ceil(f*_);return i>=b?i=b:_=i/f,{scale:_,size:i}}clipBbox(f,C,_,b,i){const v=b-C,w=i-_;f.ctx.rect(C,_,v,w),f.current.updateRectMinMax((0,h.getCurrentTransform)(f.ctx),[C,_,b,i]),f.clip(),f.endPath()}setFillAndStrokeStyleToContext(f,C,_){const b=f.ctx,i=f.current;switch(C){case m.COLORED:const v=this.ctx;b.fillStyle=v.fillStyle,b.strokeStyle=v.strokeStyle,i.fillColor=v.fillStyle,i.strokeColor=v.strokeStyle;break;case m.UNCOLORED:const w=a.Util.makeHexColor(_[0],_[1],_[2]);b.fillStyle=w,b.strokeStyle=w,i.fillColor=w,i.strokeColor=w;break;default:throw new a.FormatError(`Unsupported paint type: ${C}`)}}getPattern(f,C,_,b){let i=_;b!==T.SHADING&&(i=a.Util.transform(i,C.baseTransform),this.matrix&&(i=a.Util.transform(i,this.matrix)));const v=this.createPatternCanvas(C);let w=new DOMMatrix(i);w=w.translate(v.offsetX,v.offsetY),w=w.scale(1/v.scaleX,1/v.scaleY);const E=f.createPattern(v.canvas,"repeat");return E.setTransform(w),E}}s.TilingPattern=p},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=h;var a=l(1);function h({src:T,srcPos:F=0,dest:B,destPos:O=0,width:o,height:g,inverseDecode:x=!1}){const y=a.FeatureTest.isLittleEndian?4278190080:255,[A,m]=x?[0,y]:[y,0],p=o>>3,d=o&7,f=T.length;B=new Uint32Array(B.buffer);for(let C=0;C<g;C++){for(const b=F+p;F<b;F++){const i=F<f?T[F]:255;B[O++]=i&128?m:A,B[O++]=i&64?m:A,B[O++]=i&32?m:A,B[O++]=i&16?m:A,B[O++]=i&8?m:A,B[O++]=i&4?m:A,B[O++]=i&2?m:A,B[O++]=i&1?m:A}if(d===0)continue;const _=F<f?T[F++]:255;for(let b=0;b<d;b++)B[O++]=_&1<<7-b?m:A}return{srcPos:F,destPos:O}}},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlobalWorkerOptions=void 0;const l=Object.create(null);s.GlobalWorkerOptions=l,l.workerPort=null,l.workerSrc=""},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var a=l(1);const h={DATA:1,ERROR:2},T={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function F(O){switch(O instanceof Error||typeof O=="object"&&O!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),O.name){case"AbortException":return new a.AbortException(O.message);case"MissingPDFException":return new a.MissingPDFException(O.message);case"PasswordException":return new a.PasswordException(O.message,O.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(O.message,O.status);case"UnknownErrorException":return new a.UnknownErrorException(O.message,O.details);default:return new a.UnknownErrorException(O.message,O.toString())}}class B{constructor(o,g,x){this.sourceName=o,this.targetName=g,this.comObj=x,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const A=y.data;if(A.targetName!==this.sourceName)return;if(A.stream){this._processStreamMessage(A);return}if(A.callback){const p=A.callbackId,d=this.callbackCapabilities[p];if(!d)throw new Error(`Cannot resolve callback ${p}`);if(delete this.callbackCapabilities[p],A.callback===h.DATA)d.resolve(A.data);else if(A.callback===h.ERROR)d.reject(F(A.reason));else throw new Error("Unexpected callback case");return}const m=this.actionHandler[A.action];if(!m)throw new Error(`Unknown action from worker: ${A.action}`);if(A.callbackId){const p=this.sourceName,d=A.sourceName;new Promise(function(f){f(m(A.data))}).then(function(f){x.postMessage({sourceName:p,targetName:d,callback:h.DATA,callbackId:A.callbackId,data:f})},function(f){x.postMessage({sourceName:p,targetName:d,callback:h.ERROR,callbackId:A.callbackId,reason:F(f)})});return}if(A.streamId){this._createStreamSink(A);return}m(A.data)},x.addEventListener("message",this._onComObjOnMessage)}on(o,g){const x=this.actionHandler;if(x[o])throw new Error(`There is already an actionName called "${o}"`);x[o]=g}send(o,g,x){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,data:g},x)}sendWithPromise(o,g,x){const y=this.callbackId++,A=(0,a.createPromiseCapability)();this.callbackCapabilities[y]=A;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:o,callbackId:y,data:g},x)}catch(m){A.reject(m)}return A.promise}sendWithStream(o,g,x,y){const A=this.streamId++,m=this.sourceName,p=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const C=(0,a.createPromiseCapability)();return this.streamControllers[A]={controller:f,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:m,targetName:p,action:o,streamId:A,data:g,desiredSize:f.desiredSize},y),C.promise},pull:f=>{const C=(0,a.createPromiseCapability)();return this.streamControllers[A].pullCall=C,d.postMessage({sourceName:m,targetName:p,stream:T.PULL,streamId:A,desiredSize:f.desiredSize}),C.promise},cancel:f=>{(0,a.assert)(f instanceof Error,"cancel must have a valid reason");const C=(0,a.createPromiseCapability)();return this.streamControllers[A].cancelCall=C,this.streamControllers[A].isClosed=!0,d.postMessage({sourceName:m,targetName:p,stream:T.CANCEL,streamId:A,reason:F(f)}),C.promise}},x)}_createStreamSink(o){const g=o.streamId,x=this.sourceName,y=o.sourceName,A=this.comObj,m=this,p=this.actionHandler[o.action],d={enqueue(f,C=1,_){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=C,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),A.postMessage({sourceName:x,targetName:y,stream:T.ENQUEUE,streamId:g,chunk:f},_)},close(){this.isCancelled||(this.isCancelled=!0,A.postMessage({sourceName:x,targetName:y,stream:T.CLOSE,streamId:g}),delete m.streamSinks[g])},error(f){(0,a.assert)(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,A.postMessage({sourceName:x,targetName:y,stream:T.ERROR,streamId:g,reason:F(f)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:o.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[g]=d,new Promise(function(f){f(p(o.data,d))}).then(function(){A.postMessage({sourceName:x,targetName:y,stream:T.START_COMPLETE,streamId:g,success:!0})},function(f){A.postMessage({sourceName:x,targetName:y,stream:T.START_COMPLETE,streamId:g,reason:F(f)})})}_processStreamMessage(o){const g=o.streamId,x=this.sourceName,y=o.sourceName,A=this.comObj,m=this.streamControllers[g],p=this.streamSinks[g];switch(o.stream){case T.START_COMPLETE:o.success?m.startCall.resolve():m.startCall.reject(F(o.reason));break;case T.PULL_COMPLETE:o.success?m.pullCall.resolve():m.pullCall.reject(F(o.reason));break;case T.PULL:if(!p){A.postMessage({sourceName:x,targetName:y,stream:T.PULL_COMPLETE,streamId:g,success:!0});break}p.desiredSize<=0&&o.desiredSize>0&&p.sinkCapability.resolve(),p.desiredSize=o.desiredSize,new Promise(function(d){d(p.onPull&&p.onPull())}).then(function(){A.postMessage({sourceName:x,targetName:y,stream:T.PULL_COMPLETE,streamId:g,success:!0})},function(d){A.postMessage({sourceName:x,targetName:y,stream:T.PULL_COMPLETE,streamId:g,reason:F(d)})});break;case T.ENQUEUE:if((0,a.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(o.chunk);break;case T.CLOSE:if((0,a.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,g);break;case T.ERROR:(0,a.assert)(m,"error should have stream controller"),m.controller.error(F(o.reason)),this._deleteStreamController(m,g);break;case T.CANCEL_COMPLETE:o.success?m.cancelCall.resolve():m.cancelCall.reject(F(o.reason)),this._deleteStreamController(m,g);break;case T.CANCEL:if(!p)break;new Promise(function(d){d(p.onCancel&&p.onCancel(F(o.reason)))}).then(function(){A.postMessage({sourceName:x,targetName:y,stream:T.CANCEL_COMPLETE,streamId:g,success:!0})},function(d){A.postMessage({sourceName:x,targetName:y,stream:T.CANCEL_COMPLETE,streamId:g,reason:F(d)})}),p.sinkCapability.reject(F(o.reason)),p.isCancelled=!0,delete this.streamSinks[g];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(o,g){await Promise.allSettled([o.startCall&&o.startCall.promise,o.pullCall&&o.pullCall.promise,o.cancelCall&&o.cancelCall.promise]),delete this.streamControllers[g]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=B},(u,s,l)=>{var T,F;Object.defineProperty(s,"__esModule",{value:!0}),s.Metadata=void 0;var a=l(1);class h{constructor({parsedData:O,rawData:o}){Ye(this,T);Ye(this,F);et(this,T,O),et(this,F,o)}getRaw(){return ue(this,F)}get(O){return ue(this,T).get(O)??null}getAll(){return(0,a.objectFromMap)(ue(this,T))}has(O){return ue(this,T).has(O)}}T=new WeakMap,F=new WeakMap,s.Metadata=h},(u,s,l)=>{var O,o,g,x,y,A,Wc;Object.defineProperty(s,"__esModule",{value:!0}),s.OptionalContentConfig=void 0;var a=l(1),h=l(8);const T=Symbol("INTERNAL");class F{constructor(d,f){Ye(this,O,!0);this.name=d,this.intent=f}get visible(){return ue(this,O)}_setVisible(d,f){d!==T&&(0,a.unreachable)("Internal method `_setVisible` called."),et(this,O,f)}}O=new WeakMap;class B{constructor(d){Ye(this,A);Ye(this,o,null);Ye(this,g,new Map);Ye(this,x,null);Ye(this,y,null);if(this.name=null,this.creator=null,d!==null){this.name=d.name,this.creator=d.creator,et(this,y,d.order);for(const f of d.groups)ue(this,g).set(f.id,new F(f.name,f.intent));if(d.baseState==="OFF")for(const f of ue(this,g).values())f._setVisible(T,!1);for(const f of d.on)ue(this,g).get(f)._setVisible(T,!0);for(const f of d.off)ue(this,g).get(f)._setVisible(T,!1);et(this,x,this.getHash())}}isVisible(d){if(ue(this,g).size===0)return!0;if(!d)return(0,a.warn)("Optional content group not defined."),!0;if(d.type==="OCG")return ue(this,g).has(d.id)?ue(this,g).get(d.id).visible:((0,a.warn)(`Optional content group not found: ${d.id}`),!0);if(d.type==="OCMD"){if(d.expression)return Qe(this,A,Wc).call(this,d.expression);if(!d.policy||d.policy==="AnyOn"){for(const f of d.ids){if(!ue(this,g).has(f))return(0,a.warn)(`Optional content group not found: ${f}`),!0;if(ue(this,g).get(f).visible)return!0}return!1}else if(d.policy==="AllOn"){for(const f of d.ids){if(!ue(this,g).has(f))return(0,a.warn)(`Optional content group not found: ${f}`),!0;if(!ue(this,g).get(f).visible)return!1}return!0}else if(d.policy==="AnyOff"){for(const f of d.ids){if(!ue(this,g).has(f))return(0,a.warn)(`Optional content group not found: ${f}`),!0;if(!ue(this,g).get(f).visible)return!0}return!1}else if(d.policy==="AllOff"){for(const f of d.ids){if(!ue(this,g).has(f))return(0,a.warn)(`Optional content group not found: ${f}`),!0;if(ue(this,g).get(f).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${d.policy}.`),!0}return(0,a.warn)(`Unknown group type ${d.type}.`),!0}setVisibility(d,f=!0){if(!ue(this,g).has(d)){(0,a.warn)(`Optional content group not found: ${d}`);return}ue(this,g).get(d)._setVisible(T,!!f),et(this,o,null)}get hasInitialVisibility(){return this.getHash()===ue(this,x)}getOrder(){return ue(this,g).size?ue(this,y)?ue(this,y).slice():[...ue(this,g).keys()]:null}getGroups(){return ue(this,g).size>0?(0,a.objectFromMap)(ue(this,g)):null}getGroup(d){return ue(this,g).get(d)||null}getHash(){if(ue(this,o)!==null)return ue(this,o);const d=new h.MurmurHash3_64;for(const[f,C]of ue(this,g))d.update(`${f}:${C.visible}`);return et(this,o,d.hexdigest())}}o=new WeakMap,g=new WeakMap,x=new WeakMap,y=new WeakMap,A=new WeakSet,Wc=function(d){const f=d.length;if(f<2)return!0;const C=d[0];for(let _=1;_<f;_++){const b=d[_];let i;if(Array.isArray(b))i=Qe(this,A,Wc).call(this,b);else if(ue(this,g).has(b))i=ue(this,g).get(b).visible;else return(0,a.warn)(`Optional content group not found: ${b}`),!0;switch(C){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return C==="And"},s.OptionalContentConfig=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFDataTransportStream=void 0;var a=l(1),h=l(6);class T{constructor({length:o,initialData:g,progressiveDone:x=!1,contentDispositionFilename:y=null,disableRange:A=!1,disableStream:m=!1},p){if((0,a.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=x,this._contentDispositionFilename=y,(g==null?void 0:g.length)>0){const d=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!m,this._isRangeSupported=!A,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),this._pdfDataRangeTransport.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),this._pdfDataRangeTransport.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:o,chunk:g}){const x=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(o===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(x):this._queuedChunks.push(x);else{const y=this._rangeReaders.some(function(A){return A._begin!==o?!1:(A._enqueue(x),!0)});(0,a.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var o;return((o=this._fullRequestReader)==null?void 0:o._loaded)??0}_onProgress(o){var g,x,y,A;o.total===void 0?(x=(g=this._rangeReaders[0])==null?void 0:g.onProgress)==null||x.call(g,{loaded:o.loaded}):(A=(y=this._fullRequestReader)==null?void 0:y.onProgress)==null||A.call(y,{loaded:o.loaded,total:o.total})}_onProgressiveDone(){var o;(o=this._fullRequestReader)==null||o.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(o){const g=this._rangeReaders.indexOf(o);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const o=this._queuedChunks;return this._queuedChunks=null,new F(this,o,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(o,g){if(g<=this._progressiveDataLength)return null;const x=new B(this,o,g);return this._pdfDataRangeTransport.requestDataRange(o,g),this._rangeReaders.push(x),x}cancelAllRequests(o){var g;(g=this._fullRequestReader)==null||g.cancel(o);for(const x of this._rangeReaders.slice(0))x.cancel(o);this._pdfDataRangeTransport.abort()}}s.PDFDataTransportStream=T;class F{constructor(o,g,x=!1,y=null){this._stream=o,this._done=x||!1,this._filename=(0,h.isPdfFile)(y)?y:null,this._queuedChunks=g||[],this._loaded=0;for(const A of this._queuedChunks)this._loaded+=A.byteLength;this._requests=[],this._headersReady=Promise.resolve(),o._fullRequestReader=this,this.onProgress=null}_enqueue(o){this._done||(this._requests.length>0?this._requests.shift().resolve({value:o,done:!1}):this._queuedChunks.push(o),this._loaded+=o.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const o=(0,a.createPromiseCapability)();return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class B{constructor(o,g,x){this._stream=o,this._begin=g,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(o){if(!this._done){if(this._requests.length===0)this._queuedChunk=o;else{this._requests.shift().resolve({value:o,done:!1});for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const o=(0,a.createPromiseCapability)();return this._requests.push(o),o.promise}cancel(o){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaText=void 0;class l{static textContent(h){const T=[],F={items:T,styles:Object.create(null)};function B(O){var x;if(!O)return;let o=null;const g=O.name;if(g==="#text")o=O.value;else if(l.shouldBuildText(g))(x=O==null?void 0:O.attributes)!=null&&x.textContent?o=O.attributes.textContent:O.value&&(o=O.value);else return;if(o!==null&&T.push({str:o}),!!O.children)for(const y of O.children)B(y)}return B(h),F}static shouldBuildText(h){return!(h==="textarea"||h==="input"||h==="option"||h==="select")}}s.XfaText=l},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NodeStandardFontDataFactory=s.NodeCanvasFactory=s.NodeCMapReaderFactory=void 0;var a=l(7);const h=function(O){return new Promise((o,g)=>{require$$5.readFile(O,(y,A)=>{if(y||!A){g(new Error(y));return}o(new Uint8Array(A))})})};class T extends a.BaseCanvasFactory{_createCanvas(o,g){return require$$5.createCanvas(o,g)}}s.NodeCanvasFactory=T;class F extends a.BaseCMapReaderFactory{_fetchData(o,g){return h(o).then(x=>({cMapData:x,compressionType:g}))}}s.NodeCMapReaderFactory=F;class B extends a.BaseStandardFontDataFactory{_fetchData(o){return h(o)}}s.NodeStandardFontDataFactory=B},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNodeStream=void 0;var a=l(1),h=l(22);const T=require$$5,F=require$$5,B=require$$5,O=require$$5,o=/^file:\/\/\/[a-zA-Z]:\//;function g(_){const b=O.parse(_);return b.protocol==="file:"||b.host?b:/^[a-z]:[/\\]/i.test(_)?O.parse(`file:///${_}`):(b.host||(b.protocol="file:"),b)}class x{constructor(b){this.source=b,this.url=g(b.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b;return((b=this._fullRequestReader)==null?void 0:b._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new p(this),this._fullRequestReader}getRangeReader(b,i){if(i<=this._progressiveDataLength)return null;const v=this.isFsUrl?new C(this,b,i):new d(this,b,i);return this._rangeRequestReaders.push(v),v}cancelAllRequests(b){var i;(i=this._fullRequestReader)==null||i.cancel(b);for(const v of this._rangeRequestReaders.slice(0))v.cancel(b)}}s.PDFNodeStream=x;class y{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=b.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var v;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const b=this._readableStream.read();return b===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=b.length,(v=this.onProgress)==null||v.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class A{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const i=b.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var v;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const b=this._readableStream.read();return b===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=b.length,(v=this.onProgress)==null||v.call(this,{loaded:this._loaded}),{value:new Uint8Array(b).buffer,done:!1})}cancel(b){if(!this._readableStream){this._error(b);return}this._readableStream.destroy(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(_,b){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:b}}class p extends y{constructor(b){super(b);const i=v=>{if(v.statusCode===404){const G=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=G,this._headersCapability.reject(G);return}this._headersCapability.resolve(),this._setReadableStream(v);const w=G=>this._readableStream.headers[G.toLowerCase()],{allowRangeRequests:E,suggestedLength:I}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=I||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(w)};this._request=null,this._url.protocol==="http:"?this._request=F.request(m(this._url,b.httpHeaders),i):this._request=B.request(m(this._url,b.httpHeaders),i),this._request.on("error",v=>{this._storedError=v,this._headersCapability.reject(v)}),this._request.end()}}class d extends A{constructor(b,i,v){super(b),this._httpHeaders={};for(const E in b.httpHeaders){const I=b.httpHeaders[E];I!==void 0&&(this._httpHeaders[E]=I)}this._httpHeaders.Range=`bytes=${i}-${v-1}`;const w=E=>{if(E.statusCode===404){const I=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=I;return}this._setReadableStream(E)};this._request=null,this._url.protocol==="http:"?this._request=F.request(m(this._url,this._httpHeaders),w):this._request=B.request(m(this._url,this._httpHeaders),w),this._request.on("error",E=>{this._storedError=E}),this._request.end()}}class f extends y{constructor(b){super(b);let i=decodeURIComponent(this._url.path);o.test(this._url.href)&&(i=i.replace(/^\//,"")),T.lstat(i,(v,w)=>{if(v){v.code==="ENOENT"&&(v=new a.MissingPDFException(`Missing PDF "${i}".`)),this._storedError=v,this._headersCapability.reject(v);return}this._contentLength=w.size,this._setReadableStream(T.createReadStream(i)),this._headersCapability.resolve()})}}class C extends A{constructor(b,i,v){super(b);let w=decodeURIComponent(this._url.path);o.test(this._url.href)&&(w=w.replace(/^\//,"")),this._setReadableStream(T.createReadStream(w,{start:i,end:v-1}))}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createResponseStatusError=O,s.extractFilenameFromHeader=B,s.validateRangeRequestCapabilities=F,s.validateResponseStatus=o;var a=l(1),h=l(23),T=l(6);function F({getResponseHeader:g,isHttp:x,rangeChunkSize:y,disableRange:A}){const m={allowRangeRequests:!1,suggestedLength:void 0},p=parseInt(g("Content-Length"),10);return!Number.isInteger(p)||(m.suggestedLength=p,p<=2*y)||A||!x||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function B(g){const x=g("Content-Disposition");if(x){let y=(0,h.getFilenameFromContentDispositionHeader)(x);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,T.isPdfFile)(y))return y}return null}function O(g,x){return g===404||g===0&&x.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+x+'".'):new a.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${x}".`,g)}function o(g){return g===200||g===206}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getFilenameFromContentDispositionHeader=h;var a=l(1);function h(T){let F=!0,B=O("filename\\*","i").exec(T);if(B){B=B[1];let p=y(B);return p=unescape(p),p=A(p),p=m(p),g(p)}if(B=x(T),B){const p=m(B);return g(p)}if(B=O("filename","i").exec(T),B){B=B[1];let p=y(B);return p=m(p),g(p)}function O(p,d){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function o(p,d){if(p){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(p,{fatal:!0}),C=(0,a.stringToBytes)(d);d=f.decode(C),F=!1}catch{}}return d}function g(p){return F&&/[\x80-\xff]/.test(p)&&(p=o("utf-8",p),F&&(p=o("iso-8859-1",p))),p}function x(p){const d=[];let f;const C=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=C.exec(p))!==null;){let[,b,i,v]=f;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[i,v]}const _=[];for(let b=0;b<d.length&&b in d;++b){let[i,v]=d[b];v=y(v),i&&(v=unescape(v),b===0&&(v=A(v))),_.push(v)}return _.join("")}function y(p){if(p.startsWith('"')){const d=p.slice(1).split('\\"');for(let f=0;f<d.length;++f){const C=d[f].indexOf('"');C!==-1&&(d[f]=d[f].slice(0,C),d.length=f+1),d[f]=d[f].replace(/\\(.)/g,"$1")}p=d.join('"')}return p}function A(p){const d=p.indexOf("'");if(d===-1)return p;const f=p.slice(0,d),_=p.slice(d+1).replace(/^[^']*'/,"");return o(f,_)}function m(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,C,_){if(C==="q"||C==="Q")return _=_.replace(/_/g," "),_=_.replace(/=([0-9a-fA-F]{2})/g,function(b,i){return String.fromCharCode(parseInt(i,16))}),o(f,_);try{_=atob(_)}catch{}return o(f,_)})}return""}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFNetworkStream=void 0;var a=l(1),h=l(22);const T=200,F=206;function B(y){const A=y.response;return typeof A!="string"?A:(0,a.stringToBytes)(A).buffer}class O{constructor(A,m={}){this.url=A,this.isHttp=/^https?:/i.test(A),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(A,m,p){const d={begin:A,end:m};for(const f in p)d[f]=p[f];return this.request(d)}requestFull(A){return this.request(A)}request(A){const m=this.getXhr(),p=this.currXhrId++,d=this.pendingRequests[p]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const f in this.httpHeaders){const C=this.httpHeaders[f];C!==void 0&&m.setRequestHeader(f,C)}return this.isHttp&&"begin"in A&&"end"in A?(m.setRequestHeader("Range",`bytes=${A.begin}-${A.end-1}`),d.expectedStatus=F):d.expectedStatus=T,m.responseType="arraybuffer",A.onError&&(m.onerror=function(f){A.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,p),m.onprogress=this.onProgress.bind(this,p),d.onHeadersReceived=A.onHeadersReceived,d.onDone=A.onDone,d.onError=A.onError,d.onProgress=A.onProgress,m.send(null),p}onProgress(A,m){var d;const p=this.pendingRequests[A];p&&((d=p.onProgress)==null||d.call(p,m))}onStateChange(A,m){var b,i,v;const p=this.pendingRequests[A];if(!p)return;const d=p.xhr;if(d.readyState>=2&&p.onHeadersReceived&&(p.onHeadersReceived(),delete p.onHeadersReceived),d.readyState!==4||!(A in this.pendingRequests))return;if(delete this.pendingRequests[A],d.status===0&&this.isHttp){(b=p.onError)==null||b.call(p,d.status);return}const f=d.status||T;if(!(f===T&&p.expectedStatus===F)&&f!==p.expectedStatus){(i=p.onError)==null||i.call(p,d.status);return}const _=B(d);if(f===F){const w=d.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(w);p.onDone({begin:parseInt(E[1],10),chunk:_})}else _?p.onDone({begin:0,chunk:_}):(v=p.onError)==null||v.call(p,d.status)}getRequestXhr(A){return this.pendingRequests[A].xhr}isPendingRequest(A){return A in this.pendingRequests}abortRequest(A){const m=this.pendingRequests[A].xhr;delete this.pendingRequests[A],m.abort()}}class o{constructor(A){this._source=A,this._manager=new O(A.url,{httpHeaders:A.httpHeaders,withCredentials:A.withCredentials}),this._rangeChunkSize=A.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(A){const m=this._rangeRequestReaders.indexOf(A);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(A,m){const p=new x(this._manager,A,m);return p.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(p),p}cancelAllRequests(A){var m;(m=this._fullRequestReader)==null||m.cancel(A);for(const p of this._rangeRequestReaders.slice(0))p.cancel(A)}}s.PDFNetworkStream=o;class g{constructor(A,m){this._manager=A;const p={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=A.requestFull(p),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const A=this._fullRequestId,m=this._manager.getRequestXhr(A),p=C=>m.getResponseHeader(C),{allowRangeRequests:d,suggestedLength:f}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=f||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(p),this._isRangeSupported&&this._manager.abortRequest(A),this._headersReceivedCapability.resolve()}_onDone(A){if(A&&(this._requests.length>0?this._requests.shift().resolve({value:A.chunk,done:!1}):this._cachedChunks.push(A.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(A){this._storedError=(0,h.createResponseStatusError)(A,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(A){var m;(m=this.onProgress)==null||m.call(this,{loaded:A.loaded,total:A.lengthComputable?A.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const A=(0,a.createPromiseCapability)();return this._requests.push(A),A.promise}cancel(A){this._done=!0,this._headersReceivedCapability.reject(A);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(A,m,p){this._manager=A;const d={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._requestId=A.requestRange(m,p,d),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var A;(A=this.onClosed)==null||A.call(this,this)}_onDone(A){const m=A.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(A){this._storedError=(0,h.createResponseStatusError)(A,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(A){var m;this.isStreamingSupported||(m=this.onProgress)==null||m.call(this,{loaded:A.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const A=(0,a.createPromiseCapability)();return this._requests.push(A),A.promise}cancel(A){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFetchStream=void 0;var a=l(1),h=l(22);function T(x,y,A){return{method:"GET",headers:x,signal:A.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function F(x){const y=new Headers;for(const A in x){const m=x[A];m!==void 0&&y.append(A,m)}return y}function B(x){return x instanceof Uint8Array?x.buffer:x instanceof ArrayBuffer?x:((0,a.warn)(`getArrayBuffer - unexpected data format: ${x}`),new Uint8Array(x).buffer)}class O{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var y;return((y=this._fullRequestReader)==null?void 0:y._loaded)??0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(y,A){if(A<=this._progressiveDataLength)return null;const m=new g(this,y,A);return this._rangeRequestReaders.push(m),m}cancelAllRequests(y){var A;(A=this._fullRequestReader)==null||A.cancel(y);for(const m of this._rangeRequestReaders.slice(0))m.cancel(y)}}s.PDFFetchStream=O;class o{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const A=y.source;this._withCredentials=A.withCredentials||!1,this._contentLength=A.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._headers=F(this._stream.httpHeaders);const m=A.url;fetch(m,T(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,h.validateResponseStatus)(p.status))throw(0,h.createResponseStatusError)(p.status,m);this._reader=p.body.getReader(),this._headersCapability.resolve();const d=_=>p.headers.get(_),{allowRangeRequests:f,suggestedLength:C}=(0,h.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=f,this._contentLength=C||this._contentLength,this._filename=(0,h.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var m;await this._headersCapability.promise;const{value:y,done:A}=await this._reader.read();return A?{value:y,done:A}:(this._loaded+=y.byteLength,(m=this.onProgress)==null||m.call(this,{loaded:this._loaded,total:this._contentLength}),{value:B(y),done:!1})}cancel(y){var A;(A=this._reader)==null||A.cancel(y),this._abortController.abort()}}class g{constructor(y,A,m){this._stream=y,this._reader=null,this._loaded=0;const p=y.source;this._withCredentials=p.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=F(this._stream.httpHeaders),this._headers.append("Range",`bytes=${A}-${m-1}`);const d=p.url;fetch(d,T(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,h.validateResponseStatus)(f.status))throw(0,h.createResponseStatusError)(f.status,d);this._readCapability.resolve(),this._reader=f.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var m;await this._readCapability.promise;const{value:y,done:A}=await this._reader.read();return A?{value:y,done:A}:(this._loaded+=y.byteLength,(m=this.onProgress)==null||m.call(this,{loaded:this._loaded}),{value:B(y),done:!1})}cancel(y){var A;(A=this._reader)==null||A.cancel(y),this._abortController.abort()}}},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerRenderTask=void 0,s.renderTextLayer=p,s.updateTextLayer=d;var a=l(1),h=l(6);const T=1e5,F=30,B=.8,O=new Map;function o(f,C){let _;if(C&&a.FeatureTest.isOffscreenCanvasSupported)_=new OffscreenCanvas(f,f).getContext("2d",{alpha:!1});else{const b=document.createElement("canvas");b.width=b.height=f,_=b.getContext("2d",{alpha:!1})}return _}function g(f,C){const _=O.get(f);if(_)return _;const b=o(F,C);b.font=`${F}px ${f}`;const i=b.measureText("");let v=i.fontBoundingBoxAscent,w=Math.abs(i.fontBoundingBoxDescent);if(v){const I=v/(v+w);return O.set(f,I),b.canvas.width=b.canvas.height=0,I}b.strokeStyle="red",b.clearRect(0,0,F,F),b.strokeText("g",0,0);let E=b.getImageData(0,0,F,F).data;w=0;for(let I=E.length-1-3;I>=0;I-=4)if(E[I]>0){w=Math.ceil(I/4/F);break}b.clearRect(0,0,F,F),b.strokeText("A",0,F),E=b.getImageData(0,0,F,F).data,v=0;for(let I=0,G=E.length;I<G;I+=4)if(E[I]>0){v=F-Math.floor(I/4/F);break}if(b.canvas.width=b.canvas.height=0,v){const I=v/(v+w);return O.set(f,I),I}return O.set(f,B),B}function x(f,C,_){const b=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:C.str!=="",hasEOL:C.hasEOL,fontSize:0};f._textDivs.push(b);const v=a.Util.transform(f._transform,C.transform);let w=Math.atan2(v[1],v[0]);const E=_[C.fontName];E.vertical&&(w+=Math.PI/2);const I=Math.hypot(v[2],v[3]),G=I*g(E.fontFamily,f._isOffscreenCanvasSupported);let K,he;w===0?(K=v[4],he=v[5]-G):(K=v[4]+G*Math.sin(w),he=v[5]-G*Math.cos(w));const Ce="calc(var(--scale-factor)*",be=b.style;f._container===f._rootContainer?(be.left=`${(100*K/f._pageWidth).toFixed(2)}%`,be.top=`${(100*he/f._pageHeight).toFixed(2)}%`):(be.left=`${Ce}${K.toFixed(2)}px)`,be.top=`${Ce}${he.toFixed(2)}px)`),be.fontSize=`${Ce}${I.toFixed(2)}px)`,be.fontFamily=E.fontFamily,i.fontSize=I,b.setAttribute("role","presentation"),b.textContent=C.str,b.dir=C.dir,f._fontInspectorEnabled&&(b.dataset.fontName=C.fontName),w!==0&&(i.angle=w*(180/Math.PI));let ve=!1;if(C.str.length>1)ve=!0;else if(C.str!==" "&&C.transform[0]!==C.transform[3]){const Z=Math.abs(C.transform[0]),Q=Math.abs(C.transform[3]);Z!==Q&&Math.max(Z,Q)/Math.min(Z,Q)>1.5&&(ve=!0)}ve&&(i.canvasWidth=E.vertical?C.height:C.width),f._textDivProperties.set(b,i),f._isReadableStream&&f._layoutText(b)}function y(f){const{div:C,scale:_,properties:b,ctx:i,prevFontSize:v,prevFontFamily:w}=f,{style:E}=C;let I="";if(b.canvasWidth!==0&&b.hasText){const{fontFamily:G}=E,{canvasWidth:K,fontSize:he}=b;(v!==he||w!==G)&&(i.font=`${he*_}px ${G}`,f.prevFontSize=he,f.prevFontFamily=G);const{width:Ce}=i.measureText(C.textContent);Ce>0&&(I=`scaleX(${K*_/Ce})`)}b.angle!==0&&(I=`rotate(${b.angle}deg) ${I}`),I.length>0&&(E.transform=I)}function A(f){if(f._canceled)return;const C=f._textDivs,_=f._capability;if(C.length>T){_.resolve();return}if(!f._isReadableStream)for(const i of C)f._layoutText(i);_.resolve()}class m{constructor({textContentSource:C,container:_,viewport:b,textDivs:i,textDivProperties:v,textContentItemsStr:w,isOffscreenCanvasSupported:E}){var Ce;this._textContentSource=C,this._isReadableStream=C instanceof ReadableStream,this._container=this._rootContainer=_,this._textDivs=i||[],this._textContentItemsStr=w||[],this._isOffscreenCanvasSupported=E,this._fontInspectorEnabled=!!((Ce=globalThis.FontInspector)!=null&&Ce.enabled),this._reader=null,this._textDivProperties=v||new WeakMap,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:b.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:o(0,E)};const{pageWidth:I,pageHeight:G,pageX:K,pageY:he}=b.rawDims;this._transform=[1,0,0,-1,-K,he+G],this._pageWidth=I,this._pageHeight=G,(0,h.setLayerDimensions)(_,b),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new a.AbortException("TextLayer task cancelled."))}_processItems(C,_){for(const b of C){if(b.str===void 0){if(b.type==="beginMarkedContentProps"||b.type==="beginMarkedContent"){const i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),b.id!==null&&this._container.setAttribute("id",`${b.id}`),i.append(this._container)}else b.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(b.str),x(this,b,_)}}_layoutText(C){const _=this._layoutTextParams.properties=this._textDivProperties.get(C);if(this._layoutTextParams.div=C,y(this._layoutTextParams),_.hasText&&this._container.append(C),_.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this._container.append(b)}}_render(){const C=(0,a.createPromiseCapability)();let _=Object.create(null);if(this._isReadableStream){const b=()=>{this._reader.read().then(({value:i,done:v})=>{if(v){C.resolve();return}Object.assign(_,i.styles),this._processItems(i.items,_),b()},C.reject)};this._reader=this._textContentSource.getReader(),b()}else if(this._textContentSource){const{items:b,styles:i}=this._textContentSource;this._processItems(b,i),C.resolve()}else throw new Error('No "textContentSource" parameter specified.');C.promise.then(()=>{_=null,A(this)},this._capability.reject)}}s.TextLayerRenderTask=m;function p(f){!f.textContentSource&&(f.textContent||f.textContentStream)&&((0,h.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),f.textContentSource=f.textContent||f.textContentStream);const C=new m(f);return C._render(),C}function d({container:f,viewport:C,textDivs:_,textDivProperties:b,isOffscreenCanvasSupported:i,mustRotate:v=!0,mustRescale:w=!0}){if(v&&(0,h.setLayerDimensions)(f,{rotation:C.rotation}),w){const E=o(0,i),G={prevFontSize:null,prevFontFamily:null,div:null,scale:C.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:E};for(const K of _)G.properties=b.get(K),G.div=K,y(G)}}},(u,s,l)=>{var o,g,x,y,A,m,p,d,f,Gc,Wf,qc,Xc;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayer=void 0;var a=l(1),h=l(5),T=l(28),F=l(29),B=l(6);const v=class v{constructor(E){Ye(this,f);Ye(this,o);Ye(this,g,!1);Ye(this,x,this.pointerup.bind(this));Ye(this,y,this.pointerdown.bind(this));Ye(this,A,new Map);Ye(this,m,!1);Ye(this,p,!1);Ye(this,d);v._initialized||(v._initialized=!0,T.FreeTextEditor.initialize(E.l10n),F.InkEditor.initialize(E.l10n)),E.uiManager.registerEditorTypes([T.FreeTextEditor,F.InkEditor]),et(this,d,E.uiManager),this.pageIndex=E.pageIndex,this.div=E.div,et(this,o,E.accessibilityManager),ue(this,d).addLayer(this)}get isEmpty(){return ue(this,A).size===0}updateToolbar(E){ue(this,d).updateToolbar(E)}updateMode(E=ue(this,d).getMode()){Qe(this,f,Xc).call(this),E===a.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),ue(this,d).unselectAll(),E!==a.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",E===a.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",E===a.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(E){if(!E&&ue(this,d).getMode()!==a.AnnotationEditorType.INK)return;if(!E){for(const G of ue(this,A).values())if(G.isEmpty()){G.setInBackground();return}}Qe(this,f,qc).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(E){ue(this,d).setEditingState(E)}addCommands(E){ue(this,d).addCommands(E)}enable(){this.div.style.pointerEvents="auto";for(const E of ue(this,A).values())E.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const E of ue(this,A).values())E.disableEditing();Qe(this,f,Xc).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(E){ue(this,d).getActive()!==E&&ue(this,d).setActiveEditor(E)}enableClick(){this.div.addEventListener("pointerdown",ue(this,y)),this.div.addEventListener("pointerup",ue(this,x))}disableClick(){this.div.removeEventListener("pointerdown",ue(this,y)),this.div.removeEventListener("pointerup",ue(this,x))}attach(E){ue(this,A).set(E.id,E)}detach(E){var I;ue(this,A).delete(E.id),(I=ue(this,o))==null||I.removePointerInTextLayer(E.contentDiv)}remove(E){ue(this,d).removeEditor(E),this.detach(E),E.div.style.display="none",setTimeout(()=>{E.div.style.display="",E.div.remove(),E.isAttachedToDOM=!1,document.activeElement===document.body&&ue(this,d).focusMainContainer()},0),ue(this,p)||this.addInkEditorIfNeeded(!1)}add(E){if(Qe(this,f,Gc).call(this,E),ue(this,d).addEditor(E),this.attach(E),!E.isAttachedToDOM){const I=E.render();this.div.append(I),E.isAttachedToDOM=!0}this.moveEditorInDOM(E),E.onceAdded(),ue(this,d).addToAnnotationStorage(E)}moveEditorInDOM(E){var I;(I=ue(this,o))==null||I.moveElementInDOM(this.div,E.div,E.contentDiv,!0)}addOrRebuild(E){E.needsToBeRebuilt()?E.rebuild():this.add(E)}addANewEditor(E){const I=()=>{this.addOrRebuild(E)},G=()=>{E.remove()};this.addCommands({cmd:I,undo:G,mustExec:!0})}addUndoableEditor(E){const I=()=>{this.addOrRebuild(E)},G=()=>{E.remove()};this.addCommands({cmd:I,undo:G,mustExec:!1})}getNextId(){return ue(this,d).getId()}deserialize(E){switch(E.annotationType){case a.AnnotationEditorType.FREETEXT:return T.FreeTextEditor.deserialize(E,this,ue(this,d));case a.AnnotationEditorType.INK:return F.InkEditor.deserialize(E,this,ue(this,d))}return null}setSelected(E){ue(this,d).setSelected(E)}toggleSelected(E){ue(this,d).toggleSelected(E)}isSelected(E){return ue(this,d).isSelected(E)}unselect(E){ue(this,d).unselect(E)}pointerup(E){const{isMac:I}=a.FeatureTest.platform;if(!(E.button!==0||E.ctrlKey&&I)&&E.target===this.div&&ue(this,m)){if(et(this,m,!1),!ue(this,g)){et(this,g,!0);return}Qe(this,f,qc).call(this,E)}}pointerdown(E){const{isMac:I}=a.FeatureTest.platform;if(E.button!==0||E.ctrlKey&&I||E.target!==this.div)return;et(this,m,!0);const G=ue(this,d).getActive();et(this,g,!G||G.isEmpty())}drop(E){const I=E.dataTransfer.getData("text/plain"),G=ue(this,d).getEditor(I);if(!G)return;E.preventDefault(),E.dataTransfer.dropEffect="move",Qe(this,f,Gc).call(this,G);const K=this.div.getBoundingClientRect(),he=E.clientX-K.x,Ce=E.clientY-K.y;G.translate(he-G.startX,Ce-G.startY),this.moveEditorInDOM(G),G.div.focus()}dragover(E){E.preventDefault()}destroy(){var E,I;((E=ue(this,d).getActive())==null?void 0:E.parent)===this&&ue(this,d).setActiveEditor(null);for(const G of ue(this,A).values())(I=ue(this,o))==null||I.removePointerInTextLayer(G.contentDiv),G.setParent(null),G.isAttachedToDOM=!1,G.div.remove();this.div=null,ue(this,A).clear(),ue(this,d).removeLayer(this)}render({viewport:E}){this.viewport=E,(0,B.setLayerDimensions)(this.div,E),(0,h.bindEvents)(this,this.div,["dragover","drop"]);for(const I of ue(this,d).getEditors(this.pageIndex))this.add(I);this.updateMode()}update({viewport:E}){ue(this,d).commitOrRemove(),this.viewport=E,(0,B.setLayerDimensions)(this.div,{rotation:E.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:E,pageHeight:I}=this.viewport.rawDims;return[E,I]}};o=new WeakMap,g=new WeakMap,x=new WeakMap,y=new WeakMap,A=new WeakMap,m=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakSet,Gc=function(E){var I;E.parent!==this&&(this.attach(E),(I=E.parent)==null||I.detach(E),E.setParent(this),E.div&&E.isAttachedToDOM&&(E.div.remove(),this.div.append(E.div)))},Wf=function(E){switch(ue(this,d).getMode()){case a.AnnotationEditorType.FREETEXT:return new T.FreeTextEditor(E);case a.AnnotationEditorType.INK:return new F.InkEditor(E)}return null},qc=function(E){const I=this.getNextId(),G=Qe(this,f,Wf).call(this,{parent:this,id:I,x:E.offsetX,y:E.offsetY,uiManager:ue(this,d)});return G&&this.add(G),G},Xc=function(){et(this,p,!0);for(const E of ue(this,A).values())E.isEmpty()&&E.remove();et(this,p,!1)},kt(v,"_initialized",!1);let O=v;s.AnnotationEditorLayer=O},(u,s,l)=>{var B,O,o,g,x,y,A,m,p,d,Gf,qf,Xf,Vc;Object.defineProperty(s,"__esModule",{value:!0}),s.FreeTextEditor=void 0;var a=l(1),h=l(5),T=l(4);const i=class i extends T.AnnotationEditor{constructor(E){super({...E,name:"freeTextEditor"});Ye(this,d);Ye(this,B,this.editorDivBlur.bind(this));Ye(this,O,this.editorDivFocus.bind(this));Ye(this,o,this.editorDivInput.bind(this));Ye(this,g,this.editorDivKeydown.bind(this));Ye(this,x);Ye(this,y,"");Ye(this,A,`${this.id}-editor`);Ye(this,m,!1);Ye(this,p);et(this,x,E.color||i._defaultColor||T.AnnotationEditor._defaultLineColor),et(this,p,E.fontSize||i._defaultFontSize)}static initialize(E){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(G=>[G,E.get(G)]));const I=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(I.getPropertyValue("--freetext-padding"))}static updateDefaultParams(E,I){switch(E){case a.AnnotationEditorParamsType.FREETEXT_SIZE:i._defaultFontSize=I;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:i._defaultColor=I;break}}updateParams(E,I){switch(E){case a.AnnotationEditorParamsType.FREETEXT_SIZE:Qe(this,d,Gf).call(this,I);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:Qe(this,d,qf).call(this,I);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,i._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,i._defaultColor||T.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,ue(this,p)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,ue(this,x)]]}getInitialTranslation(){const E=this.parentScale;return[-i._internalPadding*E,-(i._internalPadding+ue(this,p))*E]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",ue(this,g)),this.editorDiv.addEventListener("focus",ue(this,O)),this.editorDiv.addEventListener("blur",ue(this,B)),this.editorDiv.addEventListener("input",ue(this,o)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",ue(this,A)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",ue(this,g)),this.editorDiv.removeEventListener("focus",ue(this,O)),this.editorDiv.removeEventListener("blur",ue(this,B)),this.editorDiv.removeEventListener("input",ue(this,o)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(E){super.focusin(E),E.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),ue(this,m)||(et(this,m,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),et(this,y,Qe(this,d,Xf).call(this).trimEnd()),Qe(this,d,Vc).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(E){this.enableEditMode(),this.editorDiv.focus()}keydown(E){E.target===this.div&&E.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(E){i._keyboardManager.exec(this,E)}editorDivFocus(E){this.isEditing=!0}editorDivBlur(E){this.isEditing=!1}editorDivInput(E){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let E,I;this.width&&(E=this.x,I=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",ue(this,A)),this.enableEditing(),i._l10nPromise.get("editor_free_text2_aria_label").then(K=>{var he;return(he=this.editorDiv)==null?void 0:he.setAttribute("aria-label",K)}),i._l10nPromise.get("free_text2_default_content").then(K=>{var he;return(he=this.editorDiv)==null?void 0:he.setAttribute("default-content",K)}),this.editorDiv.contentEditable=!0;const{style:G}=this.editorDiv;if(G.fontSize=`calc(${ue(this,p)}px * var(--scale-factor))`,G.color=ue(this,x),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,h.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[K,he]=this.parentDimensions;this.setAt(E*K,I*he,this.width*K,this.height*he);for(const Ce of ue(this,y).split(`
`)){const be=document.createElement("div");be.append(Ce?document.createTextNode(Ce):document.createElement("br")),this.editorDiv.append(be)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(E,I,G){const K=super.deserialize(E,I,G);return et(K,p,E.fontSize),et(K,x,a.Util.makeHexColor(...E.color)),et(K,y,E.value),K}serialize(){if(this.isEmpty())return null;const E=i._internalPadding*this.parentScale,I=this.getRect(E,E),G=T.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:ue(this,x));return{annotationType:a.AnnotationEditorType.FREETEXT,color:G,fontSize:ue(this,p),value:ue(this,y),pageIndex:this.pageIndex,rect:I,rotation:this.rotation}}};B=new WeakMap,O=new WeakMap,o=new WeakMap,g=new WeakMap,x=new WeakMap,y=new WeakMap,A=new WeakMap,m=new WeakMap,p=new WeakMap,d=new WeakSet,Gf=function(E){const I=K=>{this.editorDiv.style.fontSize=`calc(${K}px * var(--scale-factor))`,this.translate(0,-(K-ue(this,p))*this.parentScale),et(this,p,K),Qe(this,d,Vc).call(this)},G=ue(this,p);this.addCommands({cmd:()=>{I(E)},undo:()=>{I(G)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qf=function(E){const I=ue(this,x);this.addCommands({cmd:()=>{et(this,x,this.editorDiv.style.color=E)},undo:()=>{et(this,x,this.editorDiv.style.color=I)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Xf=function(){const E=this.editorDiv.getElementsByTagName("div");if(E.length===0)return this.editorDiv.innerText;const I=[];for(const G of E)I.push(G.innerText.replace(/\r\n?|\n/,""));return I.join(`
`)},Vc=function(){const[E,I]=this.parentDimensions;let G;if(this.isAttachedToDOM)G=this.div.getBoundingClientRect();else{const{currentLayer:K,div:he}=this,Ce=he.style.display;he.style.display="hidden",K.div.append(this.div),G=he.getBoundingClientRect(),he.remove(),he.style.display=Ce}this.width=G.width/E,this.height=G.height/I},kt(i,"_freeTextDefaultContent",""),kt(i,"_l10nPromise"),kt(i,"_internalPadding",0),kt(i,"_defaultColor",null),kt(i,"_defaultFontSize",10),kt(i,"_keyboardManager",new h.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.prototype.commitOrRemove]])),kt(i,"_type","freetext");let F=i;s.FreeTextEditor=F},(u,s,l)=>{var g,x,y,A,m,p,d,f,C,_,b,i,v,w,E,Vf,Yf,$f,Kf,Yc,Qf,Zf,Jf,Xr,$c,ql,Xl,As,Kc,Vl,k,Qc,ep,tp,np,Zc,Yl,_s,Jc;Object.defineProperty(s,"__esModule",{value:!0}),s.InkEditor=void 0,Object.defineProperty(s,"fitCurve",{enumerable:!0,get:function(){return T.fitCurve}});var a=l(1),h=l(4),T=l(30),F=l(5);const B=16,O=100,W=class W extends h.AnnotationEditor{constructor(R){super({...R,name:"inkEditor"});Ye(this,E);Ye(this,g,0);Ye(this,x,0);Ye(this,y,0);Ye(this,A,this.canvasPointermove.bind(this));Ye(this,m,this.canvasPointerleave.bind(this));Ye(this,p,this.canvasPointerup.bind(this));Ye(this,d,this.canvasPointerdown.bind(this));Ye(this,f,!1);Ye(this,C,!1);Ye(this,_,null);Ye(this,b,null);Ye(this,i,0);Ye(this,v,0);Ye(this,w,null);this.color=R.color||null,this.thickness=R.thickness||null,this.opacity=R.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(R){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(U=>[U,R.get(U)]))}static updateDefaultParams(R,U){switch(R){case a.AnnotationEditorParamsType.INK_THICKNESS:W._defaultThickness=U;break;case a.AnnotationEditorParamsType.INK_COLOR:W._defaultColor=U;break;case a.AnnotationEditorParamsType.INK_OPACITY:W._defaultOpacity=U/100;break}}updateParams(R,U){switch(R){case a.AnnotationEditorParamsType.INK_THICKNESS:Qe(this,E,Vf).call(this,U);break;case a.AnnotationEditorParamsType.INK_COLOR:Qe(this,E,Yf).call(this,U);break;case a.AnnotationEditorParamsType.INK_OPACITY:Qe(this,E,$f).call(this,U);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,W._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,W._defaultColor||h.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(W._defaultOpacity*100)]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||W._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||W._defaultColor||h.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??W._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Qe(this,E,ql).call(this),Qe(this,E,Xl).call(this)),this.isAttachedToDOM||(this.parent.add(this),Qe(this,E,As).call(this)),Qe(this,E,_s).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,ue(this,b).disconnect(),et(this,b,null),super.remove())}setParent(R){!this.parent&&R?this._uiManager.removeShouldRescale(this):this.parent&&R===null&&this._uiManager.addShouldRescale(this),super.setParent(R)}onScaleChanging(){const[R,U]=this.parentDimensions,X=this.width*R,J=this.height*U;this.setDimensions(X,J)}enableEditMode(){ue(this,f)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",ue(this,d)),this.canvas.addEventListener("pointerup",ue(this,p)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",ue(this,d)),this.canvas.removeEventListener("pointerup",ue(this,p)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){ue(this,f)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),et(this,f,!0),this.div.classList.add("disabled"),Qe(this,E,_s).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(R){super.focusin(R),this.enableEditMode()}canvasPointerdown(R){R.button!==0||!this.isInEditMode()||ue(this,f)||(this.setInForeground(),R.type!=="mouse"&&this.div.focus(),R.stopPropagation(),this.canvas.addEventListener("pointerleave",ue(this,m)),this.canvas.addEventListener("pointermove",ue(this,A)),Qe(this,E,Qf).call(this,R.offsetX,R.offsetY))}canvasPointermove(R){R.stopPropagation(),Qe(this,E,Zf).call(this,R.offsetX,R.offsetY)}canvasPointerup(R){R.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(R.stopPropagation(),Qe(this,E,$c).call(this,R),this.setInBackground())}canvasPointerleave(R){Qe(this,E,$c).call(this,R),this.setInBackground()}render(){if(this.div)return this.div;let R,U;this.width&&(R=this.x,U=this.y),super.render(),W._l10nPromise.get("editor_ink2_aria_label").then(pe=>{var oe;return(oe=this.div)==null?void 0:oe.setAttribute("aria-label",pe)});const[X,J,le,ae]=Qe(this,E,Kf).call(this);if(this.setAt(X,J,0,0),this.setDims(le,ae),Qe(this,E,ql).call(this),this.width){const[pe,oe]=this.parentDimensions;this.setAt(R*pe,U*oe,this.width*pe,this.height*oe),et(this,C,!0),Qe(this,E,As).call(this),this.setDims(this.width*pe,this.height*oe),Qe(this,E,Xr).call(this),Qe(this,E,Jc).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Qe(this,E,Xl).call(this),this.div}setDimensions(R,U){const X=Math.round(R),J=Math.round(U);if(ue(this,i)===X&&ue(this,v)===J)return;et(this,i,X),et(this,v,J),this.canvas.style.visibility="hidden",ue(this,g)&&Math.abs(ue(this,g)-R/U)>.01&&(U=Math.ceil(R/ue(this,g)),this.setDims(R,U));const[le,ae]=this.parentDimensions;this.width=R/le,this.height=U/ae,ue(this,f)&&Qe(this,E,Kc).call(this,R,U),Qe(this,E,As).call(this),Qe(this,E,Xr).call(this),this.canvas.style.visibility="visible"}static deserialize(R,U,X){var Me,Fe;const J=super.deserialize(R,U,X);J.thickness=R.thickness,J.color=a.Util.makeHexColor(...R.color),J.opacity=R.opacity;const[le,ae]=J.pageDimensions,pe=J.width*le,oe=J.height*ae,_e=J.parentScale,Ae=R.thickness/2;et(J,g,pe/oe),et(J,f,!0),et(J,i,Math.round(pe)),et(J,v,Math.round(oe));for(const{bezier:Ge}of R.paths){const at=[];J.paths.push(at);let De=_e*(Ge[0]-Ae),me=_e*(oe-Ge[1]-Ae);for(let Se=2,Be=Ge.length;Se<Be;Se+=6){const Ze=_e*(Ge[Se]-Ae),ut=_e*(oe-Ge[Se+1]-Ae),St=_e*(Ge[Se+2]-Ae),We=_e*(oe-Ge[Se+3]-Ae),it=_e*(Ge[Se+4]-Ae),ze=_e*(oe-Ge[Se+5]-Ae);at.push([[De,me],[Ze,ut],[St,We],[it,ze]]),De=it,me=ze}const de=Qe(this,k,Qc).call(this,at);J.bezierPath2D.push(de)}const ke=Qe(Me=J,E,Zc).call(Me);return et(J,y,Math.max(B,ke[2]-ke[0])),et(J,x,Math.max(B,ke[3]-ke[1])),Qe(Fe=J,E,Kc).call(Fe,pe,oe),J}serialize(){if(this.isEmpty())return null;const R=this.getRect(0,0),U=this.rotation%180===0?R[3]-R[1]:R[2]-R[0],X=h.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:X,thickness:this.thickness,opacity:this.opacity,paths:Qe(this,E,ep).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,U),pageIndex:this.pageIndex,rect:R,rotation:this.rotation}}};g=new WeakMap,x=new WeakMap,y=new WeakMap,A=new WeakMap,m=new WeakMap,p=new WeakMap,d=new WeakMap,f=new WeakMap,C=new WeakMap,_=new WeakMap,b=new WeakMap,i=new WeakMap,v=new WeakMap,w=new WeakMap,E=new WeakSet,Vf=function(R){const U=this.thickness;this.addCommands({cmd:()=>{this.thickness=R,Qe(this,E,_s).call(this)},undo:()=>{this.thickness=U,Qe(this,E,_s).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Yf=function(R){const U=this.color;this.addCommands({cmd:()=>{this.color=R,Qe(this,E,Xr).call(this)},undo:()=>{this.color=U,Qe(this,E,Xr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$f=function(R){R/=100;const U=this.opacity;this.addCommands({cmd:()=>{this.opacity=R,Qe(this,E,Xr).call(this)},undo:()=>{this.opacity=U,Qe(this,E,Xr).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Kf=function(){const{parentRotation:R,parentDimensions:[U,X]}=this;switch(R){case 90:return[0,X,X,U];case 180:return[U,X,U,X];case 270:return[U,0,X,U];default:return[0,0,U,X]}},Yc=function(){const{ctx:R,color:U,opacity:X,thickness:J,parentScale:le,scaleFactor:ae}=this;R.lineWidth=J*le/ae,R.lineCap="round",R.lineJoin="round",R.miterLimit=10,R.strokeStyle=`${U}${(0,F.opacityToHex)(X)}`},Qf=function(R,U){this.isEditing=!0,ue(this,C)||(et(this,C,!0),Qe(this,E,As).call(this),this.thickness||(this.thickness=W._defaultThickness),this.color||(this.color=W._defaultColor||h.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=W._defaultOpacity)),this.currentPath.push([R,U]),et(this,_,null),Qe(this,E,Yc).call(this),this.ctx.beginPath(),this.ctx.moveTo(R,U),et(this,w,()=>{ue(this,w)&&(ue(this,_)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Qe(this,E,Xr).call(this),this.ctx.lineTo(...ue(this,_)),et(this,_,null),this.ctx.stroke()),window.requestAnimationFrame(ue(this,w)))}),window.requestAnimationFrame(ue(this,w))},Zf=function(R,U){const[X,J]=this.currentPath.at(-1);R===X&&U===J||(this.currentPath.push([R,U]),et(this,_,[R,U]))},Jf=function(R,U){var _e;this.ctx.closePath(),et(this,w,null),R=Math.min(Math.max(R,0),this.canvas.width),U=Math.min(Math.max(U,0),this.canvas.height);const[X,J]=this.currentPath.at(-1);(R!==X||U!==J)&&this.currentPath.push([R,U]);let le;if(this.currentPath.length!==1)le=(0,T.fitCurve)(this.currentPath,30,null);else{const Ae=[R,U];le=[[Ae,Ae.slice(),Ae.slice(),Ae]]}const ae=Qe(_e=W,k,Qc).call(_e,le);this.currentPath.length=0;const pe=()=>{this.paths.push(le),this.bezierPath2D.push(ae),this.rebuild()},oe=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Qe(this,E,ql).call(this),Qe(this,E,Xl).call(this)),Qe(this,E,_s).call(this))};this.addCommands({cmd:pe,undo:oe,mustExec:!0})},Xr=function(){if(this.isEmpty()){Qe(this,E,Vl).call(this);return}Qe(this,E,Yc).call(this);const{canvas:R,ctx:U}=this;U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,R.width,R.height),Qe(this,E,Vl).call(this);for(const X of this.bezierPath2D)U.stroke(X)},$c=function(R){Qe(this,E,Jf).call(this,R.offsetX,R.offsetY),this.canvas.removeEventListener("pointerleave",ue(this,m)),this.canvas.removeEventListener("pointermove",ue(this,A)),this.addToAnnotationStorage()},ql=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",W._l10nPromise.get("editor_ink_canvas_aria_label").then(R=>{var U;return(U=this.canvas)==null?void 0:U.setAttribute("aria-label",R)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xl=function(){let R=null;et(this,b,new ResizeObserver(U=>{const X=U[0].contentRect;X.width&&X.height&&(R!==null&&clearTimeout(R),R=setTimeout(()=>{this.fixDims(),R=null},O),this.setDimensions(X.width,X.height))})),ue(this,b).observe(this.div)},As=function(){if(!ue(this,C))return;const[R,U]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*R),this.canvas.height=Math.ceil(this.height*U),Qe(this,E,Vl).call(this)},Kc=function(R,U){const X=Qe(this,E,Yl).call(this),J=(R-X)/ue(this,y),le=(U-X)/ue(this,x);this.scaleFactor=Math.min(J,le)},Vl=function(){const R=Qe(this,E,Yl).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+R,this.translationY*this.scaleFactor+R)},k=new WeakSet,Qc=function(R){const U=new Path2D;for(let X=0,J=R.length;X<J;X++){const[le,ae,pe,oe]=R[X];X===0&&U.moveTo(...le),U.bezierCurveTo(ae[0],ae[1],pe[0],pe[1],oe[0],oe[1])}return U},ep=function(R,U,X,J){const ae=[],pe=this.thickness/2;let oe,_e;for(const Ae of this.paths){oe=[],_e=[];for(let ke=0,Me=Ae.length;ke<Me;ke++){const[Fe,Ge,at,De]=Ae[ke],me=R*(Fe[0]+U)+pe,de=J-R*(Fe[1]+X)-pe,Se=R*(Ge[0]+U)+pe,Be=J-R*(Ge[1]+X)-pe,Ze=R*(at[0]+U)+pe,ut=J-R*(at[1]+X)-pe,St=R*(De[0]+U)+pe,We=J-R*(De[1]+X)-pe;ke===0&&(oe.push(me,de),_e.push(me,de)),oe.push(Se,Be,Ze,ut,St,We),Qe(this,E,tp).call(this,me,de,Se,Be,Ze,ut,St,We,4,_e)}ae.push({bezier:oe,points:_e})}return ae},tp=function(R,U,X,J,le,ae,pe,oe,_e,Ae){if(Qe(this,E,np).call(this,R,U,X,J,le,ae,pe,oe)){Ae.push(pe,oe);return}for(let ke=1;ke<_e-1;ke++){const Me=ke/_e,Fe=1-Me;let Ge=Me*R+Fe*X,at=Me*U+Fe*J,De=Me*X+Fe*le,me=Me*J+Fe*ae;const de=Me*le+Fe*pe,Se=Me*ae+Fe*oe;Ge=Me*Ge+Fe*De,at=Me*at+Fe*me,De=Me*De+Fe*de,me=Me*me+Fe*Se,Ge=Me*Ge+Fe*De,at=Me*at+Fe*me,Ae.push(Ge,at)}Ae.push(pe,oe)},np=function(R,U,X,J,le,ae,pe,oe){const Ae=(3*X-2*R-pe)**2,ke=(3*J-2*U-oe)**2,Me=(3*le-R-2*pe)**2,Fe=(3*ae-U-2*oe)**2;return Math.max(Ae,Me)+Math.max(ke,Fe)<=10},Zc=function(){let R=1/0,U=-1/0,X=1/0,J=-1/0;for(const le of this.paths)for(const[ae,pe,oe,_e]of le){const Ae=a.Util.bezierBoundingBox(...ae,...pe,...oe,..._e);R=Math.min(R,Ae[0]),X=Math.min(X,Ae[1]),U=Math.max(U,Ae[2]),J=Math.max(J,Ae[3])}return[R,X,U,J]},Yl=function(){return ue(this,f)?Math.ceil(this.thickness*this.parentScale):0},_s=function(R=!1){if(this.isEmpty())return;if(!ue(this,f)){Qe(this,E,Xr).call(this);return}const U=Qe(this,E,Zc).call(this),X=Qe(this,E,Yl).call(this);et(this,y,Math.max(B,U[2]-U[0])),et(this,x,Math.max(B,U[3]-U[1]));const J=Math.ceil(X+ue(this,y)*this.scaleFactor),le=Math.ceil(X+ue(this,x)*this.scaleFactor),[ae,pe]=this.parentDimensions;this.width=J/ae,this.height=le/pe,et(this,g,J/le),Qe(this,E,Jc).call(this);const oe=this.translationX,_e=this.translationY;this.translationX=-U[0],this.translationY=-U[1],Qe(this,E,As).call(this),Qe(this,E,Xr).call(this),et(this,i,J),et(this,v,le),this.setDims(J,le);const Ae=R?X/this.scaleFactor/2:0;this.translate(oe-this.translationX-Ae,_e-this.translationY-Ae)},Jc=function(){const{style:R}=this.div;ue(this,g)>=1?(R.minHeight=`${B}px`,R.minWidth=`${Math.round(ue(this,g)*B)}px`):(R.minWidth=`${B}px`,R.minHeight=`${Math.round(B/ue(this,g))}px`)},Ye(W,k),kt(W,"_defaultColor",null),kt(W,"_defaultOpacity",1),kt(W,"_defaultThickness",1),kt(W,"_l10nPromise"),kt(W,"_type","ink");let o=W;s.InkEditor=o},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.fitCurve=void 0;const a=l(31);s.fitCurve=a},u=>{function s(m,p,d){if(!Array.isArray(m))throw new TypeError("First argument should be an array");if(m.forEach(b=>{if(!Array.isArray(b)||b.some(i=>typeof i!="number")||b.length!==m[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),m=m.filter((b,i)=>i===0||!b.every((v,w)=>v===m[i-1][w])),m.length<2)return[];const f=m.length,C=x(m[1],m[0]),_=x(m[f-2],m[f-1]);return l(m,C,_,p,d)}function l(m,p,d,f,C){var b,i,v,w,E,I,G,K,he,Ce,be,ve,Z;if(m.length===2)return ve=y.vectorLen(y.subtract(m[0],m[1]))/3,b=[m[0],y.addArrays(m[0],y.mulItems(p,ve)),y.addArrays(m[1],y.mulItems(d,ve)),m[1]],[b];if(i=B(m),[b,w,I]=a(m,i,i,p,d,C),w===0||w<f)return[b];if(w<f*f)for(v=i,E=w,G=I,Z=0;Z<20;Z++){if(v=T(b,m,v),[b,w,I]=a(m,i,v,p,d,C),w<f)return[b];if(I===G){let Q=w/E;if(Q>.9999&&Q<1.0001)break}E=w,G=I}return be=[],K=y.subtract(m[I-1],m[I+1]),K.every(Q=>Q===0)&&(K=y.subtract(m[I-1],m[I]),[K[0],K[1]]=[-K[1],K[0]]),he=y.normalize(K),Ce=y.mulItems(he,-1),be=be.concat(l(m.slice(0,I+1),p,he,f,C)),be=be.concat(l(m.slice(I),Ce,d,f,C)),be}function a(m,p,d,f,C,_){var b,i,v;return b=h(m,d,f,C),[i,v]=O(m,b,p),_&&_({bez:b,points:m,params:p,maxErr:i,maxPoint:v}),[b,i,v]}function h(m,p,d,f){var C,_,b,i,v,w,E,I,G,K,he,Ce,be,ve,Z,Q,ee,fe=m[0],V=m[m.length-1];for(C=[fe,null,null,V],_=y.zeros_Xx2x2(p.length),be=0,ve=p.length;be<ve;be++)Q=p[be],ee=1-Q,b=_[be],b[0]=y.mulItems(d,3*Q*(ee*ee)),b[1]=y.mulItems(f,3*ee*(Q*Q));for(i=[[0,0],[0,0]],v=[0,0],be=0,ve=m.length;be<ve;be++)Q=p[be],b=_[be],i[0][0]+=y.dot(b[0],b[0]),i[0][1]+=y.dot(b[0],b[1]),i[1][0]+=y.dot(b[0],b[1]),i[1][1]+=y.dot(b[1],b[1]),Z=y.subtract(m[be],A.q([fe,fe,V,V],Q)),v[0]+=y.dot(b[0],Z),v[1]+=y.dot(b[1],Z);return w=i[0][0]*i[1][1]-i[1][0]*i[0][1],E=i[0][0]*v[1]-i[1][0]*v[0],I=v[0]*i[1][1]-v[1]*i[0][1],G=w===0?0:I/w,K=w===0?0:E/w,Ce=y.vectorLen(y.subtract(fe,V)),he=1e-6*Ce,G<he||K<he?(C[1]=y.addArrays(fe,y.mulItems(d,Ce/3)),C[2]=y.addArrays(V,y.mulItems(f,Ce/3))):(C[1]=y.addArrays(fe,y.mulItems(d,G)),C[2]=y.addArrays(V,y.mulItems(f,K))),C}function T(m,p,d){return d.map((f,C)=>F(m,p[C],f))}function F(m,p,d){var f=y.subtract(A.q(m,d),p),C=A.qprime(m,d),_=y.mulMatrix(f,C),b=y.sum(y.squareItems(C))+2*y.mulMatrix(f,A.qprimeprime(m,d));return b===0?d:d-_/b}function B(m){var p=[],d,f,C;return m.forEach((_,b)=>{d=b?f+y.vectorLen(y.subtract(_,C)):0,p.push(d),f=d,C=_}),p=p.map(_=>_/f),p}function O(m,p,d){var f,C,_,b,i,v,w,E;C=0,_=Math.floor(m.length/2);const I=o(p,10);for(i=0,v=m.length;i<v;i++)w=m[i],E=g(p,d[i],I,10),b=y.subtract(A.q(p,E),w),f=b[0]*b[0]+b[1]*b[1],f>C&&(C=f,_=i);return[C,_]}var o=function(m,p){for(var d,f=[0],C=m[0],_=0,b=1;b<=p;b++)d=A.q(m,b/p),_+=y.vectorLen(y.subtract(d,C)),f.push(_),C=d;return f=f.map(i=>i/_),f};function g(m,p,d,f){if(p<0)return 0;if(p>1)return 1;for(var C,_,b,i,v,w=1;w<=f;w++)if(p<=d[w]){i=(w-1)/f,b=w/f,_=d[w-1],C=d[w],v=(p-_)/(C-_)*(b-i)+i;break}return v}function x(m,p){return y.normalize(y.subtract(m,p))}class y{static zeros_Xx2x2(p){for(var d=[];p--;)d.push([0,0]);return d}static mulItems(p,d){return p.map(f=>f*d)}static mulMatrix(p,d){return p.reduce((f,C,_)=>f+C*d[_],0)}static subtract(p,d){return p.map((f,C)=>f-d[C])}static addArrays(p,d){return p.map((f,C)=>f+d[C])}static addItems(p,d){return p.map(f=>f+d)}static sum(p){return p.reduce((d,f)=>d+f)}static dot(p,d){return y.mulMatrix(p,d)}static vectorLen(p){return Math.hypot(...p)}static divItems(p,d){return p.map(f=>f/d)}static squareItems(p){return p.map(d=>d*d)}static normalize(p){return this.divItems(p,this.vectorLen(p))}}class A{static q(p,d){var f=1-d,C=y.mulItems(p[0],f*f*f),_=y.mulItems(p[1],3*f*f*d),b=y.mulItems(p[2],3*f*d*d),i=y.mulItems(p[3],d*d*d);return y.addArrays(y.addArrays(C,_),y.addArrays(b,i))}static qprime(p,d){var f=1-d,C=y.mulItems(y.subtract(p[1],p[0]),3*f*f),_=y.mulItems(y.subtract(p[2],p[1]),6*f*d),b=y.mulItems(y.subtract(p[3],p[2]),3*d*d);return y.addArrays(y.addArrays(C,_),b)}static qprimeprime(p,d){return y.addArrays(y.mulItems(y.addArrays(y.subtract(p[2],y.mulItems(p[1],2)),p[0]),6*(1-d)),y.mulItems(y.addArrays(y.subtract(p[3],y.mulItems(p[2],2)),p[1]),6*d))}}u.exports=s,u.exports.fitCubic=l,u.exports.createTangent=x},(u,s,l)=>{var P,Ei,rp,q,ed,td;Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayer=void 0;var a=l(1),h=l(6),T=l(3),F=l(33),B=l(34);const O=1e3,o=9,g=new WeakSet;function x(ce){return{width:ce[2]-ce[0],height:ce[3]-ce[1]}}class y{static create(H){switch(H.data.annotationType){case a.AnnotationType.LINK:return new m(H);case a.AnnotationType.TEXT:return new p(H);case a.AnnotationType.WIDGET:switch(H.data.fieldType){case"Tx":return new f(H);case"Btn":return H.data.radioButton?new _(H):H.data.checkBox?new C(H):new b(H);case"Ch":return new i(H)}return new d(H);case a.AnnotationType.POPUP:return new v(H);case a.AnnotationType.FREETEXT:return new E(H);case a.AnnotationType.LINE:return new I(H);case a.AnnotationType.SQUARE:return new G(H);case a.AnnotationType.CIRCLE:return new K(H);case a.AnnotationType.POLYLINE:return new he(H);case a.AnnotationType.CARET:return new be(H);case a.AnnotationType.INK:return new ve(H);case a.AnnotationType.POLYGON:return new Ce(H);case a.AnnotationType.HIGHLIGHT:return new Z(H);case a.AnnotationType.UNDERLINE:return new Q(H);case a.AnnotationType.SQUIGGLY:return new ee(H);case a.AnnotationType.STRIKEOUT:return new fe(H);case a.AnnotationType.STAMP:return new V(H);case a.AnnotationType.FILEATTACHMENT:return new z(H);default:return new A(H)}}}class A{constructor(H,{isRenderable:W=!1,ignoreBorder:ne=!1,createQuadrilaterals:$=!1}={}){this.isRenderable=W,this.data=H.data,this.layer=H.layer,this.page=H.page,this.viewport=H.viewport,this.linkService=H.linkService,this.downloadManager=H.downloadManager,this.imageResourcesPath=H.imageResourcesPath,this.renderForms=H.renderForms,this.svgFactory=H.svgFactory,this.annotationStorage=H.annotationStorage,this.enableScripting=H.enableScripting,this.hasJSActions=H.hasJSActions,this._fieldObjects=H.fieldObjects,W&&(this.container=this._createContainer(ne)),$&&(this.quadrilaterals=this._createQuadrilaterals(ne))}_createContainer(H=!1){const{data:W,page:ne,viewport:$}=this,R=document.createElement("section");R.setAttribute("data-annotation-id",W.id);const{pageWidth:U,pageHeight:X,pageX:J,pageY:le}=$.rawDims,{width:ae,height:pe}=x(W.rect),oe=a.Util.normalizeRect([W.rect[0],ne.view[3]-W.rect[1]+ne.view[1],W.rect[2],ne.view[3]-W.rect[3]+ne.view[1]]);if(!H&&W.borderStyle.width>0){R.style.borderWidth=`${W.borderStyle.width}px`;const Ae=W.borderStyle.horizontalCornerRadius,ke=W.borderStyle.verticalCornerRadius;if(Ae>0||ke>0){const Fe=`calc(${Ae}px * var(--scale-factor)) / calc(${ke}px * var(--scale-factor))`;R.style.borderRadius=Fe}else if(this instanceof _){const Fe=`calc(${ae}px * var(--scale-factor)) / calc(${pe}px * var(--scale-factor))`;R.style.borderRadius=Fe}switch(W.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:R.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:R.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:R.style.borderBottomStyle="solid";break}const Me=W.borderColor||null;Me?R.style.borderColor=a.Util.makeHexColor(Me[0]|0,Me[1]|0,Me[2]|0):R.style.borderWidth=0}R.style.left=`${100*(oe[0]-J)/U}%`,R.style.top=`${100*(oe[1]-le)/X}%`;const{rotation:_e}=W;return W.hasOwnCanvas||_e===0?(R.style.width=`${100*ae/U}%`,R.style.height=`${100*pe/X}%`):this.setRotation(_e,R),R}setRotation(H,W=this.container){const{pageWidth:ne,pageHeight:$}=this.viewport.rawDims,{width:R,height:U}=x(this.data.rect);let X,J;H%180===0?(X=100*R/ne,J=100*U/$):(X=100*U/ne,J=100*R/$),W.style.width=`${X}%`,W.style.height=`${J}%`,W.setAttribute("data-main-rotation",(360-H)%360)}get _commonActions(){const H=(W,ne,$)=>{const R=$.detail[W];$.target.style[ne]=F.ColorConverters[`${R[0]}_HTML`](R.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:W=>{const ne=W.detail.display%2===1;this.container.style.visibility=ne?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ne,print:W.detail.display===0||W.detail.display===3})},print:W=>{this.annotationStorage.setValue(this.data.id,{print:W.detail.print})},hidden:W=>{this.container.style.visibility=W.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:W.detail.hidden})},focus:W=>{setTimeout(()=>W.target.focus({preventScroll:!1}),0)},userName:W=>{W.target.title=W.detail.userName},readonly:W=>{W.detail.readonly?W.target.setAttribute("readonly",""):W.target.removeAttribute("readonly")},required:W=>{this._setRequired(W.target,W.detail.required)},bgColor:W=>{H("bgColor","backgroundColor",W)},fillColor:W=>{H("fillColor","backgroundColor",W)},fgColor:W=>{H("fgColor","color",W)},textColor:W=>{H("textColor","color",W)},borderColor:W=>{H("borderColor","borderColor",W)},strokeColor:W=>{H("strokeColor","borderColor",W)},rotation:W=>{const ne=W.detail.rotation;this.setRotation(ne),this.annotationStorage.setValue(this.data.id,{rotation:ne})}})}_dispatchEventFromSandbox(H,W){const ne=this._commonActions;for(const $ of Object.keys(W.detail)){const R=H[$]||ne[$];R==null||R(W)}}_setDefaultPropertiesFromJS(H){if(!this.enableScripting)return;const W=this.annotationStorage.getRawValue(this.data.id);if(!W)return;const ne=this._commonActions;for(const[$,R]of Object.entries(W)){const U=ne[$];if(U){const X={detail:{[$]:R},target:H};U(X),delete W[$]}}}_createQuadrilaterals(H=!1){if(!this.data.quadPoints)return null;const W=[],ne=this.data.rect;for(const $ of this.data.quadPoints)this.data.rect=[$[2].x,$[2].y,$[1].x,$[1].y],W.push(this._createContainer(H));return this.data.rect=ne,W}_createPopup(H,W){let ne=this.container;this.quadrilaterals&&(H=H||this.quadrilaterals,ne=this.quadrilaterals[0]),H||(H=document.createElement("div"),H.className="popupTriggerArea",ne.append(H));const R=new w({container:ne,trigger:H,color:W.color,titleObj:W.titleObj,modificationDate:W.modificationDate,contentsObj:W.contentsObj,richText:W.richText,hideWrapper:!0}).render();R.style.left="100%",ne.append(R)}_renderQuadrilaterals(H){for(const W of this.quadrilaterals)W.className=H;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(H,W=null){const ne=[];if(this._fieldObjects){const $=this._fieldObjects[H];if($)for(const{page:R,id:U,exportValues:X}of $){if(R===-1||U===W)continue;const J=typeof X=="string"?X:null,le=document.querySelector(`[data-element-id="${U}"]`);if(le&&!g.has(le)){(0,a.warn)(`_getElementsByName - element not allowed: ${U}`);continue}ne.push({id:U,exportValue:J,domElement:le})}return ne}for(const $ of document.getElementsByName(H)){const{exportValue:R}=$,U=$.getAttribute("data-element-id");U!==W&&g.has($)&&ne.push({id:U,exportValue:R,domElement:$})}return ne}}class m extends A{constructor(W,ne=null){super(W,{isRenderable:!0,ignoreBorder:!!(ne!=null&&ne.ignoreBorder),createQuadrilaterals:!0});Ye(this,P);this.isTooltipOnly=W.data.isTooltipOnly}render(){const{data:W,linkService:ne}=this,$=document.createElement("a");$.setAttribute("data-element-id",W.id);let R=!1;return W.url?(ne.addLinkAttributes($,W.url,W.newWindow),R=!0):W.action?(this._bindNamedAction($,W.action),R=!0):W.attachment?(this._bindAttachment($,W.attachment),R=!0):W.setOCGState?(Qe(this,P,rp).call(this,$,W.setOCGState),R=!0):W.dest?(this._bindLink($,W.dest),R=!0):(W.actions&&(W.actions.Action||W.actions["Mouse Up"]||W.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction($,W),R=!0),W.resetForm?(this._bindResetFormAction($,W.resetForm),R=!0):this.isTooltipOnly&&!R&&(this._bindLink($,""),R=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((U,X)=>{const J=X===0?$:$.cloneNode();return U.append(J),U}):(this.container.className="linkAnnotation",R&&this.container.append($),this.container)}_bindLink(W,ne){W.href=this.linkService.getDestinationHash(ne),W.onclick=()=>(ne&&this.linkService.goToDestination(ne),!1),(ne||ne==="")&&Qe(this,P,Ei).call(this)}_bindNamedAction(W,ne){W.href=this.linkService.getAnchorUrl(""),W.onclick=()=>(this.linkService.executeNamedAction(ne),!1),Qe(this,P,Ei).call(this)}_bindAttachment(W,ne){W.href=this.linkService.getAnchorUrl(""),W.onclick=()=>{var $;return($=this.downloadManager)==null||$.openOrDownloadData(this.container,ne.content,ne.filename),!1},Qe(this,P,Ei).call(this)}_bindJSAction(W,ne){W.href=this.linkService.getAnchorUrl("");const $=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const R of Object.keys(ne.actions)){const U=$.get(R);U&&(W[U]=()=>{var X;return(X=this.linkService.eventBus)==null||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ne.id,name:R}}),!1})}W.onclick||(W.onclick=()=>!1),Qe(this,P,Ei).call(this)}_bindResetFormAction(W,ne){const $=W.onclick;if($||(W.href=this.linkService.getAnchorUrl("")),Qe(this,P,Ei).call(this),!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),$||(W.onclick=()=>!1);return}W.onclick=()=>{var pe;$==null||$();const{fields:R,refs:U,include:X}=ne,J=[];if(R.length!==0||U.length!==0){const oe=new Set(U);for(const _e of R){const Ae=this._fieldObjects[_e]||[];for(const{id:ke}of Ae)oe.add(ke)}for(const _e of Object.values(this._fieldObjects))for(const Ae of _e)oe.has(Ae.id)===X&&J.push(Ae)}else for(const oe of Object.values(this._fieldObjects))J.push(...oe);const le=this.annotationStorage,ae=[];for(const oe of J){const{id:_e}=oe;switch(ae.push(_e),oe.type){case"text":{const ke=oe.defaultValue||"";le.setValue(_e,{value:ke});break}case"checkbox":case"radiobutton":{const ke=oe.defaultValue===oe.exportValues;le.setValue(_e,{value:ke});break}case"combobox":case"listbox":{const ke=oe.defaultValue||"";le.setValue(_e,{value:ke});break}default:continue}const Ae=document.querySelector(`[data-element-id="${_e}"]`);if(Ae){if(!g.has(Ae)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${_e}`);continue}}else continue;Ae.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((pe=this.linkService.eventBus)==null||pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ae,name:"ResetForm"}})),!1}}}P=new WeakSet,Ei=function(){this.container.setAttribute("data-internal-link","")},rp=function(W,ne){W.href=this.linkService.getAnchorUrl(""),W.onclick=()=>(this.linkService.executeSetOCGState(ne),!1),Qe(this,P,Ei).call(this)};class p extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W})}render(){this.container.className="textAnnotation";const H=document.createElement("img");return H.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",H.alt="[{{type}} Annotation]",H.dataset.l10nId="text_annotation_type",H.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(H,this.data),this.container.append(H),this.container}}class d extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(H){const{isWin:W,isMac:ne}=a.FeatureTest.platform;return W&&H.ctrlKey||ne&&H.metaKey}_setEventListener(H,W,ne,$){W.includes("mouse")?H.addEventListener(W,R=>{var U;(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:$(R),shift:R.shiftKey,modifier:this._getKeyModifier(R)}})}):H.addEventListener(W,R=>{var U;(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ne,value:$(R)}})})}_setEventListeners(H,W,ne){var $;for(const[R,U]of W)(U==="Action"||($=this.data.actions)!=null&&$[U])&&this._setEventListener(H,R,U,ne)}_setBackgroundColor(H){const W=this.data.backgroundColor||null;H.style.backgroundColor=W===null?"transparent":a.Util.makeHexColor(W[0],W[1],W[2])}_setTextStyle(H){const W=["left","center","right"],{fontColor:ne}=this.data.defaultAppearanceData,$=this.data.defaultAppearanceData.fontSize||o,R=H.style;let U;const X=2,J=le=>Math.round(10*le)/10;if(this.data.multiLine){const le=Math.abs(this.data.rect[3]-this.data.rect[1]-X),ae=Math.round(le/(a.LINE_FACTOR*$))||1,pe=le/ae;U=Math.min($,J(pe/a.LINE_FACTOR))}else{const le=Math.abs(this.data.rect[3]-this.data.rect[1]-X);U=Math.min($,J(le/a.LINE_FACTOR))}R.fontSize=`calc(${U}px * var(--scale-factor))`,R.color=a.Util.makeHexColor(ne[0],ne[1],ne[2]),this.data.textAlignment!==null&&(R.textAlign=W[this.data.textAlignment])}_setRequired(H,W){W?H.setAttribute("required",!0):H.removeAttribute("required"),H.setAttribute("aria-required",W)}}class f extends d{constructor(H){const W=H.renderForms||!H.data.hasAppearance&&!!H.data.fieldValue;super(H,{isRenderable:W})}setPropertyOnSiblings(H,W,ne,$){const R=this.annotationStorage;for(const U of this._getElementsByName(H.name,H.id))U.domElement&&(U.domElement[W]=ne),R.setValue(U.id,{[$]:ne})}render(){var $;const H=this.annotationStorage,W=this.data.id;this.container.className="textWidgetAnnotation";let ne=null;if(this.renderForms){const R=H.getValue(W,{value:this.data.fieldValue});let U=R.formattedValue||R.value||"";const X=H.getValue(W,{charLimit:this.data.maxLen}).charLimit;X&&U.length>X&&(U=U.slice(0,X));const J={userValue:U,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ne=document.createElement("textarea"),ne.textContent=U,this.data.doNotScroll&&(ne.style.overflowY="hidden")):(ne=document.createElement("input"),ne.type="text",ne.setAttribute("value",U),this.data.doNotScroll&&(ne.style.overflowX="hidden")),g.add(ne),ne.setAttribute("data-element-id",W),ne.disabled=this.data.readOnly,ne.name=this.data.fieldName,ne.tabIndex=O,this._setRequired(ne,this.data.required),X&&(ne.maxLength=X),ne.addEventListener("input",ae=>{H.setValue(W,{value:ae.target.value}),this.setPropertyOnSiblings(ne,"value",ae.target.value,"value")}),ne.addEventListener("resetform",ae=>{const pe=this.data.defaultFieldValue??"";ne.value=J.userValue=pe,J.formattedValue=null});let le=ae=>{const{formattedValue:pe}=J;pe!=null&&(ae.target.value=pe),ae.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ne.addEventListener("focus",pe=>{const{target:oe}=pe;J.userValue&&(oe.value=J.userValue),J.lastCommittedValue=oe.value,J.commitKey=1}),ne.addEventListener("updatefromsandbox",pe=>{const oe={value(_e){J.userValue=_e.detail.value??"",H.setValue(W,{value:J.userValue.toString()}),_e.target.value=J.userValue},formattedValue(_e){const{formattedValue:Ae}=_e.detail;J.formattedValue=Ae,Ae!=null&&_e.target!==document.activeElement&&(_e.target.value=Ae),H.setValue(W,{formattedValue:Ae})},selRange(_e){_e.target.setSelectionRange(..._e.detail.selRange)},charLimit:_e=>{var Fe;const{charLimit:Ae}=_e.detail,{target:ke}=_e;if(Ae===0){ke.removeAttribute("maxLength");return}ke.setAttribute("maxLength",Ae);let Me=J.userValue;!Me||Me.length<=Ae||(Me=Me.slice(0,Ae),ke.value=J.userValue=Me,H.setValue(W,{value:Me}),(Fe=this.linkService.eventBus)==null||Fe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:W,name:"Keystroke",value:Me,willCommit:!0,commitKey:1,selStart:ke.selectionStart,selEnd:ke.selectionEnd}}))}};this._dispatchEventFromSandbox(oe,pe)}),ne.addEventListener("keydown",pe=>{var Ae;J.commitKey=1;let oe=-1;if(pe.key==="Escape"?oe=0:pe.key==="Enter"&&!this.data.multiLine?oe=2:pe.key==="Tab"&&(J.commitKey=3),oe===-1)return;const{value:_e}=pe.target;J.lastCommittedValue!==_e&&(J.lastCommittedValue=_e,J.userValue=_e,(Ae=this.linkService.eventBus)==null||Ae.dispatch("dispatcheventinsandbox",{source:this,detail:{id:W,name:"Keystroke",value:_e,willCommit:!0,commitKey:oe,selStart:pe.target.selectionStart,selEnd:pe.target.selectionEnd}}))});const ae=le;le=null,ne.addEventListener("blur",pe=>{var _e;if(!pe.relatedTarget)return;const{value:oe}=pe.target;J.userValue=oe,J.lastCommittedValue!==oe&&((_e=this.linkService.eventBus)==null||_e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:W,name:"Keystroke",value:oe,willCommit:!0,commitKey:J.commitKey,selStart:pe.target.selectionStart,selEnd:pe.target.selectionEnd}})),ae(pe)}),($=this.data.actions)!=null&&$.Keystroke&&ne.addEventListener("beforeinput",pe=>{var at;J.lastCommittedValue=null;const{data:oe,target:_e}=pe,{value:Ae,selectionStart:ke,selectionEnd:Me}=_e;let Fe=ke,Ge=Me;switch(pe.inputType){case"deleteWordBackward":{const De=Ae.substring(0,ke).match(/\w*[^\w]*$/);De&&(Fe-=De[0].length);break}case"deleteWordForward":{const De=Ae.substring(ke).match(/^[^\w]*\w*/);De&&(Ge+=De[0].length);break}case"deleteContentBackward":ke===Me&&(Fe-=1);break;case"deleteContentForward":ke===Me&&(Ge+=1);break}pe.preventDefault(),(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:W,name:"Keystroke",value:Ae,change:oe||"",willCommit:!1,selStart:Fe,selEnd:Ge}})}),this._setEventListeners(ne,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pe=>pe.target.value)}if(le&&ne.addEventListener("blur",le),this.data.comb){const pe=(this.data.rect[2]-this.data.rect[0])/X;ne.classList.add("comb"),ne.style.letterSpacing=`calc(${pe}px * var(--scale-factor) - 1ch)`}}else ne=document.createElement("div"),ne.textContent=this.data.fieldValue,ne.style.verticalAlign="middle",ne.style.display="table-cell";return this._setTextStyle(ne),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.append(ne),this.container}}class C extends d{constructor(H){super(H,{isRenderable:H.renderForms})}render(){const H=this.annotationStorage,W=this.data,ne=W.id;let $=H.getValue(ne,{value:W.exportValue===W.fieldValue}).value;typeof $=="string"&&($=$!=="Off",H.setValue(ne,{value:$})),this.container.className="buttonWidgetAnnotation checkBox";const R=document.createElement("input");return g.add(R),R.setAttribute("data-element-id",ne),R.disabled=W.readOnly,this._setRequired(R,this.data.required),R.type="checkbox",R.name=W.fieldName,$&&R.setAttribute("checked",!0),R.setAttribute("exportValue",W.exportValue),R.tabIndex=O,R.addEventListener("change",U=>{const{name:X,checked:J}=U.target;for(const le of this._getElementsByName(X,ne)){const ae=J&&le.exportValue===W.exportValue;le.domElement&&(le.domElement.checked=ae),H.setValue(le.id,{value:ae})}H.setValue(ne,{value:J})}),R.addEventListener("resetform",U=>{const X=W.defaultFieldValue||"Off";U.target.checked=X===W.exportValue}),this.enableScripting&&this.hasJSActions&&(R.addEventListener("updatefromsandbox",U=>{const X={value(J){J.target.checked=J.detail.value!=="Off",H.setValue(ne,{value:J.target.checked})}};this._dispatchEventFromSandbox(X,U)}),this._setEventListeners(R,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class _ extends d{constructor(H){super(H,{isRenderable:H.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const H=this.annotationStorage,W=this.data,ne=W.id;let $=H.getValue(ne,{value:W.fieldValue===W.buttonValue}).value;typeof $=="string"&&($=$!==W.buttonValue,H.setValue(ne,{value:$}));const R=document.createElement("input");if(g.add(R),R.setAttribute("data-element-id",ne),R.disabled=W.readOnly,this._setRequired(R,this.data.required),R.type="radio",R.name=W.fieldName,$&&R.setAttribute("checked",!0),R.tabIndex=O,R.addEventListener("change",U=>{const{name:X,checked:J}=U.target;for(const le of this._getElementsByName(X,ne))H.setValue(le.id,{value:!1});H.setValue(ne,{value:J})}),R.addEventListener("resetform",U=>{const X=W.defaultFieldValue;U.target.checked=X!=null&&X===W.buttonValue}),this.enableScripting&&this.hasJSActions){const U=W.buttonValue;R.addEventListener("updatefromsandbox",X=>{const J={value:le=>{const ae=U===le.detail.value;for(const pe of this._getElementsByName(le.target.name)){const oe=ae&&pe.id===ne;pe.domElement&&(pe.domElement.checked=oe),H.setValue(pe.id,{value:oe})}}};this._dispatchEventFromSandbox(J,X)}),this._setEventListeners(R,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)}return this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class b extends m{constructor(H){super(H,{ignoreBorder:H.data.hasAppearance})}render(){const H=super.render();H.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(H.title=this.data.alternativeText);const W=H.lastChild;return this.enableScripting&&this.hasJSActions&&W&&(this._setDefaultPropertiesFromJS(W),W.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({},ne)})),H}}class i extends d{constructor(H){super(H,{isRenderable:H.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const H=this.annotationStorage,W=this.data.id,ne=H.getValue(W,{value:this.data.fieldValue}),$=document.createElement("select");g.add($),$.setAttribute("data-element-id",W),$.disabled=this.data.readOnly,this._setRequired($,this.data.required),$.name=this.data.fieldName,$.tabIndex=O;let R=this.data.combo&&this.data.options.length>0;this.data.combo||($.size=this.data.options.length,this.data.multiSelect&&($.multiple=!0)),$.addEventListener("resetform",ae=>{const pe=this.data.defaultFieldValue;for(const oe of $.options)oe.selected=oe.value===pe});for(const ae of this.data.options){const pe=document.createElement("option");pe.textContent=ae.displayValue,pe.value=ae.exportValue,ne.value.includes(ae.exportValue)&&(pe.setAttribute("selected",!0),R=!1),$.append(pe)}let U=null;if(R){const ae=document.createElement("option");ae.value=" ",ae.setAttribute("hidden",!0),ae.setAttribute("selected",!0),$.prepend(ae),U=()=>{ae.remove(),$.removeEventListener("input",U),U=null},$.addEventListener("input",U)}const X=ae=>{const pe=ae?"value":"textContent",{options:oe,multiple:_e}=$;return _e?Array.prototype.filter.call(oe,Ae=>Ae.selected).map(Ae=>Ae[pe]):oe.selectedIndex===-1?null:oe[oe.selectedIndex][pe]};let J=X(!1);const le=ae=>{const pe=ae.target.options;return Array.prototype.map.call(pe,oe=>({displayValue:oe.textContent,exportValue:oe.value}))};return this.enableScripting&&this.hasJSActions?($.addEventListener("updatefromsandbox",ae=>{const pe={value(oe){U==null||U();const _e=oe.detail.value,Ae=new Set(Array.isArray(_e)?_e:[_e]);for(const ke of $.options)ke.selected=Ae.has(ke.value);H.setValue(W,{value:X(!0)}),J=X(!1)},multipleSelection(oe){$.multiple=!0},remove(oe){const _e=$.options,Ae=oe.detail.remove;_e[Ae].selected=!1,$.remove(Ae),_e.length>0&&Array.prototype.findIndex.call(_e,Me=>Me.selected)===-1&&(_e[0].selected=!0),H.setValue(W,{value:X(!0),items:le(oe)}),J=X(!1)},clear(oe){for(;$.length!==0;)$.remove(0);H.setValue(W,{value:null,items:[]}),J=X(!1)},insert(oe){const{index:_e,displayValue:Ae,exportValue:ke}=oe.detail.insert,Me=$.children[_e],Fe=document.createElement("option");Fe.textContent=Ae,Fe.value=ke,Me?Me.before(Fe):$.append(Fe),H.setValue(W,{value:X(!0),items:le(oe)}),J=X(!1)},items(oe){const{items:_e}=oe.detail;for(;$.length!==0;)$.remove(0);for(const Ae of _e){const{displayValue:ke,exportValue:Me}=Ae,Fe=document.createElement("option");Fe.textContent=ke,Fe.value=Me,$.append(Fe)}$.options.length>0&&($.options[0].selected=!0),H.setValue(W,{value:X(!0),items:le(oe)}),J=X(!1)},indices(oe){const _e=new Set(oe.detail.indices);for(const Ae of oe.target.options)Ae.selected=_e.has(Ae.index);H.setValue(W,{value:X(!0)}),J=X(!1)},editable(oe){oe.target.disabled=!oe.detail.editable}};this._dispatchEventFromSandbox(pe,ae)}),$.addEventListener("input",ae=>{var oe;const pe=X(!0);H.setValue(W,{value:pe}),ae.preventDefault(),(oe=this.linkService.eventBus)==null||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:W,name:"Keystroke",value:J,changeEx:pe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners($,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ae=>ae.target.value)):$.addEventListener("input",function(ae){H.setValue(W,{value:X(!0)})}),this.data.combo&&this._setTextStyle($),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}const j=class j extends A{constructor(H){var $,R,U;const{data:W}=H,ne=!j.IGNORE_TYPES.has(W.parentType)&&!!(($=W.titleObj)!=null&&$.str||(R=W.contentsObj)!=null&&R.str||(U=W.richText)!=null&&U.str);super(H,{isRenderable:ne})}render(){this.container.className="popupAnnotation";const H=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(H.length===0)return this.container;const W=new w({container:this.container,trigger:Array.from(H),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ne=this.page,$=a.Util.normalizeRect([this.data.parentRect[0],ne.view[3]-this.data.parentRect[1]+ne.view[1],this.data.parentRect[2],ne.view[3]-this.data.parentRect[3]+ne.view[1]]),R=$[0]+this.data.parentRect[2]-this.data.parentRect[0],U=$[1],{pageWidth:X,pageHeight:J,pageX:le,pageY:ae}=this.viewport.rawDims;return this.container.style.left=`${100*(R-le)/X}%`,this.container.style.top=`${100*(U-ae)/J}%`,this.container.append(W.render()),this.container}};kt(j,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));let v=j;class w{constructor(H){this.container=H.container,this.trigger=H.trigger,this.color=H.color,this.titleObj=H.titleObj,this.modificationDate=H.modificationDate,this.contentsObj=H.contentsObj,this.richText=H.richText,this.hideWrapper=H.hideWrapper||!1,this.pinned=!1}render(){var X,J;const W=document.createElement("div");W.className="popupWrapper",this.hideElement=this.hideWrapper?W:this.container,this.hideElement.hidden=!0;const ne=document.createElement("div");ne.className="popup";const $=this.color;if($){const le=.7*(255-$[0])+$[0],ae=.7*(255-$[1])+$[1],pe=.7*(255-$[2])+$[2];ne.style.backgroundColor=a.Util.makeHexColor(le|0,ae|0,pe|0)}const R=document.createElement("h1");R.dir=this.titleObj.dir,R.textContent=this.titleObj.str,ne.append(R);const U=h.PDFDateString.toDateObject(this.modificationDate);if(U){const le=document.createElement("span");le.className="popupDate",le.textContent="{{date}}, {{time}}",le.dataset.l10nId="annotation_date_string",le.dataset.l10nArgs=JSON.stringify({date:U.toLocaleDateString(),time:U.toLocaleTimeString()}),ne.append(le)}if((X=this.richText)!=null&&X.str&&(!((J=this.contentsObj)!=null&&J.str)||this.contentsObj.str===this.richText.str))B.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ne}),ne.lastChild.className="richText popupContent";else{const le=this._formatContents(this.contentsObj);ne.append(le)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const le of this.trigger)le.addEventListener("click",this._toggle.bind(this)),le.addEventListener("mouseover",this._show.bind(this,!1)),le.addEventListener("mouseout",this._hide.bind(this,!1));return ne.addEventListener("click",this._hide.bind(this,!0)),W.append(ne),W}_formatContents({str:H,dir:W}){const ne=document.createElement("p");ne.className="popupContent",ne.dir=W;const $=H.split(/(?:\r\n?|\n)/);for(let R=0,U=$.length;R<U;++R){const X=$[R];ne.append(document.createTextNode(X)),R<U-1&&ne.append(document.createElement("br"))}return ne}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(H=!1){H&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(H=!0){H&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class E extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0}),this.textContent=H.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const H=document.createElement("div");H.className="annotationTextContent",H.setAttribute("role","comment");for(const W of this.textContent){const ne=document.createElement("span");ne.textContent=W,H.append(ne)}this.container.append(H)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class I extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const H=this.data,{width:W,height:ne}=x(H.rect),$=this.svgFactory.create(W,ne,!0),R=this.svgFactory.createElement("svg:line");return R.setAttribute("x1",H.rect[2]-H.lineCoordinates[0]),R.setAttribute("y1",H.rect[3]-H.lineCoordinates[1]),R.setAttribute("x2",H.rect[2]-H.lineCoordinates[2]),R.setAttribute("y2",H.rect[3]-H.lineCoordinates[3]),R.setAttribute("stroke-width",H.borderStyle.width||1),R.setAttribute("stroke","transparent"),R.setAttribute("fill","transparent"),$.append(R),this.container.append($),this._createPopup(R,H),this.container}}class G extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const H=this.data,{width:W,height:ne}=x(H.rect),$=this.svgFactory.create(W,ne,!0),R=H.borderStyle.width,U=this.svgFactory.createElement("svg:rect");return U.setAttribute("x",R/2),U.setAttribute("y",R/2),U.setAttribute("width",W-R),U.setAttribute("height",ne-R),U.setAttribute("stroke-width",R||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),$.append(U),this.container.append($),this._createPopup(U,H),this.container}}class K extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const H=this.data,{width:W,height:ne}=x(H.rect),$=this.svgFactory.create(W,ne,!0),R=H.borderStyle.width,U=this.svgFactory.createElement("svg:ellipse");return U.setAttribute("cx",W/2),U.setAttribute("cy",ne/2),U.setAttribute("rx",W/2-R/2),U.setAttribute("ry",ne/2-R/2),U.setAttribute("stroke-width",R||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),$.append(U),this.container.append($),this._createPopup(U,H),this.container}}class he extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const H=this.data,{width:W,height:ne}=x(H.rect),$=this.svgFactory.create(W,ne,!0);let R=[];for(const X of H.vertices){const J=X.x-H.rect[0],le=H.rect[3]-X.y;R.push(J+","+le)}R=R.join(" ");const U=this.svgFactory.createElement(this.svgElementName);return U.setAttribute("points",R),U.setAttribute("stroke-width",H.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),$.append(U),this.container.append($),this._createPopup(U,H),this.container}}class Ce extends he{constructor(H){super(H),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class be extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ve extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const H=this.data,{width:W,height:ne}=x(H.rect),$=this.svgFactory.create(W,ne,!0);for(const R of H.inkLists){let U=[];for(const J of R){const le=J.x-H.rect[0],ae=H.rect[3]-J.y;U.push(`${le},${ae}`)}U=U.join(" ");const X=this.svgFactory.createElement(this.svgElementName);X.setAttribute("points",U),X.setAttribute("stroke-width",H.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),this._createPopup(X,H),$.append(X)}return this.container.append($),this.container}}class Z extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Q extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ee extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class fe extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class V extends A{constructor(H){var ne,$,R;const W=!!(H.data.hasPopup||(ne=H.data.titleObj)!=null&&ne.str||($=H.data.contentsObj)!=null&&$.str||(R=H.data.richText)!=null&&R.str);super(H,{isRenderable:W,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends A{constructor(H){var $;super(H,{isRenderable:!0});const{filename:W,content:ne}=this.data.file;this.filename=(0,h.getFilenameFromUrl)(W,!0),this.content=ne,($=this.linkService.eventBus)==null||$.dispatch("fileattachmentannotation",{source:this,filename:W,content:ne})}render(){var W,ne;this.container.className="fileAttachmentAnnotation";let H;return this.data.hasAppearance?H=document.createElement("div"):(H=document.createElement("img"),H.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),H.className="popupTriggerArea",H.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((W=this.data.titleObj)!=null&&W.str||(ne=this.data.contentsObj)!=null&&ne.str||this.data.richText)&&this._createPopup(H,this.data),this.container.append(H),this.container}_download(){var H;(H=this.downloadManager)==null||H.openOrDownloadData(this.container,this.content,this.filename)}}const re=class re{static render(H){var J,le;const{annotations:W,div:ne,viewport:$,accessibilityManager:R}=H;(0,h.setLayerDimensions)(ne,$);const U={data:null,layer:ne,page:H.page,viewport:$,linkService:H.linkService,downloadManager:H.downloadManager,imageResourcesPath:H.imageResourcesPath||"",renderForms:H.renderForms!==!1,svgFactory:new h.DOMSVGFactory,annotationStorage:H.annotationStorage||new T.AnnotationStorage,enableScripting:H.enableScripting===!0,hasJSActions:H.hasJSActions,fieldObjects:H.fieldObjects};let X=0;for(const ae of W){if(ae.annotationType!==a.AnnotationType.POPUP){const{width:_e,height:Ae}=x(ae.rect);if(_e<=0||Ae<=0)continue}U.data=ae;const pe=y.create(U);if(!pe.isRenderable)continue;const oe=pe.render();if(ae.hidden&&(oe.style.visibility="hidden"),Array.isArray(oe))for(const _e of oe)_e.style.zIndex=X++,Qe(J=re,q,ed).call(J,_e,ae.id,ne,R);else oe.style.zIndex=X++,pe instanceof v?ne.prepend(oe):Qe(le=re,q,ed).call(le,oe,ae.id,ne,R)}Qe(this,q,td).call(this,ne,H.annotationCanvasMap)}static update(H){const{annotationCanvasMap:W,div:ne,viewport:$}=H;(0,h.setLayerDimensions)(ne,{rotation:$.rotation}),Qe(this,q,td).call(this,ne,W),ne.hidden=!1}};q=new WeakSet,ed=function(H,W,ne,$){const R=H.firstChild||H;R.id=`${h.AnnotationPrefix}${W}`,ne.append(H),$==null||$.moveElementInDOM(ne,H,R,!1)},td=function(H,W){if(W){for(const[ne,$]of W){const R=H.querySelector(`[data-annotation-id="${ne}"]`);if(!R)continue;const{firstChild:U}=R;U?U.nodeName==="CANVAS"?U.replaceWith($):U.before($):R.append($)}W.clear()}},Ye(re,q);let L=re;s.AnnotationLayer=L},(u,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorConverters=void 0;function l(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}class a{static CMYK_G([T,F,B,O]){return["G",1-Math.min(1,.3*T+.59*B+.11*F+O)]}static G_CMYK([T]){return["CMYK",0,0,0,1-T]}static G_RGB([T]){return["RGB",T,T,T]}static G_HTML([T]){const F=l(T);return`#${F}${F}${F}`}static RGB_G([T,F,B]){return["G",.3*T+.59*F+.11*B]}static RGB_HTML([T,F,B]){const O=l(T),o=l(F),g=l(B);return`#${O}${o}${g}`}static T_HTML(){return"#00000000"}static CMYK_RGB([T,F,B,O]){return["RGB",1-Math.min(1,T+O),1-Math.min(1,B+O),1-Math.min(1,F+O)]}static CMYK_HTML(T){const F=this.CMYK_RGB(T).slice(1);return this.RGB_HTML(F)}static RGB_CMYK([T,F,B]){const O=1-T,o=1-F,g=1-B,x=Math.min(O,o,g);return["CMYK",O,o,g,x]}}s.ColorConverters=a},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayer=void 0;var a=l(19);class h{static setupStorage(F,B,O,o,g){const x=o.getValue(B,{value:null});switch(O.name){case"textarea":if(x.value!==null&&(F.textContent=x.value),g==="print")break;F.addEventListener("input",y=>{o.setValue(B,{value:y.target.value})});break;case"input":if(O.attributes.type==="radio"||O.attributes.type==="checkbox"){if(x.value===O.attributes.xfaOn?F.setAttribute("checked",!0):x.value===O.attributes.xfaOff&&F.removeAttribute("checked"),g==="print")break;F.addEventListener("change",y=>{o.setValue(B,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&F.setAttribute("value",x.value),g==="print")break;F.addEventListener("input",y=>{o.setValue(B,{value:y.target.value})})}break;case"select":if(x.value!==null)for(const y of O.children)y.attributes.value===x.value&&(y.attributes.selected=!0);F.addEventListener("input",y=>{const A=y.target.options,m=A.selectedIndex===-1?"":A[A.selectedIndex].value;o.setValue(B,{value:m})});break}}static setAttributes({html:F,element:B,storage:O=null,intent:o,linkService:g}){const{attributes:x}=B,y=F instanceof HTMLAnchorElement;x.type==="radio"&&(x.name=`${x.name}-${o}`);for(const[A,m]of Object.entries(x))if(m!=null)switch(A){case"class":m.length&&F.setAttribute(A,m.join(" "));break;case"dataId":break;case"id":F.setAttribute("data-element-id",m);break;case"style":Object.assign(F.style,m);break;case"textContent":F.textContent=m;break;default:(!y||A!=="href"&&A!=="newWindow")&&F.setAttribute(A,m)}y&&g.addLinkAttributes(F,x.href,x.newWindow),O&&x.dataId&&this.setupStorage(F,x.dataId,B,O)}static render(F){var p;const B=F.annotationStorage,O=F.linkService,o=F.xfaHtml,g=F.intent||"display",x=document.createElement(o.name);o.attributes&&this.setAttributes({html:x,element:o,intent:g,linkService:O});const y=[[o,-1,x]],A=F.div;if(A.append(x),F.viewport){const d=`matrix(${F.viewport.transform.join(",")})`;A.style.transform=d}g!=="richText"&&A.setAttribute("class","xfaLayer xfaFont");const m=[];for(;y.length>0;){const[d,f,C]=y.at(-1);if(f+1===d.children.length){y.pop();continue}const _=d.children[++y.at(-1)[1]];if(_===null)continue;const{name:b}=_;if(b==="#text"){const v=document.createTextNode(_.value);m.push(v),C.append(v);continue}let i;if((p=_==null?void 0:_.attributes)!=null&&p.xmlns?i=document.createElementNS(_.attributes.xmlns,b):i=document.createElement(b),C.append(i),_.attributes&&this.setAttributes({html:i,element:_,storage:B,intent:g,linkService:O}),_.children&&_.children.length>0)y.push([_,-1,i]);else if(_.value){const v=document.createTextNode(_.value);a.XfaText.shouldBuildText(b)&&m.push(v),i.append(v)}}for(const d of A.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:m}}static update(F){const B=`matrix(${F.viewport.transform.join(",")})`;F.div.style.transform=B,F.div.hidden=!1}}s.XfaLayer=h},(u,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SVGGraphics=void 0;var a=l(6),h=l(1),T=l(10);let F=class{constructor(){(0,h.unreachable)("Not implemented: SVGGraphics")}};s.SVGGraphics=F;{let p=function(i){let v=[];const w=[];for(const E of i){if(E.fn==="save"){v.push({fnId:92,fn:"group",items:[]}),w.push(v),v=v.at(-1).items;continue}E.fn==="restore"?v=w.pop():v.push(E)}return v},d=function(i){if(Number.isInteger(i))return i.toString();const v=i.toFixed(10);let w=v.length-1;if(v[w]!=="0")return v;do w--;while(v[w]==="0");return v.substring(0,v[w]==="."?w:w+1)},f=function(i){if(i[4]===0&&i[5]===0){if(i[1]===0&&i[2]===0)return i[0]===1&&i[3]===1?"":`scale(${d(i[0])} ${d(i[3])})`;if(i[0]===i[3]&&i[1]===-i[2]){const v=Math.acos(i[0])*180/Math.PI;return`rotate(${d(v)})`}}else if(i[0]===1&&i[1]===0&&i[2]===0&&i[3]===1)return`translate(${d(i[4])} ${d(i[5])})`;return`matrix(${d(i[0])} ${d(i[1])} ${d(i[2])} ${d(i[3])} ${d(i[4])} ${d(i[5])})`};const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},O="http://www.w3.org/XML/1998/namespace",o="http://www.w3.org/1999/xlink",g=["butt","round","square"],x=["miter","round","bevel"],y=function(i,v="",w=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!w)return URL.createObjectURL(new Blob([i],{type:v}));const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let I=`data:${v};base64,`;for(let G=0,K=i.length;G<K;G+=3){const he=i[G]&255,Ce=i[G+1]&255,be=i[G+2]&255,ve=he>>2,Z=(he&3)<<4|Ce>>4,Q=G+1<K?(Ce&15)<<2|be>>6:64,ee=G+2<K?be&63:64;I+=E[ve]+E[Z]+E[Q]+E[ee]}return I},A=function(){const i=new Uint8Array([137,80,78,71,13,10,26,10]),v=12,w=new Int32Array(256);for(let be=0;be<256;be++){let ve=be;for(let Z=0;Z<8;Z++)ve&1?ve=3988292384^ve>>1&2147483647:ve=ve>>1&2147483647;w[be]=ve}function E(be,ve,Z){let Q=-1;for(let ee=ve;ee<Z;ee++){const fe=(Q^be[ee])&255,V=w[fe];Q=Q>>>8^V}return Q^-1}function I(be,ve,Z,Q){let ee=Q;const fe=ve.length;Z[ee]=fe>>24&255,Z[ee+1]=fe>>16&255,Z[ee+2]=fe>>8&255,Z[ee+3]=fe&255,ee+=4,Z[ee]=be.charCodeAt(0)&255,Z[ee+1]=be.charCodeAt(1)&255,Z[ee+2]=be.charCodeAt(2)&255,Z[ee+3]=be.charCodeAt(3)&255,ee+=4,Z.set(ve,ee),ee+=ve.length;const V=E(Z,Q+4,ee);Z[ee]=V>>24&255,Z[ee+1]=V>>16&255,Z[ee+2]=V>>8&255,Z[ee+3]=V&255}function G(be,ve,Z){let Q=1,ee=0;for(let fe=ve;fe<Z;++fe)Q=(Q+(be[fe]&255))%65521,ee=(ee+Q)%65521;return ee<<16|Q}function K(be){if(!T.isNodeJS)return he(be);try{let ve;parseInt(process.versions.node)>=8?ve=be:ve=Buffer.from(be);const Z=require$$5.deflateSync(ve,{level:9});return Z instanceof Uint8Array?Z:new Uint8Array(Z)}catch(ve){(0,h.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ve)}return he(be)}function he(be){let ve=be.length;const Z=65535,Q=Math.ceil(ve/Z),ee=new Uint8Array(2+ve+Q*5+4);let fe=0;ee[fe++]=120,ee[fe++]=156;let V=0;for(;ve>Z;)ee[fe++]=0,ee[fe++]=255,ee[fe++]=255,ee[fe++]=0,ee[fe++]=0,ee.set(be.subarray(V,V+Z),fe),fe+=Z,V+=Z,ve-=Z;ee[fe++]=1,ee[fe++]=ve&255,ee[fe++]=ve>>8&255,ee[fe++]=~ve&65535&255,ee[fe++]=(~ve&65535)>>8&255,ee.set(be.subarray(V),fe),fe+=be.length-V;const z=G(be,0,be.length);return ee[fe++]=z>>24&255,ee[fe++]=z>>16&255,ee[fe++]=z>>8&255,ee[fe++]=z&255,ee}function Ce(be,ve,Z,Q){const ee=be.width,fe=be.height;let V,z,L;const P=be.data;switch(ve){case h.ImageKind.GRAYSCALE_1BPP:z=0,V=1,L=ee+7>>3;break;case h.ImageKind.RGB_24BPP:z=2,V=8,L=ee*3;break;case h.ImageKind.RGBA_32BPP:z=6,V=8,L=ee*4;break;default:throw new Error("invalid format")}const k=new Uint8Array((1+L)*fe);let N=0,j=0;for(let H=0;H<fe;++H)k[N++]=0,k.set(P.subarray(j,j+L),N),j+=L,N+=L;if(ve===h.ImageKind.GRAYSCALE_1BPP&&Q){N=0;for(let H=0;H<fe;H++){N++;for(let W=0;W<L;W++)k[N++]^=255}}const q=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,ee&255,fe>>24&255,fe>>16&255,fe>>8&255,fe&255,V,z,0,0,0]),te=K(k),se=i.length+v*3+q.length+te.length,re=new Uint8Array(se);let ce=0;return re.set(i,ce),ce+=i.length,I("IHDR",q,re,ce),ce+=v+q.length,I("IDATA",te,re,ce),ce+=v+te.length,I("IEND",new Uint8Array(0),re,ce),y(re,"image/png",Z)}return function(ve,Z,Q){const ee=ve.kind===void 0?h.ImageKind.GRAYSCALE_1BPP:ve.kind;return Ce(ve,ee,Z,Q)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=h.IDENTITY_MATRIX,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=h.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(v,w){this.x=v,this.y=w}}let C=0,_=0,b=0;s.SVGGraphics=F=class{constructor(i,v,w=!1){(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new m,this.transformMatrix=h.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=i,this.objs=v,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!w,this._operatorIdMapping=[];for(const E in h.OPS)this._operatorIdMapping[h.OPS[E]]=E}getObject(i,v=null){return typeof i=="string"?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):v}save(){this.transformStack.push(this.transformMatrix);const i=this.current;this.extraStack.push(i),this.current=i.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(i){this.save(),this.executeOpTree(i),this.restore()}loadDependencies(i){const v=i.fnArray,w=i.argsArray;for(let E=0,I=v.length;E<I;E++)if(v[E]===h.OPS.dependency)for(const G of w[E]){const K=G.startsWith("g_")?this.commonObjs:this.objs,he=new Promise(Ce=>{K.get(G,Ce)});this.current.dependencies.push(he)}return Promise.all(this.current.dependencies)}transform(i,v,w,E,I,G){const K=[i,v,w,E,I,G];this.transformMatrix=h.Util.transform(this.transformMatrix,K),this.tgrp=null}getSVG(i,v){this.viewport=v;const w=this._initialize(v);return this.loadDependencies(i).then(()=>(this.transformMatrix=h.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(i)),w))}convertOpList(i){const v=this._operatorIdMapping,w=i.argsArray,E=i.fnArray,I=[];for(let G=0,K=E.length;G<K;G++){const he=E[G];I.push({fnId:he,fn:v[he],args:w[G]})}return p(I)}executeOpTree(i){for(const v of i){const w=v.fn,E=v.fnId,I=v.args;switch(E|0){case h.OPS.beginText:this.beginText();break;case h.OPS.dependency:break;case h.OPS.setLeading:this.setLeading(I);break;case h.OPS.setLeadingMoveText:this.setLeadingMoveText(I[0],I[1]);break;case h.OPS.setFont:this.setFont(I);break;case h.OPS.showText:this.showText(I[0]);break;case h.OPS.showSpacedText:this.showText(I[0]);break;case h.OPS.endText:this.endText();break;case h.OPS.moveText:this.moveText(I[0],I[1]);break;case h.OPS.setCharSpacing:this.setCharSpacing(I[0]);break;case h.OPS.setWordSpacing:this.setWordSpacing(I[0]);break;case h.OPS.setHScale:this.setHScale(I[0]);break;case h.OPS.setTextMatrix:this.setTextMatrix(I[0],I[1],I[2],I[3],I[4],I[5]);break;case h.OPS.setTextRise:this.setTextRise(I[0]);break;case h.OPS.setTextRenderingMode:this.setTextRenderingMode(I[0]);break;case h.OPS.setLineWidth:this.setLineWidth(I[0]);break;case h.OPS.setLineJoin:this.setLineJoin(I[0]);break;case h.OPS.setLineCap:this.setLineCap(I[0]);break;case h.OPS.setMiterLimit:this.setMiterLimit(I[0]);break;case h.OPS.setFillRGBColor:this.setFillRGBColor(I[0],I[1],I[2]);break;case h.OPS.setStrokeRGBColor:this.setStrokeRGBColor(I[0],I[1],I[2]);break;case h.OPS.setStrokeColorN:this.setStrokeColorN(I);break;case h.OPS.setFillColorN:this.setFillColorN(I);break;case h.OPS.shadingFill:this.shadingFill(I[0]);break;case h.OPS.setDash:this.setDash(I[0],I[1]);break;case h.OPS.setRenderingIntent:this.setRenderingIntent(I[0]);break;case h.OPS.setFlatness:this.setFlatness(I[0]);break;case h.OPS.setGState:this.setGState(I[0]);break;case h.OPS.fill:this.fill();break;case h.OPS.eoFill:this.eoFill();break;case h.OPS.stroke:this.stroke();break;case h.OPS.fillStroke:this.fillStroke();break;case h.OPS.eoFillStroke:this.eoFillStroke();break;case h.OPS.clip:this.clip("nonzero");break;case h.OPS.eoClip:this.clip("evenodd");break;case h.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case h.OPS.paintImageXObject:this.paintImageXObject(I[0]);break;case h.OPS.paintInlineImageXObject:this.paintInlineImageXObject(I[0]);break;case h.OPS.paintImageMaskXObject:this.paintImageMaskXObject(I[0]);break;case h.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(I[0],I[1]);break;case h.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case h.OPS.closePath:this.closePath();break;case h.OPS.closeStroke:this.closeStroke();break;case h.OPS.closeFillStroke:this.closeFillStroke();break;case h.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case h.OPS.nextLine:this.nextLine();break;case h.OPS.transform:this.transform(I[0],I[1],I[2],I[3],I[4],I[5]);break;case h.OPS.constructPath:this.constructPath(I[0],I[1]);break;case h.OPS.endPath:this.endPath();break;case 92:this.group(v.items);break;default:(0,h.warn)(`Unimplemented operator ${w}`);break}}}setWordSpacing(i){this.current.wordSpacing=i}setCharSpacing(i){this.current.charSpacing=i}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(i,v,w,E,I,G){const K=this.current;K.textMatrix=K.lineMatrix=[i,v,w,E,I,G],K.textMatrixScale=Math.hypot(i,v),K.x=K.lineX=0,K.y=K.lineY=0,K.xcoords=[],K.ycoords=[],K.tspan=this.svgFactory.createElement("svg:tspan"),K.tspan.setAttributeNS(null,"font-family",K.fontFamily),K.tspan.setAttributeNS(null,"font-size",`${d(K.fontSize)}px`),K.tspan.setAttributeNS(null,"y",d(-K.y)),K.txtElement=this.svgFactory.createElement("svg:text"),K.txtElement.append(K.tspan)}beginText(){const i=this.current;i.x=i.lineX=0,i.y=i.lineY=0,i.textMatrix=h.IDENTITY_MATRIX,i.lineMatrix=h.IDENTITY_MATRIX,i.textMatrixScale=1,i.tspan=this.svgFactory.createElement("svg:tspan"),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtgrp=this.svgFactory.createElement("svg:g"),i.xcoords=[],i.ycoords=[]}moveText(i,v){const w=this.current;w.x=w.lineX+=i,w.y=w.lineY+=v,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${d(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",d(-w.y))}showText(i){const v=this.current,w=v.font,E=v.fontSize;if(E===0)return;const I=v.fontSizeScale,G=v.charSpacing,K=v.wordSpacing,he=v.fontDirection,Ce=v.textHScale*he,be=w.vertical,ve=be?1:-1,Z=w.defaultVMetrics,Q=E*v.fontMatrix[0];let ee=0;for(const z of i){if(z===null){ee+=he*K;continue}else if(typeof z=="number"){ee+=ve*z*E/1e3;continue}const L=(z.isSpace?K:0)+G,P=z.fontChar;let k,N,j=z.width;if(be){let te;const se=z.vmetric||Z;te=z.vmetric?se[1]:j*.5,te=-te*Q;const re=se[2]*Q;j=se?-se[0]:j,k=te/I,N=(ee+re)/I}else k=ee/I,N=0;(z.isInFont||w.missingFile)&&(v.xcoords.push(v.x+k),be&&v.ycoords.push(-v.y+N),v.tspan.textContent+=P);let q;be?q=j*Q-L*he:q=j*Q+L*he,ee+=q}v.tspan.setAttributeNS(null,"x",v.xcoords.map(d).join(" ")),be?v.tspan.setAttributeNS(null,"y",v.ycoords.map(d).join(" ")):v.tspan.setAttributeNS(null,"y",d(-v.y)),be?v.y-=ee:v.x+=ee*Ce,v.tspan.setAttributeNS(null,"font-family",v.fontFamily),v.tspan.setAttributeNS(null,"font-size",`${d(v.fontSize)}px`),v.fontStyle!==B.fontStyle&&v.tspan.setAttributeNS(null,"font-style",v.fontStyle),v.fontWeight!==B.fontWeight&&v.tspan.setAttributeNS(null,"font-weight",v.fontWeight);const fe=v.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;if(fe===h.TextRenderingMode.FILL||fe===h.TextRenderingMode.FILL_STROKE?(v.fillColor!==B.fillColor&&v.tspan.setAttributeNS(null,"fill",v.fillColor),v.fillAlpha<1&&v.tspan.setAttributeNS(null,"fill-opacity",v.fillAlpha)):v.textRenderingMode===h.TextRenderingMode.ADD_TO_PATH?v.tspan.setAttributeNS(null,"fill","transparent"):v.tspan.setAttributeNS(null,"fill","none"),fe===h.TextRenderingMode.STROKE||fe===h.TextRenderingMode.FILL_STROKE){const z=1/(v.textMatrixScale||1);this._setStrokeAttributes(v.tspan,z)}let V=v.textMatrix;v.textRise!==0&&(V=V.slice(),V[5]+=v.textRise),v.txtElement.setAttributeNS(null,"transform",`${f(V)} scale(${d(Ce)}, -1)`),v.txtElement.setAttributeNS(O,"xml:space","preserve"),v.txtElement.append(v.tspan),v.txtgrp.append(v.txtElement),this._ensureTransformGroup().append(v.txtElement)}setLeadingMoveText(i,v){this.setLeading(-v),this.moveText(i,v)}addFontStyle(i){if(!i.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const v=y(i.data,i.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${i.loadedName}"; src: url(${v}); }
`}setFont(i){const v=this.current,w=this.commonObjs.get(i[0]);let E=i[1];v.font=w,this.embedFonts&&!w.missingFile&&!this.embeddedFonts[w.loadedName]&&(this.addFontStyle(w),this.embeddedFonts[w.loadedName]=w),v.fontMatrix=w.fontMatrix||h.FONT_IDENTITY_MATRIX;let I="normal";w.black?I="900":w.bold&&(I="bold");const G=w.italic?"italic":"normal";E<0?(E=-E,v.fontDirection=-1):v.fontDirection=1,v.fontSize=E,v.fontFamily=w.loadedName,v.fontWeight=I,v.fontStyle=G,v.tspan=this.svgFactory.createElement("svg:tspan"),v.tspan.setAttributeNS(null,"y",d(-v.y)),v.xcoords=[],v.ycoords=[]}endText(){var v;const i=this.current;i.textRenderingMode&h.TextRenderingMode.ADD_TO_PATH_FLAG&&((v=i.txtElement)!=null&&v.hasChildNodes())&&(i.element=i.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(i){i>0&&(this.current.lineWidth=i)}setLineCap(i){this.current.lineCap=g[i]}setLineJoin(i){this.current.lineJoin=x[i]}setMiterLimit(i){this.current.miterLimit=i}setStrokeAlpha(i){this.current.strokeAlpha=i}setStrokeRGBColor(i,v,w){this.current.strokeColor=h.Util.makeHexColor(i,v,w)}setFillAlpha(i){this.current.fillAlpha=i}setFillRGBColor(i,v,w){this.current.fillColor=h.Util.makeHexColor(i,v,w),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(i){this.current.strokeColor=this._makeColorN_Pattern(i)}setFillColorN(i){this.current.fillColor=this._makeColorN_Pattern(i)}shadingFill(i){const v=this.viewport.width,w=this.viewport.height,E=h.Util.inverseTransform(this.transformMatrix),I=h.Util.applyTransform([0,0],E),G=h.Util.applyTransform([0,w],E),K=h.Util.applyTransform([v,0],E),he=h.Util.applyTransform([v,w],E),Ce=Math.min(I[0],G[0],K[0],he[0]),be=Math.min(I[1],G[1],K[1],he[1]),ve=Math.max(I[0],G[0],K[0],he[0]),Z=Math.max(I[1],G[1],K[1],he[1]),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",Ce),Q.setAttributeNS(null,"y",be),Q.setAttributeNS(null,"width",ve-Ce),Q.setAttributeNS(null,"height",Z-be),Q.setAttributeNS(null,"fill",this._makeShadingPattern(i)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(i){return i[0]==="TilingPattern"?this._makeTilingPattern(i):this._makeShadingPattern(i)}_makeTilingPattern(i){const v=i[1],w=i[2],E=i[3]||h.IDENTITY_MATRIX,[I,G,K,he]=i[4],Ce=i[5],be=i[6],ve=i[7],Z=`shading${b++}`,[Q,ee,fe,V]=h.Util.normalizeRect([...h.Util.applyTransform([I,G],E),...h.Util.applyTransform([K,he],E)]),[z,L]=h.Util.singularValueDecompose2dScale(E),P=Ce*z,k=be*L,N=this.svgFactory.createElement("svg:pattern");N.setAttributeNS(null,"id",Z),N.setAttributeNS(null,"patternUnits","userSpaceOnUse"),N.setAttributeNS(null,"width",P),N.setAttributeNS(null,"height",k),N.setAttributeNS(null,"x",`${Q}`),N.setAttributeNS(null,"y",`${ee}`);const j=this.svg,q=this.transformMatrix,te=this.current.fillColor,se=this.current.strokeColor,re=this.svgFactory.create(fe-Q,V-ee);if(this.svg=re,this.transformMatrix=E,ve===2){const ce=h.Util.makeHexColor(...v);this.current.fillColor=ce,this.current.strokeColor=ce}return this.executeOpTree(this.convertOpList(w)),this.svg=j,this.transformMatrix=q,this.current.fillColor=te,this.current.strokeColor=se,N.append(re.childNodes[0]),this.defs.append(N),`url(#${Z})`}_makeShadingPattern(i){switch(typeof i=="string"&&(i=this.objs.get(i)),i[0]){case"RadialAxial":const v=`shading${b++}`,w=i[3];let E;switch(i[1]){case"axial":const I=i[4],G=i[5];E=this.svgFactory.createElement("svg:linearGradient"),E.setAttributeNS(null,"id",v),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"x1",I[0]),E.setAttributeNS(null,"y1",I[1]),E.setAttributeNS(null,"x2",G[0]),E.setAttributeNS(null,"y2",G[1]);break;case"radial":const K=i[4],he=i[5],Ce=i[6],be=i[7];E=this.svgFactory.createElement("svg:radialGradient"),E.setAttributeNS(null,"id",v),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"cx",he[0]),E.setAttributeNS(null,"cy",he[1]),E.setAttributeNS(null,"r",be),E.setAttributeNS(null,"fx",K[0]),E.setAttributeNS(null,"fy",K[1]),E.setAttributeNS(null,"fr",Ce);break;default:throw new Error(`Unknown RadialAxial type: ${i[1]}`)}for(const I of w){const G=this.svgFactory.createElement("svg:stop");G.setAttributeNS(null,"offset",I[0]),G.setAttributeNS(null,"stop-color",I[1]),E.append(G)}return this.defs.append(E),`url(#${v})`;case"Mesh":return(0,h.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${i[0]}`)}}setDash(i,v){this.current.dashArray=i,this.current.dashPhase=v}constructPath(i,v){const w=this.current;let E=w.x,I=w.y,G=[],K=0;for(const he of i)switch(he|0){case h.OPS.rectangle:E=v[K++],I=v[K++];const Ce=v[K++],be=v[K++],ve=E+Ce,Z=I+be;G.push("M",d(E),d(I),"L",d(ve),d(I),"L",d(ve),d(Z),"L",d(E),d(Z),"Z");break;case h.OPS.moveTo:E=v[K++],I=v[K++],G.push("M",d(E),d(I));break;case h.OPS.lineTo:E=v[K++],I=v[K++],G.push("L",d(E),d(I));break;case h.OPS.curveTo:E=v[K+4],I=v[K+5],G.push("C",d(v[K]),d(v[K+1]),d(v[K+2]),d(v[K+3]),d(E),d(I)),K+=6;break;case h.OPS.curveTo2:G.push("C",d(E),d(I),d(v[K]),d(v[K+1]),d(v[K+2]),d(v[K+3])),E=v[K+2],I=v[K+3],K+=4;break;case h.OPS.curveTo3:E=v[K+2],I=v[K+3],G.push("C",d(v[K]),d(v[K+1]),d(E),d(I),d(E),d(I)),K+=4;break;case h.OPS.closePath:G.push("Z");break}G=G.join(" "),w.path&&i.length>0&&i[0]!==h.OPS.rectangle&&i[0]!==h.OPS.moveTo?G=w.path.getAttributeNS(null,"d")+G:(w.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(w.path)),w.path.setAttributeNS(null,"d",G),w.path.setAttributeNS(null,"fill","none"),w.element=w.path,w.setCurrentPoint(E,I)}endPath(){const i=this.current;if(i.path=null,!this.pendingClip)return;if(!i.element){this.pendingClip=null;return}const v=`clippath${C++}`,w=this.svgFactory.createElement("svg:clipPath");w.setAttributeNS(null,"id",v),w.setAttributeNS(null,"transform",f(this.transformMatrix));const E=i.element.cloneNode(!0);if(this.pendingClip==="evenodd"?E.setAttributeNS(null,"clip-rule","evenodd"):E.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,w.append(E),this.defs.append(w),i.activeClipUrl){i.clipGroup=null;for(const I of this.extraStack)I.clipGroup=null;w.setAttributeNS(null,"clip-path",i.activeClipUrl)}i.activeClipUrl=`url(#${v})`,this.tgrp=null}clip(i){this.pendingClip=i}closePath(){const i=this.current;if(i.path){const v=`${i.path.getAttributeNS(null,"d")}Z`;i.path.setAttributeNS(null,"d",v)}}setLeading(i){this.current.leading=-i}setTextRise(i){this.current.textRise=i}setTextRenderingMode(i){this.current.textRenderingMode=i}setHScale(i){this.current.textHScale=i/100}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(const[v,w]of i)switch(v){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w);break;case"CA":this.setStrokeAlpha(w);break;case"ca":this.setFillAlpha(w);break;default:(0,h.warn)(`Unimplemented graphic state operator ${v}`);break}}fill(){const i=this.current;i.element&&(i.element.setAttributeNS(null,"fill",i.fillColor),i.element.setAttributeNS(null,"fill-opacity",i.fillAlpha),this.endPath())}stroke(){const i=this.current;i.element&&(this._setStrokeAttributes(i.element),i.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(i,v=1){const w=this.current;let E=w.dashArray;v!==1&&E.length>0&&(E=E.map(function(I){return v*I})),i.setAttributeNS(null,"stroke",w.strokeColor),i.setAttributeNS(null,"stroke-opacity",w.strokeAlpha),i.setAttributeNS(null,"stroke-miterlimit",d(w.miterLimit)),i.setAttributeNS(null,"stroke-linecap",w.lineCap),i.setAttributeNS(null,"stroke-linejoin",w.lineJoin),i.setAttributeNS(null,"stroke-width",d(v*w.lineWidth)+"px"),i.setAttributeNS(null,"stroke-dasharray",E.map(d).join(" ")),i.setAttributeNS(null,"stroke-dashoffset",d(v*w.dashPhase)+"px")}eoFill(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var i;(i=this.current.element)==null||i.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width","1px"),i.setAttributeNS(null,"height","1px"),i.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(i)}paintImageXObject(i){const v=this.getObject(i);if(!v){(0,h.warn)(`Dependent image with object ID ${i} is not ready yet`);return}this.paintInlineImageXObject(v)}paintInlineImageXObject(i,v){const w=i.width,E=i.height,I=A(i,this.forceDataSchema,!!v),G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",d(w)),G.setAttributeNS(null,"height",d(E)),this.current.element=G,this.clip("nonzero");const K=this.svgFactory.createElement("svg:image");K.setAttributeNS(o,"xlink:href",I),K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y",d(-E)),K.setAttributeNS(null,"width",d(w)+"px"),K.setAttributeNS(null,"height",d(E)+"px"),K.setAttributeNS(null,"transform",`scale(${d(1/w)} ${d(-1/E)})`),v?v.append(K):this._ensureTransformGroup().append(K)}paintImageMaskXObject(i){const v=this.getObject(i.data,i);if(v.bitmap){(0,h.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const w=this.current,E=v.width,I=v.height,G=w.fillColor;w.maskId=`mask${_++}`;const K=this.svgFactory.createElement("svg:mask");K.setAttributeNS(null,"id",w.maskId);const he=this.svgFactory.createElement("svg:rect");he.setAttributeNS(null,"x","0"),he.setAttributeNS(null,"y","0"),he.setAttributeNS(null,"width",d(E)),he.setAttributeNS(null,"height",d(I)),he.setAttributeNS(null,"fill",G),he.setAttributeNS(null,"mask",`url(#${w.maskId})`),this.defs.append(K),this._ensureTransformGroup().append(he),this.paintInlineImageXObject(v,K)}paintFormXObjectBegin(i,v){if(Array.isArray(i)&&i.length===6&&this.transform(i[0],i[1],i[2],i[3],i[4],i[5]),v){const w=v[2]-v[0],E=v[3]-v[1],I=this.svgFactory.createElement("svg:rect");I.setAttributeNS(null,"x",v[0]),I.setAttributeNS(null,"y",v[1]),I.setAttributeNS(null,"width",d(w)),I.setAttributeNS(null,"height",d(E)),this.current.element=I,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(i){const v=this.svgFactory.create(i.width,i.height),w=this.svgFactory.createElement("svg:defs");v.append(w),this.defs=w;const E=this.svgFactory.createElement("svg:g");return E.setAttributeNS(null,"transform",f(i.transform)),v.append(E),this.svg=E,v}_ensureClipGroup(){if(!this.current.clipGroup){const i=this.svgFactory.createElement("svg:g");i.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(i),this.current.clipGroup=i}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",f(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(u){var s=__webpack_module_cache__[u];if(s!==void 0)return s.exports;var l=__webpack_module_cache__[u]={exports:{}};return __webpack_modules__[u](l,l.exports,__w_pdfjs_require__),l.exports}var __webpack_exports__={};return(()=>{var u=__webpack_exports__;Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"AbortException",{enumerable:!0,get:function(){return s.AbortException}}),Object.defineProperty(u,"AnnotationEditorLayer",{enumerable:!0,get:function(){return T.AnnotationEditorLayer}}),Object.defineProperty(u,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return s.AnnotationEditorParamsType}}),Object.defineProperty(u,"AnnotationEditorType",{enumerable:!0,get:function(){return s.AnnotationEditorType}}),Object.defineProperty(u,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return F.AnnotationEditorUIManager}}),Object.defineProperty(u,"AnnotationLayer",{enumerable:!0,get:function(){return B.AnnotationLayer}}),Object.defineProperty(u,"AnnotationMode",{enumerable:!0,get:function(){return s.AnnotationMode}}),Object.defineProperty(u,"CMapCompressionType",{enumerable:!0,get:function(){return s.CMapCompressionType}}),Object.defineProperty(u,"FeatureTest",{enumerable:!0,get:function(){return s.FeatureTest}}),Object.defineProperty(u,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(u,"InvalidPDFException",{enumerable:!0,get:function(){return s.InvalidPDFException}}),Object.defineProperty(u,"MissingPDFException",{enumerable:!0,get:function(){return s.MissingPDFException}}),Object.defineProperty(u,"OPS",{enumerable:!0,get:function(){return s.OPS}}),Object.defineProperty(u,"PDFDataRangeTransport",{enumerable:!0,get:function(){return l.PDFDataRangeTransport}}),Object.defineProperty(u,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(u,"PDFWorker",{enumerable:!0,get:function(){return l.PDFWorker}}),Object.defineProperty(u,"PasswordResponses",{enumerable:!0,get:function(){return s.PasswordResponses}}),Object.defineProperty(u,"PermissionFlag",{enumerable:!0,get:function(){return s.PermissionFlag}}),Object.defineProperty(u,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(u,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(u,"SVGGraphics",{enumerable:!0,get:function(){return o.SVGGraphics}}),Object.defineProperty(u,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return s.UNSUPPORTED_FEATURES}}),Object.defineProperty(u,"UnexpectedResponseException",{enumerable:!0,get:function(){return s.UnexpectedResponseException}}),Object.defineProperty(u,"Util",{enumerable:!0,get:function(){return s.Util}}),Object.defineProperty(u,"VerbosityLevel",{enumerable:!0,get:function(){return s.VerbosityLevel}}),Object.defineProperty(u,"XfaLayer",{enumerable:!0,get:function(){return g.XfaLayer}}),Object.defineProperty(u,"build",{enumerable:!0,get:function(){return l.build}}),Object.defineProperty(u,"createPromiseCapability",{enumerable:!0,get:function(){return s.createPromiseCapability}}),Object.defineProperty(u,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return s.createValidAbsoluteUrl}}),Object.defineProperty(u,"getDocument",{enumerable:!0,get:function(){return l.getDocument}}),Object.defineProperty(u,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(u,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(u,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(u,"isDataScheme",{enumerable:!0,get:function(){return a.isDataScheme}}),Object.defineProperty(u,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(u,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(u,"renderTextLayer",{enumerable:!0,get:function(){return h.renderTextLayer}}),Object.defineProperty(u,"setLayerDimensions",{enumerable:!0,get:function(){return a.setLayerDimensions}}),Object.defineProperty(u,"shadow",{enumerable:!0,get:function(){return s.shadow}}),Object.defineProperty(u,"updateTextLayer",{enumerable:!0,get:function(){return h.updateTextLayer}}),Object.defineProperty(u,"version",{enumerable:!0,get:function(){return l.version}});var s=__w_pdfjs_require__(1),l=__w_pdfjs_require__(2),a=__w_pdfjs_require__(6),h=__w_pdfjs_require__(26),T=__w_pdfjs_require__(27),F=__w_pdfjs_require__(5),B=__w_pdfjs_require__(32),O=__w_pdfjs_require__(14),o=__w_pdfjs_require__(35),g=__w_pdfjs_require__(34)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();const PDFPage=({pdf:u,pageNumber:s,onRectChange:l,containerWidth:a})=>{const h=reactExports.useRef(),[T,F]=reactExports.useState(!1),[B,O]=reactExports.useState(null),o=reactExports.useRef(null);reactExports.useEffect(()=>{if(!u||!a)return;let A=null;return(async()=>{const p=await u.getPage(s),d=p.getViewport({scale:1}),f=a/d.width,C=p.getViewport({scale:f}),_=h.current,b=_.getContext("2d");_.height=C.height,_.width=C.width,A=p.render({canvasContext:b,viewport:C});try{await A.promise}catch(i){i.name!=="RenderingCancelledException"&&console.error(i)}})(),()=>{A!=null&&A.cancel&&A.cancel()}},[u,s,a]);const g=A=>{const m=h.current.getBoundingClientRect();o.current={x:A.clientX-m.left,y:A.clientY-m.top},F(!0),O(null)},x=A=>{if(!T)return;const m=h.current.getBoundingClientRect(),p={x:A.clientX-m.left,y:A.clientY-m.top},d=Math.min(o.current.x,p.x),f=Math.min(o.current.y,p.y),C=Math.abs(o.current.x-p.x),_=Math.abs(o.current.y-p.y),b={x:d,y:f,width:C,height:_,pageNumber:s};O(b),l(b,h.current)},y=()=>{F(!1)};return jsxRuntimeExports.jsxs("div",{style:{position:"relative",marginBottom:20},children:[jsxRuntimeExports.jsx("canvas",{ref:h,onMouseDown:g,onMouseMove:x,onMouseUp:y,style:{border:"0.5px solid rgb(209, 213, 221)",cursor:"crosshair",width:"100%",height:"auto"}}),B&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:B.x,top:B.y,width:B.width,height:B.height,border:"2px dashed red",pointerEvents:"none"}})]})};pdfExports.GlobalWorkerOptions.workerSrc=new URL("/pdf-selector-app/assets/pdf.worker-RyG79FsO.js",import.meta.url).toString();const Selector=()=>{const[u,s]=reactExports.useState(null),[l,a]=reactExports.useState([]),[h,T]=reactExports.useState(null),F=reactExports.useRef({}),[B,O]=reactExports.useState(70),o=reactExports.useRef(),[g,x]=reactExports.useState(0),y=new URLSearchParams(window.location.search).get("fileName");reactExports.useEffect(()=>{if(!y)return;(async()=>{const C=await pdfExports$1.getDocument(`/files/${y}`).promise;s(C)})()},[y]),reactExports.useEffect(()=>{if(!o.current)return;const d=new ResizeObserver(f=>{for(let C of f)x(C.contentRect.width)});return d.observe(o.current),()=>d.disconnect()},[B]);const A=(d,f)=>{T({...d}),f&&(F.current[d.pageNumber]=f)},m=()=>{if(!h)return;const{x:d,y:f,width:C,height:_,pageNumber:b}=h,i=F.current[b];if(!i)return;const v=document.createElement("canvas");v.width=C,v.height=_,v.getContext("2d").drawImage(i,d,f,C,_,0,0,C,_);const E=v.toDataURL("image/png");a(I=>[...I,E]),T(null)},p=d=>{const f=d.clientX,C=B,_=i=>{const v=i.clientX-f,w=C+v/window.innerWidth*100;O(Math.min(90,Math.max(10,w)))},b=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",_),window.addEventListener("mouseup",b)};return jsxRuntimeExports.jsxs("div",{style:{display:"flex",height:"100vh",position:"relative"},children:[jsxRuntimeExports.jsx("div",{ref:o,style:{width:`${B}%`,overflowY:"scroll",borderRight:"2px solid #ccc",padding:10,boxSizing:"border-box"},children:u&&Array.from({length:u.numPages},(d,f)=>jsxRuntimeExports.jsx(PDFPage,{pdf:u,pageNumber:f+1,onRectChange:A,containerWidth:g},f))}),jsxRuntimeExports.jsx("div",{style:{width:5,cursor:"col-resize",backgroundColor:"#eee"},onMouseDown:p}),jsxRuntimeExports.jsxs("div",{style:{width:`${100-B-.5}%`,overflowY:"auto",padding:10,fontFamily:"Montserrat, sans-serif",boxSizing:"border-box"},children:[jsxRuntimeExports.jsx("h2",{children:" :"}),l.length===0&&jsxRuntimeExports.jsx("p",{children:"   "}),l.map((d,f)=>jsxRuntimeExports.jsxs("div",{style:{position:"relative",marginBottom:10},children:[jsxRuntimeExports.jsx("img",{src:d,alt:` ${f+1}`,style:{width:"100%",border:"0.5px solid rgb(209, 213, 221)",borderRadius:4}}),jsxRuntimeExports.jsx("button",{onClick:()=>a(C=>C.filter((_,b)=>b!==f)),style:{position:"absolute",top:5,right:5,background:"rgba(255,0,0,0.8)",color:"white",border:"none",borderRadius:"50%",width:24,height:24,cursor:"pointer",fontWeight:"bold",lineHeight:"20px"},title:"","aria-label":"  ",children:""})]},f))]}),jsxRuntimeExports.jsx("button",{onClick:m,disabled:!h,style:{position:"fixed",bottom:20,left:"50%",transform:"translateX(-50%)",padding:"10px 20px",fontFamily:"Montserrat, sans-serif",fontSize:16,backgroundColor:h?"#007bff":"#ccc",color:"white",border:"none",borderRadius:4,cursor:h?"pointer":"not-allowed",zIndex:9999},children:" "})]})},App=()=>jsxRuntimeExports.jsx(BrowserRouter,{basename:"/pdf-selector-app",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(FileSelector,{})}),jsxRuntimeExports.jsx(Route,{path:"/select",element:jsxRuntimeExports.jsx(Selector,{})})]})});var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var u=requireReact();function s(O,o){return O===o&&(O!==0||1/O===1/o)||O!==O&&o!==o}var l=typeof Object.is=="function"?Object.is:s,a=u.useSyncExternalStore,h=u.useRef,T=u.useEffect,F=u.useMemo,B=u.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(O,o,g,x,y){var A=h(null);if(A.current===null){var m={hasValue:!1,value:null};A.current=m}else m=A.current;A=F(function(){function d(i){if(!f){if(f=!0,C=i,i=x(i),y!==void 0&&m.hasValue){var v=m.value;if(y(v,i))return _=v}return _=i}if(v=_,l(C,i))return v;var w=x(i);return y!==void 0&&y(v,w)?(C=i,v):(C=i,_=w)}var f=!1,C,_,b=g===void 0?null:g;return[function(){return d(o())},b===null?void 0:function(){return d(b())}]},[o,g,x,y]);var p=a(O,A[0],A[1]);return T(function(){m.hasValue=!0,m.value=p},[p]),B(p),p},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(u){u()}function createListenerCollection(){let u=null,s=null;return{clear(){u=null,s=null},notify(){defaultNoopBatch(()=>{let l=u;for(;l;)l.callback(),l=l.next})},get(){const l=[];let a=u;for(;a;)l.push(a),a=a.next;return l},subscribe(l){let a=!0;const h=s={callback:l,next:null,prev:s};return h.prev?h.prev.next=h:u=h,function(){!a||u===null||(a=!1,h.next?h.next.prev=h.prev:s=h.prev,h.prev?h.prev.next=h.next:u=h.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(u,s){let l,a=nullListeners,h=0,T=!1;function F(p){g();const d=a.subscribe(p);let f=!1;return()=>{f||(f=!0,d(),x())}}function B(){a.notify()}function O(){m.onStateChange&&m.onStateChange()}function o(){return T}function g(){h++,l||(l=u.subscribe(O),a=createListenerCollection())}function x(){h--,l&&h===0&&(l(),l=void 0,a.clear(),a=nullListeners)}function y(){T||(T=!0,g())}function A(){T&&(T=!1,x())}const m={addNestedSub:F,notifyNestedSubs:B,handleChangeWrapper:O,isSubscribed:o,trySubscribe:y,tryUnsubscribe:A,getListeners:()=>a};return m}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const u=gT[ContextKey]??(gT[ContextKey]=new Map);let s=u.get(reactExports.createContext);return s||(s=reactExports.createContext(null),u.set(reactExports.createContext,s)),s}var ReactReduxContext=getContext();function Provider(u){const{children:s,context:l,serverState:a,store:h}=u,T=reactExports.useMemo(()=>{const O=createSubscription(h);return{store:h,subscription:O,getServerState:a?()=>a:void 0}},[h,a]),F=reactExports.useMemo(()=>h.getState(),[h]);useIsomorphicLayoutEffect(()=>{const{subscription:O}=T;return O.onStateChange=O.notifyNestedSubs,O.trySubscribe(),F!==h.getState()&&O.notifyNestedSubs(),()=>{O.tryUnsubscribe(),O.onStateChange=void 0}},[T,F]);const B=l||ReactReduxContext;return reactExports.createElement(B.Provider,{value:T},s)}var Provider_default=Provider;function formatProdErrorMessage$1(u){return`Minified Redux error #${u}; visit https://redux.js.org/Errors?code=${u} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$1(u){if(typeof u!="object"||u===null)return!1;let s=u;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(u)===s||Object.getPrototypeOf(u)===null}function createStore(u,s,l){if(typeof u!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof s=="function"&&typeof l=="function"||typeof l=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof s=="function"&&typeof l>"u"&&(l=s,s=void 0),typeof l<"u"){if(typeof l!="function")throw new Error(formatProdErrorMessage$1(1));return l(createStore)(u,s)}let a=u,h=s,T=new Map,F=T,B=0,O=!1;function o(){F===T&&(F=new Map,T.forEach((d,f)=>{F.set(f,d)}))}function g(){if(O)throw new Error(formatProdErrorMessage$1(3));return h}function x(d){if(typeof d!="function")throw new Error(formatProdErrorMessage$1(4));if(O)throw new Error(formatProdErrorMessage$1(5));let f=!0;o();const C=B++;return F.set(C,d),function(){if(f){if(O)throw new Error(formatProdErrorMessage$1(6));f=!1,o(),F.delete(C),T=null}}}function y(d){if(!isPlainObject$1(d))throw new Error(formatProdErrorMessage$1(7));if(typeof d.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof d.type!="string")throw new Error(formatProdErrorMessage$1(17));if(O)throw new Error(formatProdErrorMessage$1(9));try{O=!0,h=a(h,d)}finally{O=!1}return(T=F).forEach(C=>{C()}),d}function A(d){if(typeof d!="function")throw new Error(formatProdErrorMessage$1(10));a=d,y({type:actionTypes_default.REPLACE})}function m(){const d=x;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(formatProdErrorMessage$1(11));function C(){const b=f;b.next&&b.next(g())}return C(),{unsubscribe:d(C)}},[symbol_observable_default](){return this}}}return y({type:actionTypes_default.INIT}),{dispatch:y,subscribe:x,getState:g,replaceReducer:A,[symbol_observable_default]:m}}function assertReducerShape(u){Object.keys(u).forEach(s=>{const l=u[s];if(typeof l(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof l(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(u){const s=Object.keys(u),l={};for(let T=0;T<s.length;T++){const F=s[T];typeof u[F]=="function"&&(l[F]=u[F])}const a=Object.keys(l);let h;try{assertReducerShape(l)}catch(T){h=T}return function(F={},B){if(h)throw h;let O=!1;const o={};for(let g=0;g<a.length;g++){const x=a[g],y=l[x],A=F[x],m=y(A,B);if(typeof m>"u")throw B&&B.type,new Error(formatProdErrorMessage$1(14));o[x]=m,O=O||m!==A}return O=O||a.length!==Object.keys(F).length,O?o:F}}function compose(...u){return u.length===0?s=>s:u.length===1?u[0]:u.reduce((s,l)=>(...a)=>s(l(...a)))}function applyMiddleware(...u){return s=>(l,a)=>{const h=s(l,a);let T=()=>{throw new Error(formatProdErrorMessage$1(15))};const F={getState:h.getState,dispatch:(O,...o)=>T(O,...o)},B=u.map(O=>O(F));return T=compose(...B)(h.dispatch),{...h,dispatch:T}}}function isAction(u){return isPlainObject$1(u)&&"type"in u&&typeof u.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(u,...s){throw new Error(`[Immer] minified error nr: ${u}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(u){return!!u&&!!u[DRAFT_STATE]}function isDraftable(u){var s;return u?isPlainObject(u)||Array.isArray(u)||!!u[DRAFTABLE]||!!((s=u.constructor)!=null&&s[DRAFTABLE])||isMap(u)||isSet(u):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(u){if(!u||typeof u!="object")return!1;const s=getPrototypeOf(u);if(s===null)return!0;const l=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return l===Object?!0:typeof l=="function"&&Function.toString.call(l)===objectCtorString}function each(u,s){getArchtype(u)===0?Reflect.ownKeys(u).forEach(l=>{s(l,u[l],u)}):u.forEach((l,a)=>s(a,l,u))}function getArchtype(u){const s=u[DRAFT_STATE];return s?s.type_:Array.isArray(u)?1:isMap(u)?2:isSet(u)?3:0}function has(u,s){return getArchtype(u)===2?u.has(s):Object.prototype.hasOwnProperty.call(u,s)}function set(u,s,l){const a=getArchtype(u);a===2?u.set(s,l):a===3?u.add(l):u[s]=l}function is(u,s){return u===s?u!==0||1/u===1/s:u!==u&&s!==s}function isMap(u){return u instanceof Map}function isSet(u){return u instanceof Set}function latest(u){return u.copy_||u.base_}function shallowCopy(u,s){if(isMap(u))return new Map(u);if(isSet(u))return new Set(u);if(Array.isArray(u))return Array.prototype.slice.call(u);const l=isPlainObject(u);if(s===!0||s==="class_only"&&!l){const a=Object.getOwnPropertyDescriptors(u);delete a[DRAFT_STATE];let h=Reflect.ownKeys(a);for(let T=0;T<h.length;T++){const F=h[T],B=a[F];B.writable===!1&&(B.writable=!0,B.configurable=!0),(B.get||B.set)&&(a[F]={configurable:!0,writable:!0,enumerable:B.enumerable,value:u[F]})}return Object.create(getPrototypeOf(u),a)}else{const a=getPrototypeOf(u);if(a!==null&&l)return{...u};const h=Object.create(a);return Object.assign(h,u)}}function freeze(u,s=!1){return isFrozen(u)||isDraft(u)||!isDraftable(u)||(getArchtype(u)>1&&(u.set=u.add=u.clear=u.delete=dontMutateFrozenCollections),Object.freeze(u),s&&Object.entries(u).forEach(([l,a])=>freeze(a,!0))),u}function dontMutateFrozenCollections(){die(2)}function isFrozen(u){return Object.isFrozen(u)}var plugins={};function getPlugin(u){const s=plugins[u];return s||die(0,u),s}var currentScope;function getCurrentScope(){return currentScope}function createScope(u,s){return{drafts_:[],parent_:u,immer_:s,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(u,s){s&&(getPlugin("Patches"),u.patches_=[],u.inversePatches_=[],u.patchListener_=s)}function revokeScope(u){leaveScope(u),u.drafts_.forEach(revokeDraft),u.drafts_=null}function leaveScope(u){u===currentScope&&(currentScope=u.parent_)}function enterScope(u){return currentScope=createScope(currentScope,u)}function revokeDraft(u){const s=u[DRAFT_STATE];s.type_===0||s.type_===1?s.revoke_():s.revoked_=!0}function processResult(u,s){s.unfinalizedDrafts_=s.drafts_.length;const l=s.drafts_[0];return u!==void 0&&u!==l?(l[DRAFT_STATE].modified_&&(revokeScope(s),die(4)),isDraftable(u)&&(u=finalize(s,u),s.parent_||maybeFreeze(s,u)),s.patches_&&getPlugin("Patches").generateReplacementPatches_(l[DRAFT_STATE].base_,u,s.patches_,s.inversePatches_)):u=finalize(s,l,[]),revokeScope(s),s.patches_&&s.patchListener_(s.patches_,s.inversePatches_),u!==NOTHING?u:void 0}function finalize(u,s,l){if(isFrozen(s))return s;const a=s[DRAFT_STATE];if(!a)return each(s,(h,T)=>finalizeProperty(u,a,s,h,T,l)),s;if(a.scope_!==u)return s;if(!a.modified_)return maybeFreeze(u,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const h=a.copy_;let T=h,F=!1;a.type_===3&&(T=new Set(h),h.clear(),F=!0),each(T,(B,O)=>finalizeProperty(u,a,h,B,O,l,F)),maybeFreeze(u,h,!1),l&&u.patches_&&getPlugin("Patches").generatePatches_(a,l,u.patches_,u.inversePatches_)}return a.copy_}function finalizeProperty(u,s,l,a,h,T,F){if(isDraft(h)){const B=T&&s&&s.type_!==3&&!has(s.assigned_,a)?T.concat(a):void 0,O=finalize(u,h,B);if(set(l,a,O),isDraft(O))u.canAutoFreeze_=!1;else return}else F&&l.add(h);if(isDraftable(h)&&!isFrozen(h)){if(!u.immer_.autoFreeze_&&u.unfinalizedDrafts_<1)return;finalize(u,h),(!s||!s.scope_.parent_)&&typeof a!="symbol"&&Object.prototype.propertyIsEnumerable.call(l,a)&&maybeFreeze(u,h)}}function maybeFreeze(u,s,l=!1){!u.parent_&&u.immer_.autoFreeze_&&u.canAutoFreeze_&&freeze(s,l)}function createProxyProxy(u,s){const l=Array.isArray(u),a={type_:l?1:0,scope_:s?s.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:s,base_:u,draft_:null,copy_:null,revoke_:null,isManual_:!1};let h=a,T=objectTraps;l&&(h=[a],T=arrayTraps);const{revoke:F,proxy:B}=Proxy.revocable(h,T);return a.draft_=B,a.revoke_=F,B}var objectTraps={get(u,s){if(s===DRAFT_STATE)return u;const l=latest(u);if(!has(l,s))return readPropFromProto(u,l,s);const a=l[s];return u.finalized_||!isDraftable(a)?a:a===peek(u.base_,s)?(prepareCopy(u),u.copy_[s]=createProxy(a,u)):a},has(u,s){return s in latest(u)},ownKeys(u){return Reflect.ownKeys(latest(u))},set(u,s,l){const a=getDescriptorFromProto(latest(u),s);if(a!=null&&a.set)return a.set.call(u.draft_,l),!0;if(!u.modified_){const h=peek(latest(u),s),T=h==null?void 0:h[DRAFT_STATE];if(T&&T.base_===l)return u.copy_[s]=l,u.assigned_[s]=!1,!0;if(is(l,h)&&(l!==void 0||has(u.base_,s)))return!0;prepareCopy(u),markChanged(u)}return u.copy_[s]===l&&(l!==void 0||s in u.copy_)||Number.isNaN(l)&&Number.isNaN(u.copy_[s])||(u.copy_[s]=l,u.assigned_[s]=!0),!0},deleteProperty(u,s){return peek(u.base_,s)!==void 0||s in u.base_?(u.assigned_[s]=!1,prepareCopy(u),markChanged(u)):delete u.assigned_[s],u.copy_&&delete u.copy_[s],!0},getOwnPropertyDescriptor(u,s){const l=latest(u),a=Reflect.getOwnPropertyDescriptor(l,s);return a&&{writable:!0,configurable:u.type_!==1||s!=="length",enumerable:a.enumerable,value:l[s]}},defineProperty(){die(11)},getPrototypeOf(u){return getPrototypeOf(u.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(u,s)=>{arrayTraps[u]=function(){return arguments[0]=arguments[0][0],s.apply(this,arguments)}});arrayTraps.deleteProperty=function(u,s){return arrayTraps.set.call(this,u,s,void 0)};arrayTraps.set=function(u,s,l){return objectTraps.set.call(this,u[0],s,l,u[0])};function peek(u,s){const l=u[DRAFT_STATE];return(l?latest(l):u)[s]}function readPropFromProto(u,s,l){var h;const a=getDescriptorFromProto(s,l);return a?"value"in a?a.value:(h=a.get)==null?void 0:h.call(u.draft_):void 0}function getDescriptorFromProto(u,s){if(!(s in u))return;let l=getPrototypeOf(u);for(;l;){const a=Object.getOwnPropertyDescriptor(l,s);if(a)return a;l=getPrototypeOf(l)}}function markChanged(u){u.modified_||(u.modified_=!0,u.parent_&&markChanged(u.parent_))}function prepareCopy(u){u.copy_||(u.copy_=shallowCopy(u.base_,u.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(u){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(s,l,a)=>{if(typeof s=="function"&&typeof l!="function"){const T=l;l=s;const F=this;return function(O=T,...o){return F.produce(O,g=>l.call(this,g,...o))}}typeof l!="function"&&die(6),a!==void 0&&typeof a!="function"&&die(7);let h;if(isDraftable(s)){const T=enterScope(this),F=createProxy(s,void 0);let B=!0;try{h=l(F),B=!1}finally{B?revokeScope(T):leaveScope(T)}return usePatchesInScope(T,a),processResult(h,T)}else if(!s||typeof s!="object"){if(h=l(s),h===void 0&&(h=s),h===NOTHING&&(h=void 0),this.autoFreeze_&&freeze(h,!0),a){const T=[],F=[];getPlugin("Patches").generateReplacementPatches_(s,h,T,F),a(T,F)}return h}else die(1,s)},this.produceWithPatches=(s,l)=>{if(typeof s=="function")return(F,...B)=>this.produceWithPatches(F,O=>s(O,...B));let a,h;return[this.produce(s,l,(F,B)=>{a=F,h=B}),a,h]},typeof(u==null?void 0:u.autoFreeze)=="boolean"&&this.setAutoFreeze(u.autoFreeze),typeof(u==null?void 0:u.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(u.useStrictShallowCopy)}createDraft(u){isDraftable(u)||die(8),isDraft(u)&&(u=current(u));const s=enterScope(this),l=createProxy(u,void 0);return l[DRAFT_STATE].isManual_=!0,leaveScope(s),l}finishDraft(u,s){const l=u&&u[DRAFT_STATE];(!l||!l.isManual_)&&die(9);const{scope_:a}=l;return usePatchesInScope(a,s),processResult(void 0,a)}setAutoFreeze(u){this.autoFreeze_=u}setUseStrictShallowCopy(u){this.useStrictShallowCopy_=u}applyPatches(u,s){let l;for(l=s.length-1;l>=0;l--){const h=s[l];if(h.path.length===0&&h.op==="replace"){u=h.value;break}}l>-1&&(s=s.slice(l+1));const a=getPlugin("Patches").applyPatches_;return isDraft(u)?a(u,s):this.produce(u,h=>a(h,s))}};function createProxy(u,s){const l=isMap(u)?getPlugin("MapSet").proxyMap_(u,s):isSet(u)?getPlugin("MapSet").proxySet_(u,s):createProxyProxy(u,s);return(s?s.scope_:getCurrentScope()).drafts_.push(l),l}function current(u){return isDraft(u)||die(10,u),currentImpl(u)}function currentImpl(u){if(!isDraftable(u)||isFrozen(u))return u;const s=u[DRAFT_STATE];let l;if(s){if(!s.modified_)return s.base_;s.finalized_=!0,l=shallowCopy(u,s.scope_.immer_.useStrictShallowCopy_)}else l=shallowCopy(u,!0);return each(l,(a,h)=>{set(l,a,currentImpl(h))}),s&&(s.finalized_=!1),l}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function createThunkMiddleware(u){return({dispatch:l,getState:a})=>h=>T=>typeof T=="function"?T(l,a,u):h(T)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function createAction(u,s){function l(...a){if(s){let h=s(...a);if(!h)throw new Error(formatProdErrorMessage(0));return{type:u,payload:h.payload,..."meta"in h&&{meta:h.meta},..."error"in h&&{error:h.error}}}return{type:u,payload:a[0]}}return l.toString=()=>`${u}`,l.type=u,l.match=a=>isAction(a)&&a.type===u,l}var Tuple=class Do extends Array{constructor(...s){super(...s),Object.setPrototypeOf(this,Do.prototype)}static get[Symbol.species](){return Do}concat(...s){return super.concat.apply(this,s)}prepend(...s){return s.length===1&&Array.isArray(s[0])?new Do(...s[0].concat(this)):new Do(...s.concat(this))}};function freezeDraftable(u){return isDraftable(u)?produce(u,()=>{}):u}function getOrInsertComputed(u,s,l){return u.has(s)?u.get(s):u.set(s,l(s)).get(s)}function isBoolean(u){return typeof u=="boolean"}var buildGetDefaultMiddleware=()=>function(s){const{thunk:l=!0,immutableCheck:a=!0,serializableCheck:h=!0,actionCreatorCheck:T=!0}=s??{};let F=new Tuple;return l&&(isBoolean(l)?F.push(thunk):F.push(withExtraArgument(l.extraArgument))),F},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=u=>s=>{setTimeout(s,u)},autoBatchEnhancer=(u={type:"raf"})=>s=>(...l)=>{const a=s(...l);let h=!0,T=!1,F=!1;const B=new Set,O=u.type==="tick"?queueMicrotask:u.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):u.type==="callback"?u.queueNotification:createQueueWithTimer(u.timeout),o=()=>{F=!1,T&&(T=!1,B.forEach(g=>g()))};return Object.assign({},a,{subscribe(g){const x=()=>h&&g(),y=a.subscribe(x);return B.add(g),()=>{y(),B.delete(g)}},dispatch(g){var x;try{return h=!((x=g==null?void 0:g.meta)!=null&&x[SHOULD_AUTOBATCH]),T=!h,T&&(F||(F=!0,O(o))),a.dispatch(g)}finally{h=!0}}})},buildGetDefaultEnhancers=u=>function(l){const{autoBatch:a=!0}=l??{};let h=new Tuple(u);return a&&h.push(autoBatchEnhancer(typeof a=="object"?a:void 0)),h};function configureStore(u){const s=buildGetDefaultMiddleware(),{reducer:l=void 0,middleware:a,devTools:h=!0,preloadedState:T=void 0,enhancers:F=void 0}=u||{};let B;if(typeof l=="function")B=l;else if(isPlainObject$1(l))B=combineReducers(l);else throw new Error(formatProdErrorMessage(1));let O;typeof a=="function"?O=a(s):O=s();let o=compose;h&&(o=composeWithDevTools({trace:!1,...typeof h=="object"&&h}));const g=applyMiddleware(...O),x=buildGetDefaultEnhancers(g);let y=typeof F=="function"?F(x):x();const A=o(...y);return createStore(B,T,A)}function executeReducerBuilderCallback(u){const s={},l=[];let a;const h={addCase(T,F){const B=typeof T=="string"?T:T.type;if(!B)throw new Error(formatProdErrorMessage(28));if(B in s)throw new Error(formatProdErrorMessage(29));return s[B]=F,h},addMatcher(T,F){return l.push({matcher:T,reducer:F}),h},addDefaultCase(T){return a=T,h}};return u(h),[s,l,a]}function isStateFunction(u){return typeof u=="function"}function createReducer(u,s){let[l,a,h]=executeReducerBuilderCallback(s),T;if(isStateFunction(u))T=()=>freezeDraftable(u());else{const B=freezeDraftable(u);T=()=>B}function F(B=T(),O){let o=[l[O.type],...a.filter(({matcher:g})=>g(O)).map(({reducer:g})=>g)];return o.filter(g=>!!g).length===0&&(o=[h]),o.reduce((g,x)=>{if(x)if(isDraft(g)){const A=x(g,O);return A===void 0?g:A}else{if(isDraftable(g))return produce(g,y=>x(y,O));{const y=x(g,O);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},B)}return F.getInitialState=T,F}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(u,s){return`${u}/${s}`}function buildCreateSlice({creators:u}={}){var l;const s=(l=u==null?void 0:u.asyncThunk)==null?void 0:l[asyncThunkSymbol];return function(h){const{name:T,reducerPath:F=T}=h;if(!T)throw new Error(formatProdErrorMessage(11));const B=(typeof h.reducers=="function"?h.reducers(buildReducerCreators()):h.reducers)||{},O=Object.keys(B),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(b,i){const v=typeof b=="string"?b:b.type;if(!v)throw new Error(formatProdErrorMessage(12));if(v in o.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return o.sliceCaseReducersByType[v]=i,g},addMatcher(b,i){return o.sliceMatchers.push({matcher:b,reducer:i}),g},exposeAction(b,i){return o.actionCreators[b]=i,g},exposeCaseReducer(b,i){return o.sliceCaseReducersByName[b]=i,g}};O.forEach(b=>{const i=B[b],v={reducerName:b,type:getType(T,b),createNotation:typeof h.reducers=="function"};isAsyncThunkSliceReducerDefinition(i)?handleThunkCaseReducerDefinition(v,i,g,s):handleNormalReducerDefinition(v,i,g)});function x(){const[b={},i=[],v=void 0]=typeof h.extraReducers=="function"?executeReducerBuilderCallback(h.extraReducers):[h.extraReducers],w={...b,...o.sliceCaseReducersByType};return createReducer(h.initialState,E=>{for(let I in w)E.addCase(I,w[I]);for(let I of o.sliceMatchers)E.addMatcher(I.matcher,I.reducer);for(let I of i)E.addMatcher(I.matcher,I.reducer);v&&E.addDefaultCase(v)})}const y=b=>b,A=new Map,m=new WeakMap;let p;function d(b,i){return p||(p=x()),p(b,i)}function f(){return p||(p=x()),p.getInitialState()}function C(b,i=!1){function v(E){let I=E[b];return typeof I>"u"&&i&&(I=getOrInsertComputed(m,v,f)),I}function w(E=y){const I=getOrInsertComputed(A,i,()=>new WeakMap);return getOrInsertComputed(I,E,()=>{const G={};for(const[K,he]of Object.entries(h.selectors??{}))G[K]=wrapSelector(he,E,()=>getOrInsertComputed(m,E,f),i);return G})}return{reducerPath:b,getSelectors:w,get selectors(){return w(v)},selectSlice:v}}const _={name:T,reducer:d,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:f,...C(F),injectInto(b,{reducerPath:i,...v}={}){const w=i??F;return b.inject({reducerPath:w,reducer:d},v),{..._,...C(w,!0)}}};return _}}function wrapSelector(u,s,l,a){function h(T,...F){let B=s(T);return typeof B>"u"&&a&&(B=l()),u(B,...F)}return h.unwrapped=u,h}var createSlice=buildCreateSlice();function buildReducerCreators(){function u(s,l){return{_reducerDefinitionType:"asyncThunk",payloadCreator:s,...l}}return u.withTypes=()=>u,{reducer(s){return Object.assign({[s.name](...l){return s(...l)}}[s.name],{_reducerDefinitionType:"reducer"})},preparedReducer(s,l){return{_reducerDefinitionType:"reducerWithPrepare",prepare:s,reducer:l}},asyncThunk:u}}function handleNormalReducerDefinition({type:u,reducerName:s,createNotation:l},a,h){let T,F;if("reducer"in a){if(l&&!isCaseReducerWithPrepareDefinition(a))throw new Error(formatProdErrorMessage(17));T=a.reducer,F=a.prepare}else T=a;h.addCase(u,T).exposeCaseReducer(s,T).exposeAction(s,F?createAction(u,F):createAction(u))}function isAsyncThunkSliceReducerDefinition(u){return u._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(u){return u._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:u,reducerName:s},l,a,h){if(!h)throw new Error(formatProdErrorMessage(18));const{payloadCreator:T,fulfilled:F,pending:B,rejected:O,settled:o,options:g}=l,x=h(u,T,g);a.exposeAction(s,x),F&&a.addCase(x.fulfilled,F),B&&a.addCase(x.pending,B),O&&a.addCase(x.rejected,O),o&&a.addMatcher(x.settled,o),a.exposeCaseReducer(s,{fulfilled:F||noop,pending:B||noop,rejected:O||noop,settled:o||noop})}function noop(){}function formatProdErrorMessage(u){return`Minified Redux Toolkit error #${u}; visit https://redux-toolkit.js.org/Errors?code=${u} for the full message or use the non-minified dev environment for full errors. `}const pdfSlice=createSlice({name:"pdf",initialState:{pdfDocument:null,selections:[]},reducers:{setPDF:(u,s)=>{u.pdfDocument=s.payload},addSelection:(u,s)=>{u.selections.push(s.payload)}}}),{setPDF,addSelection}=pdfSlice.actions,pdfReducer=pdfSlice.reducer,store=configureStore({reducer:{pdf:pdfReducer}});ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(App,{})})}));
